const a128_0x57efb6=a128_0x2572;(function(_0x1a3a06,_0x3b7eff){const _0x3b958d=a128_0x2572,_0x18d755=_0x1a3a06();while(!![]){try{const _0x2f3a85=parseInt(_0x3b958d(0x18c))/0x1*(parseInt(_0x3b958d(0x185))/0x2)+parseInt(_0x3b958d(0x175))/0x3*(-parseInt(_0x3b958d(0x15f))/0x4)+-parseInt(_0x3b958d(0x16a))/0x5*(parseInt(_0x3b958d(0x182))/0x6)+parseInt(_0x3b958d(0x15b))/0x7+-parseInt(_0x3b958d(0x157))/0x8*(parseInt(_0x3b958d(0x168))/0x9)+-parseInt(_0x3b958d(0x164))/0xa+parseInt(_0x3b958d(0x16e))/0xb;if(_0x2f3a85===_0x3b7eff)break;else _0x18d755['push'](_0x18d755['shift']());}catch(_0x308664){_0x18d755['push'](_0x18d755['shift']());}}}(a128_0x2b4d,0xb1ec1));const logger=require('../logger')['winstonLogger'],RequestUtils=require(a128_0x57efb6(0x16c));class TestOrderingServerHandler{constructor(_0x4fbc12){const _0x3b2c0d=a128_0x57efb6;this[_0x3b2c0d(0x172)]=_0x4fbc12,this[_0x3b2c0d(0x163)]=0x0,this['defaultTimeout']=0x3c,this['defaultTimeoutInterval']=0x5;}['getSplitTestsAPICallCount'](){const _0x3d7937=a128_0x57efb6;return this[_0x3d7937(0x163)];}['processSplitTestsResponse'](_0x185ac9){const _0x40437e=a128_0x57efb6,_0x3d7d0c={};_0x3d7d0c['VQthR']=_0x40437e(0x16d);const _0xcce76e=_0x3d7d0c;if(!_0x185ac9)return null;const _0x53ac2f={};return _0x53ac2f[_0x40437e(0x177)]=_0x185ac9[_0x40437e(0x177)]||this[_0x40437e(0x193)],_0x53ac2f[_0x40437e(0x189)]=_0x185ac9[_0x40437e(0x189)]||this[_0x40437e(0x16b)],_0x53ac2f[_0x40437e(0x158)]=_0x185ac9[_0x40437e(0x158)],_0x53ac2f[_0x40437e(0x18d)]=_0x185ac9[_0x40437e(0x18d)],logger['debug'](_0x40437e(0x17e)+JSON[_0x40437e(0x173)](_0x185ac9)),logger[_0x40437e(0x179)]('[processSplitTestsResponse]\x20timeout:\x20'+_0x185ac9[_0x40437e(0x177)]+',\x20timeoutInterval:\x20'+_0x185ac9[_0x40437e(0x189)]+_0x40437e(0x18f)+_0x185ac9[_0x40437e(0x158)]+_0x40437e(0x191)+_0x185ac9[_0x40437e(0x18d)]),(!_0x185ac9[_0x40437e(0x177)]||!_0x185ac9[_0x40437e(0x189)]||!_0x185ac9[_0x40437e(0x18d)]||!_0x185ac9[_0x40437e(0x158)])&&logger[_0x40437e(0x179)](_0xcce76e[_0x40437e(0x180)]),_0x53ac2f;}async[a128_0x57efb6(0x15e)](_0x245802,_0x75b0af){const _0x204644=a128_0x57efb6,_0x36934b={'ekSRV':function(_0x27c6a3,_0x22d690){return _0x27c6a3(_0x22d690);}};try{const _0x318bda=_0x36934b[_0x204644(0x159)](parseInt,process[_0x204644(0x153)][_0x204644(0x171)]||'0'),_0x77aae2=_0x36934b[_0x204644(0x159)](parseInt,process[_0x204644(0x153)][_0x204644(0x154)]||'1'),_0xaa5e0c=process[_0x204644(0x153)][_0x204644(0x160)],_0x4d483d={'nodeIndex':_0x318bda,'totalNodes':_0x77aae2,'projectName':this['config'][_0x204644(0x17d)],'buildName':this[_0x204644(0x172)]['buildName'],'buildRunIdentifier':_0xaa5e0c,'orchestrationStrategy':_0x75b0af,'hostInfo':this[_0x204644(0x161)](),'tests':_0x245802['map'](_0x173eff=>({'filePath':_0x173eff}))},_0x442979=await RequestUtils['postSplitFiles'](_0x4d483d);return logger[_0x204644(0x179)](_0x204644(0x167)+JSON[_0x204644(0x173)](_0x442979)),this[_0x204644(0x163)]+=0x1,this[_0x204644(0x184)](_0x442979['body']||{});}catch(_0x4f2d83){return logger[_0x204644(0x179)](_0x204644(0x18b)+(_0x4f2d83[_0x204644(0x156)]||_0x4f2d83['toString']())),null;}}async['getOrderedTestFiles'](_0x261a17){const _0x221311=a128_0x57efb6,_0x41e86d={};_0x41e86d[_0x221311(0x188)]=_0x221311(0x174),_0x41e86d[_0x221311(0x166)]=function(_0x36eb6d,_0xb68252){return _0x36eb6d*_0xb68252;},_0x41e86d['GldLM']=function(_0x4d6965,_0x4c8bda){return _0x4d6965&&_0x4c8bda;},_0x41e86d[_0x221311(0x18e)]=function(_0x5dc0ed,_0x305a4f){return _0x5dc0ed<_0x305a4f;},_0x41e86d['TaFbp']=function(_0x27b969,_0x5d736a){return _0x27b969-_0x5d736a;},_0x41e86d[_0x221311(0x17f)]=_0x221311(0x186),_0x41e86d[_0x221311(0x187)]=function(_0x12fa55,_0x88d148){return _0x12fa55>_0x88d148;};const _0xab3fa3=_0x41e86d;if(!_0x261a17)return null;try{logger[_0x221311(0x179)](_0xab3fa3[_0x221311(0x188)]);const _0x52f8b8=_0x261a17[_0x221311(0x189)]||this[_0x221311(0x16b)],_0x5838d3=_0xab3fa3['YPOqG'](_0x261a17[_0x221311(0x177)]||this[_0x221311(0x193)],0x3e8),_0x59e0e2=_0x261a17[_0x221311(0x18d)],_0x111f5=_0x261a17[_0x221311(0x158)];if(_0xab3fa3['GldLM'](!_0x111f5,!_0x59e0e2))return null;let _0xe317cd=null;const _0x215ad1=Date['now']();while(_0x111f5&&_0xab3fa3['cSCdY'](_0xab3fa3[_0x221311(0x17a)](Date[_0x221311(0x162)](),_0x215ad1),_0x5838d3)){logger[_0x221311(0x179)](_0x221311(0x170)+_0x111f5);const _0xe83910=await RequestUtils['getSplitFiles'](_0x111f5);logger[_0x221311(0x179)](_0x221311(0x176)+JSON[_0x221311(0x173)](_0xe83910)),this['splitTestsAPICallCount']+=0x1;if(_0xe83910&&_0xe83910[_0x221311(0x178)]){_0xe317cd=_0xe83910[_0x221311(0x178)];break;}await new Promise(_0x37fa1c=>setTimeout(_0x37fa1c,_0x52f8b8*0x3e8)),logger[_0x221311(0x179)](_0x221311(0x15d)+_0x52f8b8+_0x221311(0x15c));}if(_0xab3fa3[_0x221311(0x192)](!_0xe317cd,_0x59e0e2)){logger[_0x221311(0x179)](_0xab3fa3[_0x221311(0x17f)]);const _0xf87d7c=await RequestUtils[_0x221311(0x190)](_0x59e0e2);_0xf87d7c&&_0xf87d7c[_0x221311(0x178)]&&(_0xe317cd=_0xf87d7c[_0x221311(0x178)]);}if(_0xe317cd&&_0xab3fa3[_0x221311(0x187)](_0xe317cd[_0x221311(0x17c)],0x0))return _0xe317cd[_0x221311(0x155)](_0x556d94=>_0x556d94['filePath']);return null;}catch(_0x2ccf63){return logger[_0x221311(0x179)]('[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20'+(_0x2ccf63[_0x221311(0x156)]||_0x2ccf63[_0x221311(0x17b)]())),null;}}['_getHostInfo'](){const _0x19c39=a128_0x57efb6,_0x4634b1={'kxOgy':function(_0x22e35b,_0x2eaecc){return _0x22e35b(_0x2eaecc);}},_0x3ee191=_0x4634b1[_0x19c39(0x18a)](require,'os');try{return{'hostname':_0x3ee191['hostname'](),'platform':_0x3ee191[_0x19c39(0x165)](),'release':_0x3ee191[_0x19c39(0x183)](),'arch':_0x3ee191[_0x19c39(0x16f)](),'totalmem':_0x3ee191[_0x19c39(0x15a)](),'freemem':_0x3ee191[_0x19c39(0x169)]()};}catch(_0x24dea0){return{};}}}function a128_0x2572(_0x5a1605,_0x216f54){const _0x2b4da8=a128_0x2b4d();return a128_0x2572=function(_0x25720c,_0x409715){_0x25720c=_0x25720c-0x153;let _0x39026d=_0x2b4da8[_0x25720c];return _0x39026d;},a128_0x2572(_0x5a1605,_0x216f54);}function a128_0x2b4d(){const _0x4a3d89=['1703529vlYjgE','freemem','650345wlpAJR','defaultTimeoutInterval','./requestUtils','[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','26246759fQbBTH','arch','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','BROWSERSTACK_NODE_INDEX','config','stringify','[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files','38289KsQlgm','[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20','timeout','tests','debug','TaFbp','toString','length','projectName','[processSplitTestsResponse]\x20Processing\x20response:\x20','ObIzQ','VQthR','exports','60QswpVL','release','processSplitTestsResponse','1284514nPmESe','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL','pswWQ','sQWjC','timeoutInterval','kxOgy','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','1HyIsck','timeoutUrl','cSCdY',',\x20resultUrl:\x20','getSplitFiles',',\x20timeoutUrl:\x20','GldLM','defaultTimeout','env','BROWSERSTACK_TOTAL_NODE_COUNT','map','stack','24ETNynl','resultUrl','ekSRV','totalmem','9499581ADCLVj','\x20seconds.','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','splitTests','160zMebtd','BROWSERSTACK_BUILD_RUN_IDENTIFIER','_getHostInfo','now','splitTestsAPICallCount','12775870aTGHxU','platform','YPOqG','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20'];a128_0x2b4d=function(){return _0x4a3d89;};return a128_0x2b4d();}module[a128_0x57efb6(0x181)]=TestOrderingServerHandler;