function a124_0x122c(){const _0x6228ce=['message','lMZCy',']\x20Error\x20reading\x20state\x20file:\x20','FailFastFileHelper','txXiH','winstonLogger','25388290LZtkVy','writeFileSync','readState','writeState',']\x20Error\x20writing\x20state\x20file:\x20','closeSync','parse','existsSync','21750WoUwuH','utf8','unlinkSync','stack','from','isArray','uniqueFailedTests','updateAPIFailedCount','lockFilePath',']\x20Error\x20releasing\x20lock:\x20','6RQEbFB','add',']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.','4990045ySnOtr','totalTests','readFileSync','iRlOp','135LCmugy','0|3|4|2|1','code','releaseLock','lastAPIFailedCount','acquireLock','NIXfn','stateFilePath','AnDck','error','recordTestResult','warn','failedTests','4282698qAxXKX','exports','has','openSync','fullName','newState','stringify',']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.','YVXNc','21952yGpftZ',']\x20Error\x20creating\x20state\x20file:\x20','IHtQG','function','805389wKAKbO','../logger','MufLl','EEXIST','status','defaultState','2781GPfpHt','2406936fBFgUN','cSRqU','split','failed'];a124_0x122c=function(){return _0x6228ce;};return a124_0x122c();}const a124_0x301a4a=a124_0x3491;(function(_0x2056f7,_0x220448){const _0x21a4d9=a124_0x3491,_0x34a091=_0x2056f7();while(!![]){try{const _0x3aca1c=parseInt(_0x21a4d9(0x209))/0x1*(-parseInt(_0x21a4d9(0x1f8))/0x2)+-parseInt(_0x21a4d9(0x1df))/0x3+-parseInt(_0x21a4d9(0x1e6))/0x4+parseInt(_0x21a4d9(0x205))/0x5*(parseInt(_0x21a4d9(0x202))/0x6)+parseInt(_0x21a4d9(0x1d2))/0x7+-parseInt(_0x21a4d9(0x1db))/0x8*(parseInt(_0x21a4d9(0x1e5))/0x9)+parseInt(_0x21a4d9(0x1f0))/0xa;if(_0x3aca1c===_0x220448)break;else _0x34a091['push'](_0x34a091['shift']());}catch(_0x46005c){_0x34a091['push'](_0x34a091['shift']());}}}(a124_0x122c,0xeaf82));function a124_0x3491(_0xe7cb21,_0x2a3c0a){const _0x122cd9=a124_0x122c();return a124_0x3491=function(_0x3491a4,_0x4680a8){_0x3491a4=_0x3491a4-0x1c9;let _0x14bd74=_0x122cd9[_0x3491a4];return _0x14bd74;},a124_0x3491(_0xe7cb21,_0x2a3c0a);}const fs=require('fs'),logger=require(a124_0x301a4a(0x1e0))[a124_0x301a4a(0x1ef)],TAG=a124_0x301a4a(0x1ed);class FileHelper{constructor(_0x3a54c9,_0x5ca758,_0x5319fd,_0x5701f5){const _0x56564b=a124_0x301a4a,_0x16dcfe={};_0x16dcfe[_0x56564b(0x1e1)]=_0x56564b(0x20a),_0x16dcfe[_0x56564b(0x1cb)]=_0x56564b(0x1f9);const _0xd37b6d=_0x16dcfe,_0x53bbab=_0xd37b6d[_0x56564b(0x1e1)][_0x56564b(0x1e8)]('|');let _0x92ee44=0x0;while(!![]){switch(_0x53bbab[_0x92ee44++]){case'0':this['failFastConfig']=_0x3a54c9;continue;case'1':if(!fs[_0x56564b(0x1f7)](this['stateFilePath']))try{fs[_0x56564b(0x1f1)](this['stateFilePath'],'{}',_0xd37b6d[_0x56564b(0x1cb)]);}catch(_0x4a142f){logger[_0x56564b(0x1ce)]('['+TAG+_0x56564b(0x1dc)+_0x4a142f[_0x56564b(0x1ea)]+'\x20'+_0x4a142f[_0x56564b(0x1fb)]);}continue;case'2':this[_0x56564b(0x1e4)]=_0x5701f5;continue;case'3':this[_0x56564b(0x1cc)]=_0x5ca758;continue;case'4':this[_0x56564b(0x200)]=_0x5319fd;continue;}break;}}async[a124_0x301a4a(0x1ca)](){const _0x37a36a=a124_0x301a4a,_0xba76a5={};_0xba76a5[_0x37a36a(0x1dd)]=function(_0x32161e,_0x1a6887){return _0x32161e===_0x1a6887;},_0xba76a5[_0x37a36a(0x1ee)]=_0x37a36a(0x1e2);const _0x4ad65d=_0xba76a5;let _0xc0724e;try{return _0xc0724e=fs[_0x37a36a(0x1d5)](this[_0x37a36a(0x200)],'wx'),_0xc0724e;}catch(_0x5ba4ee){if(_0x4ad65d['IHtQG'](_0x5ba4ee[_0x37a36a(0x20b)],_0x4ad65d[_0x37a36a(0x1ee)]))return null;throw _0x5ba4ee;}}async['releaseLock'](_0x5bb747){const _0x323331=a124_0x301a4a;if(_0x5bb747)try{fs[_0x323331(0x1f5)](_0x5bb747),fs[_0x323331(0x1fa)](this[_0x323331(0x200)]);}catch(_0x4d5da4){logger[_0x323331(0x1ce)]('['+TAG+_0x323331(0x201)+_0x4d5da4[_0x323331(0x1ea)]+'\x20'+_0x4d5da4[_0x323331(0x1fb)]);}}[a124_0x301a4a(0x1f2)](){const _0x27b141=a124_0x301a4a,_0x3cc988={};_0x3cc988[_0x27b141(0x208)]=_0x27b141(0x1f9);const _0x5988a1=_0x3cc988;try{const _0xe60d7f=fs[_0x27b141(0x207)](this[_0x27b141(0x1cc)],_0x5988a1[_0x27b141(0x208)]);return JSON[_0x27b141(0x1f6)](_0xe60d7f);}catch(_0x51fea0){return logger[_0x27b141(0x1ce)]('['+TAG+_0x27b141(0x1ec)+_0x51fea0[_0x27b141(0x1ea)]+'\x20'+_0x51fea0[_0x27b141(0x1fb)]),null;}}async[a124_0x301a4a(0x1f3)](_0x366792){const _0x9e6015=a124_0x301a4a,_0x3e0b5f={..._0x366792,'uniqueFailedTests':Array[_0x9e6015(0x1fd)](_0x366792['uniqueFailedTests'])?_0x366792[_0x9e6015(0x1fe)]:Array[_0x9e6015(0x1fc)](_0x366792[_0x9e6015(0x1fe)]||[])};try{fs['writeFileSync'](this[_0x9e6015(0x1cc)],JSON[_0x9e6015(0x1d8)](_0x3e0b5f,null,0x2));}catch(_0x531791){logger[_0x9e6015(0x1ce)]('['+TAG+_0x9e6015(0x1f4)+_0x531791[_0x9e6015(0x1ea)]+'\x20'+_0x531791[_0x9e6015(0x1fb)]);throw _0x531791;}}async[a124_0x301a4a(0x1cf)](_0x3c9e0d,_0xc3b1a8){const _0x34f40c=a124_0x301a4a,_0x5af10e={};_0x5af10e[_0x34f40c(0x1eb)]=function(_0x4835e0,_0x302c2b){return _0x4835e0!==_0x302c2b;},_0x5af10e[_0x34f40c(0x1cd)]=_0x34f40c(0x1de),_0x5af10e[_0x34f40c(0x1e7)]=function(_0x233577,_0x221d73){return _0x233577===_0x221d73;},_0x5af10e[_0x34f40c(0x1da)]=_0x34f40c(0x1e9);const _0x8683ec=_0x5af10e,_0x540e0d=await this['acquireLock']();if(!_0x540e0d)return logger[_0x34f40c(0x1d0)]('['+TAG+_0x34f40c(0x1d9)),{'newState':this[_0x34f40c(0x1f2)]()||this[_0x34f40c(0x1e4)],'isNewFailure':![]};try{let _0x4c5316=this['readState']();!_0x4c5316&&(_0x4c5316=JSON['parse'](JSON['stringify'](this[_0x34f40c(0x1e4)])));if(!_0x4c5316[_0x34f40c(0x1fe)]||_0x8683ec[_0x34f40c(0x1eb)](typeof _0x4c5316[_0x34f40c(0x1fe)][Symbol['iterator']],_0x8683ec[_0x34f40c(0x1cd)]))_0x4c5316[_0x34f40c(0x1fe)]=new Set();else Array[_0x34f40c(0x1fd)](_0x4c5316[_0x34f40c(0x1fe)])&&(_0x4c5316[_0x34f40c(0x1fe)]=new Set(_0x4c5316[_0x34f40c(0x1fe)]));_0x4c5316[_0x34f40c(0x206)]=_0xc3b1a8;let _0x41b1c0=![];_0x8683ec[_0x34f40c(0x1e7)](_0x3c9e0d[_0x34f40c(0x1e3)],_0x8683ec[_0x34f40c(0x1da)])&&(_0x4c5316[_0x34f40c(0x1d1)]+=0x1,!_0x4c5316[_0x34f40c(0x1fe)][_0x34f40c(0x1d4)](_0x3c9e0d[_0x34f40c(0x1d6)])&&(_0x4c5316['uniqueFailedTests'][_0x34f40c(0x203)](_0x3c9e0d[_0x34f40c(0x1d6)]),_0x41b1c0=!![]));await this['writeState'](_0x4c5316);const _0x990aac={};return _0x990aac[_0x34f40c(0x1d7)]=_0x4c5316,_0x990aac['isNewFailure']=_0x41b1c0,_0x990aac;}finally{await this[_0x34f40c(0x20c)](_0x540e0d);}}async[a124_0x301a4a(0x1ff)](_0x585774){const _0x5b2fd6=a124_0x301a4a,_0x125bdb=await this['acquireLock']();if(!_0x125bdb)return logger['warn']('['+TAG+_0x5b2fd6(0x204)),this[_0x5b2fd6(0x1f2)]()||this['defaultState'];try{let _0x1eb6d0=this[_0x5b2fd6(0x1f2)]();return!_0x1eb6d0&&(_0x1eb6d0=JSON[_0x5b2fd6(0x1f6)](JSON[_0x5b2fd6(0x1d8)](this['defaultState']))),_0x1eb6d0[_0x5b2fd6(0x1c9)]=_0x585774,await this[_0x5b2fd6(0x1f3)](_0x1eb6d0),_0x1eb6d0;}finally{await this[_0x5b2fd6(0x20c)](_0x125bdb);}}}module[a124_0x301a4a(0x1d3)]=FileHelper;