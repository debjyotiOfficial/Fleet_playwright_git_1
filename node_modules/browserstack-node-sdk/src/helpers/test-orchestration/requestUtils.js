const a126_0x4d23ae=a126_0x2da9;(function(_0x4b483e,_0x1b7ef3){const _0x3ca23d=a126_0x2da9,_0xd71390=_0x4b483e();while(!![]){try{const _0x229653=-parseInt(_0x3ca23d(0xd2))/0x1+parseInt(_0x3ca23d(0x101))/0x2+-parseInt(_0x3ca23d(0xca))/0x3+-parseInt(_0x3ca23d(0xba))/0x4+parseInt(_0x3ca23d(0xfa))/0x5*(parseInt(_0x3ca23d(0xcb))/0x6)+parseInt(_0x3ca23d(0xbe))/0x7*(parseInt(_0x3ca23d(0xb0))/0x8)+parseInt(_0x3ca23d(0xd4))/0x9;if(_0x229653===_0x1b7ef3)break;else _0xd71390['push'](_0xd71390['shift']());}catch(_0x436c2f){_0xd71390['push'](_0xd71390['shift']());}}}(a126_0x1407,0xc7ec7));function a126_0x2da9(_0x5196ec,_0x140218){const _0x1407a1=a126_0x1407();return a126_0x2da9=function(_0x2da925,_0x558d72){_0x2da925=_0x2da925-0xb0;let _0x45bf0b=_0x1407a1[_0x2da925];return _0x45bf0b;},a126_0x2da9(_0x5196ec,_0x140218);}const https=require(a126_0x4d23ae(0xb4)),{URL}=require('url'),logger=require(a126_0x4d23ae(0xff))['winstonLogger'],{ORCHESTRATION_API_URL,FAILED_TESTS_ENDPOINT,SPLIT_TESTS_ENDPOINT}=require('./constants'),TAG=a126_0x4d23ae(0xf4);class RequestUtils{static async[a126_0x4d23ae(0xe3)](_0x571c8e,_0x36ca44,_0xd83e2d=null){const _0x2b5759=a126_0x4d23ae,_0x1ad433={'HfUXQ':_0x2b5759(0xd3),'xJwHv':_0x2b5759(0xd0),'aSOox':function(_0x3a7c28,_0x202943){return _0x3a7c28(_0x202943);},'cDsbO':function(_0xa46ec,_0x5001d5){return _0xa46ec(_0x5001d5);},'NwfnZ':_0x2b5759(0xc6),'YWSrF':function(_0x509df0,_0x4883d5){return _0x509df0===_0x4883d5;},'iiNYy':_0x2b5759(0xbc),'aHhnB':_0x2b5759(0xf9),'gmjcO':'application/json','YxnJT':function(_0x30bccb,_0x318c5f){return _0x30bccb+_0x318c5f;}},_0x603831=process[_0x2b5759(0xde)][_0x2b5759(0x100)]||'',_0x567206={};_0x567206[_0x2b5759(0xce)]=_0x2b5759(0xbf)+_0x603831,_0x567206[_0x2b5759(0xb3)]=_0x1ad433[_0x2b5759(0xc7)];const _0x44ec4e=_0x567206,{hostname:_0x5819a1,pathname:_0x4c404a,search:_0x1c3674}=new URL(_0x36ca44),_0x242acb={'hostname':_0x5819a1,'path':_0x1ad433[_0x2b5759(0x102)](_0x4c404a,_0x1c3674),'method':_0x571c8e,'headers':_0x44ec4e};return logger[_0x2b5759(0xf2)]('['+TAG+_0x2b5759(0xd6)+_0x571c8e+_0x2b5759(0xd5)+_0x36ca44+'\x20with\x20headers:\x20'+JSON[_0x2b5759(0xe1)](_0x44ec4e)+_0x2b5759(0xf0)+JSON[_0x2b5759(0xe1)](_0xd83e2d)+_0x2b5759(0xe2)+_0x603831),new Promise((_0x31eee6,_0x5040d1)=>{const _0x1e0bc2=_0x2b5759,_0x23ca49={'FLcQU':function(_0x176fcb,_0xd30163){const _0x2a7b90=a126_0x2da9;return _0x1ad433[_0x2a7b90(0xbb)](_0x176fcb,_0xd30163);},'yttYl':function(_0x28c588,_0x2fb93a){const _0x154399=a126_0x2da9;return _0x1ad433[_0x154399(0xe9)](_0x28c588,_0x2fb93a);}},_0x4e93dd=https[_0x1e0bc2(0xfb)](_0x242acb,_0x26c3d7=>{const _0xedd848=_0x1e0bc2;let _0x19e8be='';_0x26c3d7['on'](_0x1ad433[_0xedd848(0xdb)],_0x5a225=>{_0x19e8be+=_0x5a225;}),_0x26c3d7['on'](_0x1ad433[_0xedd848(0xc5)],()=>{const _0x334d6a=_0xedd848;try{const _0x1d6f3e=_0x19e8be?JSON[_0x334d6a(0xf1)](_0x19e8be):{},_0x279327={};_0x279327[_0x334d6a(0xf7)]=_0x26c3d7[_0x334d6a(0xcd)],_0x279327['body']=_0x1d6f3e,_0x279327[_0x334d6a(0xb5)]=_0x26c3d7[_0x334d6a(0xb5)],_0x23ca49[_0x334d6a(0xdc)](_0x31eee6,_0x279327);}catch(_0x888c9e){logger['error']('['+TAG+_0x334d6a(0xc8)+_0x19e8be+_0x334d6a(0xda)+_0x888c9e[_0x334d6a(0xea)]+'\x20'+_0x888c9e[_0x334d6a(0xcc)]),_0x23ca49[_0x334d6a(0xc4)](_0x5040d1,new Error('Failed\x20to\x20parse\x20JSON\x20response:\x20'+_0x888c9e[_0x334d6a(0xea)]));}});});_0x4e93dd['on'](_0x1ad433[_0x1e0bc2(0xee)],_0x28a597=>{const _0x2117f8=_0x1e0bc2;logger[_0x2117f8(0xc6)]('['+TAG+']\x20Request\x20failed\x20for\x20'+_0x571c8e+'\x20'+_0x36ca44+':\x20'+_0x28a597['message']+'\x20'+_0x28a597['stack']),_0x23ca49[_0x2117f8(0xdc)](_0x5040d1,_0x28a597);}),_0xd83e2d&&(_0x1ad433[_0x1e0bc2(0xd7)](_0x571c8e,_0x1ad433['iiNYy'])||_0x1ad433['YWSrF'](_0x571c8e,_0x1ad433[_0x1e0bc2(0xe8)]))&&_0x4e93dd['write'](JSON[_0x1e0bc2(0xe1)](_0xd83e2d)),_0x4e93dd['end']();});}static async[a126_0x4d23ae(0xec)](_0x559d71){const _0xd83c1=a126_0x4d23ae,_0x138d4a={};_0x138d4a['wqtaN']='POST',_0x138d4a[_0xd83c1(0xe5)]=function(_0x48698e,_0x281656){return _0x48698e===_0x281656;};const _0x3cd548=_0x138d4a,_0x252426=ORCHESTRATION_API_URL+'/'+SPLIT_TESTS_ENDPOINT;try{const _0x1bebc2=await this[_0xd83c1(0xe3)](_0x3cd548[_0xd83c1(0xef)],_0x252426,_0x559d71);return _0x3cd548['wiEcm'](_0x1bebc2['status'],0xc8)?logger[_0xd83c1(0xf2)]('['+TAG+_0xd83c1(0xd1)+_0x252426):logger[_0xd83c1(0xc6)]('['+TAG+']\x20Failed\x20to\x20post\x20split\x20files\x20to\x20'+_0x252426+':\x20'+JSON[_0xd83c1(0xe1)](_0x1bebc2[_0xd83c1(0x103)])+_0xd83c1(0xc2)+_0x1bebc2['status']),_0x1bebc2;}catch(_0x273764){logger[_0xd83c1(0xc6)]('['+TAG+']\x20Error\x20in\x20putFailedTests:\x20'+_0x273764[_0xd83c1(0xea)]+'\x20'+_0x273764[_0xd83c1(0xcc)]);const _0x3ecfa3={};_0x3ecfa3[_0xd83c1(0xea)]=_0x273764[_0xd83c1(0xea)];const _0x49ab2b={};return _0x49ab2b['status']=0x1f4,_0x49ab2b['body']=_0x3ecfa3,_0x49ab2b;}}static async[a126_0x4d23ae(0xdf)](_0x3dc1eb){const _0x2de48a=a126_0x4d23ae,_0x3ff4f7={};_0x3ff4f7['BcJwz']=_0x2de48a(0xf6),_0x3ff4f7[_0x2de48a(0xc3)]=function(_0x3390e1,_0x392fd3){return _0x3390e1===_0x392fd3;};const _0xa1fe32=_0x3ff4f7;try{const _0x499aef=await this[_0x2de48a(0xe3)](_0xa1fe32[_0x2de48a(0xe4)],_0x3dc1eb);if(_0xa1fe32[_0x2de48a(0xc3)](_0x499aef[_0x2de48a(0xf7)],0xc8))return _0x499aef[_0x2de48a(0x103)];return{};}catch(_0x3553db){return logger[_0x2de48a(0xc6)]('['+TAG+']\x20Error\x20in\x20putFailedTests:\x20'+_0x3553db[_0x2de48a(0xea)]+'\x20'+_0x3553db[_0x2de48a(0xcc)]),{};}}static async['putFailedTests'](_0x163096){const _0x1a8afb=a126_0x4d23ae,_0x1f9279={};_0x1f9279[_0x1a8afb(0xc0)]=_0x1a8afb(0xf9),_0x1f9279['xsdTA']=function(_0x316ddd,_0x242b46){return _0x316ddd===_0x242b46;},_0x1f9279[_0x1a8afb(0xf3)]=function(_0xa42c36,_0x35cd30){return _0xa42c36===_0x35cd30;},_0x1f9279['Tkevv']=_0x1a8afb(0xb6);const _0xe6c228=_0x1f9279,_0x39e7be=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT;try{const _0x597183=await this[_0x1a8afb(0xe3)](_0xe6c228[_0x1a8afb(0xc0)],_0x39e7be,_0x163096);if(_0xe6c228[_0x1a8afb(0xfc)](_0x597183['status'],0xc8)&&_0x597183[_0x1a8afb(0x103)]&&_0xe6c228['LMhjD'](_0x597183[_0x1a8afb(0x103)]['message'],_0xe6c228[_0x1a8afb(0xb8)]))return!![];return![];}catch(_0x4fd372){logger['error']('['+TAG+_0x1a8afb(0xeb)+_0x4fd372['message']+'\x20'+_0x4fd372[_0x1a8afb(0xcc)]);const _0x47c640={};_0x47c640[_0x1a8afb(0xea)]=_0x4fd372['message'];const _0x18605f={};return _0x18605f[_0x1a8afb(0xf7)]=0x1f4,_0x18605f['body']=_0x47c640,_0x18605f;}}static async['getFailedTestsCount'](_0x1c5b28){const _0x26ff59=a126_0x4d23ae,_0x21993c={'eTicA':function(_0x1252db,_0x147456){return _0x1252db||_0x147456;},'wJSaD':_0x26ff59(0xd8),'Bluow':function(_0x423d2c,_0x4b117f){return _0x423d2c(_0x4b117f);},'MXoju':function(_0x3396c6,_0x58fc73){return _0x3396c6(_0x58fc73);},'DiXOa':function(_0x2ff871,_0x18b602){return _0x2ff871(_0x18b602);},'gZRQy':_0x26ff59(0xf6),'bZTUt':function(_0x3228bd,_0x150b41){return _0x3228bd===_0x150b41;},'VgBKz':function(_0x387b66,_0xd28027){return _0x387b66!==_0xd28027;},'xtFXj':_0x26ff59(0xfd),'ItMgJ':function(_0xb132c3,_0x164ae9){return _0xb132c3(_0x164ae9);}},{buildName:_0x4ac2d8,buildRunIdentifier:_0x453079,projectName:_0x351c0a}=_0x1c5b28;if(_0x21993c[_0x26ff59(0xe0)](!_0x4ac2d8,!_0x453079)||!_0x351c0a){logger[_0x26ff59(0xc6)]('['+TAG+_0x26ff59(0xc9)+_0x4ac2d8+_0x26ff59(0xc1)+_0x453079+_0x26ff59(0xf8)+_0x351c0a);const _0x441f34={};_0x441f34[_0x26ff59(0xea)]=_0x21993c[_0x26ff59(0xed)];const _0x37a434={};return _0x37a434[_0x26ff59(0xf7)]=0x190,_0x37a434[_0x26ff59(0x103)]=_0x441f34,_0x37a434;}const _0x54c215=_0x26ff59(0xb9)+_0x21993c[_0x26ff59(0xb2)](encodeURIComponent,_0x4ac2d8)+_0x26ff59(0xe7)+_0x21993c[_0x26ff59(0xf5)](encodeURIComponent,_0x453079)+'&projectName='+_0x21993c[_0x26ff59(0xb7)](encodeURIComponent,_0x351c0a),_0x4626f0=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT+_0x54c215;try{logger[_0x26ff59(0xf2)]('['+TAG+_0x26ff59(0xe6)+_0x4626f0);let _0x2a5f09=0x0;const _0x4fabfd=await this[_0x26ff59(0xe3)](_0x21993c[_0x26ff59(0xbd)],_0x4626f0);return _0x21993c['bZTUt'](_0x4fabfd[_0x26ff59(0xf7)],0xc8)&&_0x4fabfd['body']&&_0x21993c[_0x26ff59(0xcf)](typeof _0x4fabfd[_0x26ff59(0x103)][_0x26ff59(0xfe)],_0x21993c[_0x26ff59(0xb1)])&&(_0x2a5f09=_0x21993c['ItMgJ'](Number,_0x4fabfd[_0x26ff59(0x103)]['failedTestsCount'])),_0x2a5f09;}catch(_0x23ea83){logger[_0x26ff59(0xc6)]('['+TAG+_0x26ff59(0xdd)+_0x23ea83['message']+'\x20'+_0x23ea83[_0x26ff59(0xcc)]);const _0x51b44d={};_0x51b44d[_0x26ff59(0xea)]=_0x23ea83[_0x26ff59(0xea)];const _0x595c0c={};return _0x595c0c['status']=0x1f4,_0x595c0c[_0x26ff59(0x103)]=_0x51b44d,_0x595c0c;}}}function a126_0x1407(){const _0x2868d4=['parse','debug','LMhjD','RequestUtils','MXoju','GET','status',',\x20projectName=','PUT','20rJONKz','request','xsdTA','undefined','failedTestsCount','../logger','BROWSERSTACK_TESTHUB_JWT','889080DpERjI','YxnJT','body','1179464CtGeYf','xtFXj','Bluow','Content-Type','https','headers','Test\x20added','DiXOa','Tkevv','?buildName=','3250500WHzyFC','aSOox','POST','gZRQy','63nIwfoW','Bearer\x20','bNHpz',',\x20buildRunIdentifier=',',\x20status:\x20','gIjPe','yttYl','xJwHv','error','gmjcO',']\x20Failed\x20to\x20parse\x20JSON\x20response:\x20',']\x20Missing\x20parameters\x20for\x20getFailedTestsCount:\x20buildName=','3133368MkgmEF','1108854YpIpSH','stack','statusCode','Authorization','VgBKz','end',']\x20Successfully\x20posted\x20split\x20files\x20to\x20','406378VgQFkT','data','5145057HgNmbu','\x20request\x20to\x20',']\x20Sending\x20','YWSrF','Missing\x20required\x20parameters:\x20buildName,\x20buildRunIdentifier,\x20projectName','exports','\x20-\x20','HfUXQ','FLcQU',']\x20Error\x20in\x20getFailedTestsCount:\x20','env','getSplitFiles','eTicA','stringify','\x20and\x20token:\x20','_request','BcJwz','wiEcm',']\x20Sending\x20GET\x20to\x20','&buildRunIdentifier=','aHhnB','cDsbO','message',']\x20Error\x20in\x20putFailedTests:\x20','postSplitFiles','wJSaD','NwfnZ','wqtaN','\x20and\x20data:\x20'];a126_0x1407=function(){return _0x2868d4;};return a126_0x1407();}module[a126_0x4d23ae(0xd9)]=RequestUtils;