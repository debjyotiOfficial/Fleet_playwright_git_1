const a125_0x49bd5f=a125_0xeb46;(function(_0x45c795,_0x5bf021){const _0x56b13e=a125_0xeb46,_0xb50efb=_0x45c795();while(!![]){try{const _0x211916=-parseInt(_0x56b13e(0xf9))/0x1*(parseInt(_0x56b13e(0xe6))/0x2)+parseInt(_0x56b13e(0xe5))/0x3*(-parseInt(_0x56b13e(0x11e))/0x4)+parseInt(_0x56b13e(0xdf))/0x5+-parseInt(_0x56b13e(0xf5))/0x6+parseInt(_0x56b13e(0x10b))/0x7*(parseInt(_0x56b13e(0x113))/0x8)+parseInt(_0x56b13e(0xe7))/0x9*(parseInt(_0x56b13e(0x10e))/0xa)+parseInt(_0x56b13e(0x101))/0xb*(parseInt(_0x56b13e(0x108))/0xc);if(_0x211916===_0x5bf021)break;else _0xb50efb['push'](_0xb50efb['shift']());}catch(_0x8dc76b){_0xb50efb['push'](_0xb50efb['shift']());}}}(a125_0x380a,0x2e19e));function a125_0x380a(){const _0x4db70c=['877356ClfvKw','_setSkipFlakyAndFailed','winstonLogger','_setTestOrdering','2JaEDHd','toLowerCase','maxRetries','testOrderingEnabled','rerunPreviouslyFailed','path','uWeff','getName','11oqksMN','config','disable','testOrchestrationOptions','failed_tests_','abort_build_','exports','2284944pmNGuU','run_previously_failed_first','name','6209rGqOJW','maxFailures','LsEXx','449930WfbOeY','_instance','getInstance','tmpdir','getBuildStartData','2648CThrVk','_setRerunPreviouslyFailed','getRerunPreviouslyFailed','runPreviouslyFailedFirst','isAbortBuildOnFailureEnabled','skip_failing_and_flaky','getRunPreviouslyFailedFirst','rerun_previously_failed','enabled','isAbortBuildOnFailureSupported','retryTestsOnFailure','4804YVmBEr','getOrchestrationData','1102755sZXvWe','_setRunPreviouslyFailedFirst','skipFlakyandFailed','isRetryEnabled','jest','has','480dwFFfE','357316DAtcpX','36kLnZUI','enable','abortBuildOnFailure','skipFlakyAndFailed','join','existsSync','getEnabled','BROWSERSTACK_TESTHUB_UUID','../logger','retry_tests_on_failure','getFailureThreshold','testOrdering','checkAbortBuildFileExists','getSkipFlakyAndFailed'];a125_0x380a=function(){return _0x4db70c;};return a125_0x380a();}const os=require('os'),path=require(a125_0x49bd5f(0xfe)),fs=require('fs'),logger=require(a125_0x49bd5f(0xef))[a125_0x49bd5f(0xf7)],RETRY_TESTS_ON_FAILURE=a125_0x49bd5f(0x11d),ABORT_BUILD_ON_FAILURE=a125_0x49bd5f(0xe9),RUN_PREVIOUSLY_FAILED_FIRST=a125_0x49bd5f(0x116),RERUN_PREVIOUSLY_FAILED='rerunPreviouslyFailed',SKIP_FLAKY_AND_FAILED=a125_0x49bd5f(0xe1),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a125_0x49bd5f(0xe3)]);class TestOrdering{constructor(){const _0x51bd3d=a125_0x49bd5f;this[_0x51bd3d(0x11b)]=![],this[_0x51bd3d(0x10a)]=null;}['enable'](_0x48998f){const _0x135bc4=a125_0x49bd5f;this['enabled']=!![],this[_0x135bc4(0x10a)]=_0x48998f;}[a125_0x49bd5f(0x103)](){this['enabled']=![],this['name']=null;}[a125_0x49bd5f(0xed)](){return this['enabled'];}[a125_0x49bd5f(0x100)](){const _0x2f1da9=a125_0x49bd5f;return this[_0x2f1da9(0x10a)];}}function a125_0xeb46(_0xee5863,_0x443c0d){const _0x380aa9=a125_0x380a();return a125_0xeb46=function(_0xeb4685,_0x12578b){_0xeb4685=_0xeb4685-0xdf;let _0x9e58be=_0x380aa9[_0xeb4685];return _0x9e58be;},a125_0xeb46(_0xee5863,_0x443c0d);}class OrchestrationUtils{static ['_instance']=null;constructor(_0x1828e8){const _0x157416=a125_0x49bd5f,_0x279d71={};_0x279d71[_0x157416(0x10d)]=function(_0x1fa054,_0xa8304f){return _0x1fa054||_0xa8304f;};const _0x4dabf3=_0x279d71;this[_0x157416(0x116)]=![],this[_0x157416(0xfd)]=![],this[_0x157416(0xea)]=![],this['testOrdering']=new TestOrdering(),this[_0x157416(0x102)]=_0x4dabf3[_0x157416(0x10d)](_0x1828e8,{});const _0x2d5fa2=_0x1828e8&&_0x1828e8[_0x157416(0x104)]||{};this['_setRunPreviouslyFailedFirst'](_0x2d5fa2[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x157416(0x114)](_0x2d5fa2[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x157416(0xf6)](_0x2d5fa2[SKIP_FLAKY_AND_FAILED]||![]);}static[a125_0x49bd5f(0x110)](_0x107321){const _0x4a4c2b=a125_0x49bd5f;return!OrchestrationUtils['_instance']&&_0x107321&&(OrchestrationUtils[_0x4a4c2b(0x10f)]=new OrchestrationUtils(_0x107321)),OrchestrationUtils['_instance'];}[a125_0x49bd5f(0xe2)](){const _0x2fbcba=a125_0x49bd5f,_0x18aa0f=(this[_0x2fbcba(0x102)][_0x2fbcba(0x104)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x18aa0f[_0x2fbcba(0x11b)];}['getRetryCount'](){const _0x253e4e=a125_0x49bd5f,_0x5487c3=(this[_0x253e4e(0x102)][_0x253e4e(0x104)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x1fa363=0x0;return this['isRetryEnabled'](this[_0x253e4e(0x102)])&&(_0x1fa363=_0x5487c3[_0x253e4e(0xfb)]||0x1),_0x1fa363;}[a125_0x49bd5f(0x11f)](){const _0x5ddea6=a125_0x49bd5f,_0x18b6a9=this[_0x5ddea6(0x102)][_0x5ddea6(0x104)]||{},_0x3f7ab4={};for(const _0x4c7978 in _0x18b6a9){ALLOWED_ORCHESTRATION_KEYS[_0x5ddea6(0xe4)](_0x4c7978)&&(_0x3f7ab4[_0x4c7978]=_0x18b6a9[_0x4c7978]);}return _0x3f7ab4;}[a125_0x49bd5f(0xf3)](){const _0x56cbf8=a125_0x49bd5f,_0x3feb58=process['env'][_0x56cbf8(0xee)],_0x3ce169=path[_0x56cbf8(0xeb)](os['tmpdir'](),_0x56cbf8(0x106)+_0x3feb58);return fs[_0x56cbf8(0xec)](_0x3ce169);}['writeFailureToFile'](_0x227d8f){const _0x1e2312=a125_0x49bd5f,_0x4fb4c6=process['env']['BROWSERSTACK_TESTHUB_UUID'],_0x34c8ad=path[_0x1e2312(0xeb)](os[_0x1e2312(0x111)](),_0x1e2312(0x105)+_0x4fb4c6+'.txt');fs['appendFileSync'](_0x34c8ad,_0x227d8f+'\x0a');}[a125_0x49bd5f(0x11c)](_0xdd9a0d){const _0xedfe33=a125_0x49bd5f,_0x246a6a={};_0x246a6a[_0xedfe33(0xff)]=function(_0xb613df,_0x1da498){return _0xb613df||_0x1da498;};const _0xf6f518=_0x246a6a;return ABORT_BUILD_SUPPORTED_FRAMEWORKS['has'](_0xf6f518['uWeff'](_0xdd9a0d,'')[_0xedfe33(0xfa)]());}[a125_0x49bd5f(0x117)](){const _0x578f42=a125_0x49bd5f,_0x12a896=(this[_0x578f42(0x102)][_0x578f42(0x104)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x12a896['enabled'];}[a125_0x49bd5f(0xf1)](){const _0x39fbf7=a125_0x49bd5f,_0x3ef10c=(this[_0x39fbf7(0x102)]['testOrchestrationOptions']||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x3ef10c[_0x39fbf7(0x10c)]||0x5;;}[a125_0x49bd5f(0x119)](){const _0x386b11=a125_0x49bd5f;return this[_0x386b11(0x116)];}[a125_0x49bd5f(0xe0)](_0x521918){const _0x1e37be=a125_0x49bd5f;this[_0x1e37be(0x116)]=!!_0x521918,this['_setTestOrdering']();}[a125_0x49bd5f(0x115)](){return this['rerunPreviouslyFailed'];}[a125_0x49bd5f(0x114)](_0x27672f){const _0x73a678=a125_0x49bd5f;this[_0x73a678(0xfd)]=!!_0x27672f,this[_0x73a678(0xf8)]();}['getSkipFlakyAndFailed'](){const _0x352ca6=a125_0x49bd5f;return this[_0x352ca6(0xea)];}[a125_0x49bd5f(0xf6)](_0x34a799){const _0x11258d=a125_0x49bd5f;this[_0x11258d(0xea)]=!!_0x34a799,this[_0x11258d(0xf8)]();}[a125_0x49bd5f(0xf8)](){const _0x4378f1=a125_0x49bd5f;if(this[_0x4378f1(0x116)])this['rerunPreviouslyFailed']=![],this[_0x4378f1(0xea)]=![],this[_0x4378f1(0xf2)]['enable'](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x4378f1(0xfd)])this[_0x4378f1(0x116)]=![],this[_0x4378f1(0xea)]=![],this[_0x4378f1(0xf2)][_0x4378f1(0xe8)](RERUN_PREVIOUSLY_FAILED);else this[_0x4378f1(0xea)]?(this[_0x4378f1(0x116)]=![],this[_0x4378f1(0xfd)]=![],this['testOrdering'][_0x4378f1(0xe8)](SKIP_FLAKY_AND_FAILED)):this[_0x4378f1(0xf2)][_0x4378f1(0x103)]();}}[a125_0x49bd5f(0xfc)](){const _0x406a7f=a125_0x49bd5f;return this[_0x406a7f(0xf2)][_0x406a7f(0xed)]();}['getTestOrderingName'](){const _0x34e7ef=a125_0x49bd5f;if(this[_0x34e7ef(0xf2)][_0x34e7ef(0xed)]())return this['testOrdering']['getName']();return null;}[a125_0x49bd5f(0x112)](){const _0x5e7e6e=a125_0x49bd5f,_0xe41392={};return _0xe41392[_0x5e7e6e(0x11a)]={'enabled':this[_0x5e7e6e(0x115)]()},_0xe41392[_0x5e7e6e(0x109)]={'enabled':this['getRunPreviouslyFailedFirst']()},_0xe41392[_0x5e7e6e(0x118)]={'enabled':this[_0x5e7e6e(0xf4)]()},this[_0x5e7e6e(0xe2)]()&&(_0xe41392[_0x5e7e6e(0xf0)]={'enabled':!![],'max_retries':this['getRetryCount']()}),this['isAbortBuildOnFailureEnabled']()&&(_0xe41392['abort_build_on_failure']={'enabled':!![],'max_failures':this[_0x5e7e6e(0xf1)]()}),_0xe41392;}}module[a125_0x49bd5f(0x107)]=OrchestrationUtils;