const a133_0x48a97c=a133_0x2018;function a133_0x55be(){const _0x4c93d0=['error','../helpers/testhub/constants','config','info','stringify','seleniumVersion','OjRAh','./logger','X_OK','env','55824fpDeaw','APP_AUTOMATE','selenium-webdriver','trim','pufSH','fireFunnelTestEvent','forEach','98xGfHcc','sQhkc','tqLxa','accessSync','UOxdk','length','qMKgb','replace','setReadWriteExecuteAccess','getSessionsList','POST','mEhNc','JSLXk','playwrightVersion','stack','assign','isTurboScaleSession','eqqjL','ziuwL','./performance/performance-tester','name','getNodeAgent','getFrameworkVersion','Error\x20in\x20firing\x20request\x20to\x20','DUdtK','version','killSignal','sendLogs','SDK\x20run\x20ended\x20for\x20id:\x20','getAccessKey','debug','1745418tvJohP','getOptimalHubUrl','hostname','object','getUserName','../bin/utils/constants','Rfcfu','buildIdentifier','IPXlB','vvjYo','rOnBD','NpdAX','toString','sdkRunId','osVersion','XuIAj','GHvpO','VAPMr','chmodSync','apqnI','getStackTraceAsString','codeceptjs','apply','W_OK','zoyMJ','ENV_VAR','source','getTurboScaleSessionsList','notifyUpdate','./testhub/utils','framework','LkIIb','application/json','BROWSERSTACK_TESTHUB_UUID','event_properties','isModifiable','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','gvHsO','browserStackConfig','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','OWSGm','content-type','getPackageVersion','finishedMetadata','split','errorMessage','140eKxOSU','\x20:\x20','nodejs','vCVuC','3929240JboGQA','./globals','getBuildLink','isBrowserstackInfra','yNIpy','constants','RowhR','buildName','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','join','all','36958392BVsbBx','bAWnw','browserVersion','values','nodeRequest','type','cujrQ','WTOVM','qLnIp','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','wWZOI','API\x20Event\x20','getGlobal','every','APP_AUTOMATE_PRODUCTS','cRdin','148416dBIshh','SDKTestSuccessful','Failed\x20to\x20set\x20directory\x20access:\x20','avrmn','../bin/playwright/reporter/pwUtils','user_killed','null','requirePWModule','deviceName','keys','[REDACTED]','format','app','10386110cXQffo','browser','orTMv','8637096XASmKm','getTurboScaleBuildLink','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','push','DfUGg','\x20has\x20now\x20read/write/execute\x20permissions.','unhandledErrors','fMTwx','unknown'];a133_0x55be=function(){return _0x4c93d0;};return a133_0x55be();}function a133_0x2018(_0x4b8c32,_0x137f8b){const _0x55bed3=a133_0x55be();return a133_0x2018=function(_0x201880,_0x4fb5c3){_0x201880=_0x201880-0x178;let _0x377f91=_0x55bed3[_0x201880];return _0x377f91;},a133_0x2018(_0x4b8c32,_0x137f8b);}(function(_0x2d5a03,_0x2fadff){const _0x2fcc52=a133_0x2018,_0x1f5024=_0x2d5a03();while(!![]){try{const _0x2b7601=parseInt(_0x2fcc52(0x1c9))/0x1+parseInt(_0x2fcc52(0x1aa))/0x2*(parseInt(_0x2fcc52(0x1a3))/0x3)+-parseInt(_0x2fcc52(0x180))/0x4*(parseInt(_0x2fcc52(0x1f7))/0x5)+parseInt(_0x2fcc52(0x190))/0x6+parseInt(_0x2fcc52(0x18d))/0x7+parseInt(_0x2fcc52(0x1fb))/0x8+-parseInt(_0x2fcc52(0x206))/0x9;if(_0x2b7601===_0x2fadff)break;else _0x1f5024['push'](_0x1f5024['shift']());}catch(_0x5ef994){_0x1f5024['push'](_0x1f5024['shift']());}}}(a133_0x55be,0xe2203));const os=require('os'),util=require('util'),fs=require('fs'),{getProductMap}=require(a133_0x48a97c(0x1e6)),logger=require(a133_0x48a97c(0x1a0))['winstonLogger'],constants=require(a133_0x48a97c(0x1ce)),testHubConstants=require(a133_0x48a97c(0x19a)),{getTransformPath}=require(a133_0x48a97c(0x184)),{FUNNEL_INSTRUMENTATION_API_URL}=require('../bin/utils/constants'),{generateCIArtifacts,printNudgeLocalNotSetError}=require('./helper'),PerformanceTester=require(a133_0x48a97c(0x1bd)),globals=require(a133_0x48a97c(0x1fc)),helper=require('./helper'),{isTestObservabilitySession}=require('./test-observability/utils');let unhandledErrors='';exports[a133_0x48a97c(0x1a8)]=async(_0x55861d,_0x39580e={},_0x3a3e64,_0xc95244)=>{const _0x282382=a133_0x48a97c,_0x41df9d={'vCVuC':function(_0x3cf0e7,_0x3087cb){return _0x3cf0e7===_0x3087cb;},'Rfcfu':_0x282382(0x1cc),'bAWnw':function(_0x36e1be,_0x4e25b9){return _0x36e1be>_0x4e25b9;},'IPXlB':'tests','pufSH':function(_0x1700cd){return _0x1700cd();},'qLnIp':function(_0x2c35e5){return _0x2c35e5();},'UOxdk':function(_0x586216,_0x75da47){return _0x586216==_0x75da47;},'vvjYo':_0x282382(0x186),'mEhNc':'undefined','qMKgb':function(_0x4095b9,_0x5c0af4){return _0x4095b9>_0x5c0af4;},'rOnBD':function(_0x5e9f10,_0x5ef608){return _0x5e9f10===_0x5ef608;},'yHftp':_0x282382(0x1de),'RowhR':function(_0x4306c4,_0x3b4d62){return _0x4306c4>_0x3b4d62;},'zoyMJ':function(_0x4d11f1,_0x4b30b2){return _0x4d11f1!==_0x4b30b2;},'cRdin':'Playwright','apqnI':function(_0x38ad16,_0x2f3777){return _0x38ad16===_0x2f3777;},'DfUGg':_0x282382(0x199),'DUdtK':function(_0x488576,_0x2d3fae){return _0x488576>_0x2d3fae;},'WTOVM':function(_0x533db6,_0x4a118f){return _0x533db6+_0x4a118f;},'LkIIb':_0x282382(0x179),'cujrQ':'_buildHashedId','eqqjL':function(_0x5e4e66,_0x6fc8f3){return _0x5e4e66(_0x6fc8f3);},'ziuwL':function(_0x15fc01,_0x145879){return _0x15fc01(_0x145879);},'orTMv':_0x282382(0x198),'hCzSv':_0x282382(0x1f9),'OjRAh':function(_0x29cbff,_0x302fcb){return _0x29cbff===_0x302fcb;},'jEaUK':_0x282382(0x181),'XuIAj':_0x282382(0x1a5),'fMTwx':_0x282382(0x1e9),'VAPMr':_0x282382(0x18a),'wWZOI':_0x282382(0x1b4)};let _0x270905=[];if(helper[_0x282382(0x1fe)]()&&_0x41df9d[_0x282382(0x1a7)](isTestObservabilitySession))_0x270905=_0x3a3e64[_0x282382(0x18c)]?constants[_0x282382(0x17e)]:constants['AUTOMATE_PRODUCTS'];else{if(_0x41df9d[_0x282382(0x178)](isTestObservabilitySession))_0x270905=constants[_0x282382(0x1f0)];else helper[_0x282382(0x1fe)]()&&(_0x270905=_0x3a3e64['app']?constants[_0x282382(0x1a4)]:constants['AUTOMATE']);}let _0x516443=_0x3a3e64[_0x282382(0x1d0)];if(_0x41df9d[_0x282382(0x1ae)](_0x516443,null))_0x516443=_0x41df9d[_0x282382(0x1d2)];else _0x41df9d[_0x282382(0x1fa)](_0x516443,undefined)&&(_0x516443=_0x41df9d[_0x282382(0x1b5)]);unhandledErrors&&_0x41df9d[_0x282382(0x1b0)](unhandledErrors[_0x282382(0x1af)],0x0)&&(_0x39580e['globalException']=unhandledErrors);global[_0x282382(0x1d6)]&&(_0x39580e[_0x282382(0x1d6)]=global[_0x282382(0x1d6)]);try{if(_0x39580e[_0x282382(0x199)]){if(_0x41df9d[_0x282382(0x1d3)](_0xc95244,_0x41df9d['yHftp'])&&_0x41df9d[_0x282382(0x201)](_0x39580e[_0x282382(0x199)][_0x282382(0x1af)],0x0)){const _0x4ee3db={};_0x4ee3db['os']='',_0x4ee3db[_0x282382(0x1d7)]='',_0x4ee3db[_0x282382(0x18e)]='',_0x4ee3db[_0x282382(0x208)]='';const _0x462d5c=_0x4ee3db;let _0x19d128={};const _0x4db4e6=_0x39580e['error'];_0x19d128=_0x4db4e6['reduce']((_0x2d5606,_0x5d5884)=>{for(const _0x4ec71d in _0x5d5884){_0x2d5606[_0x4ec71d]=_0x5d5884[_0x4ec71d];}return _0x2d5606;},{});const _0x3871f3={};_0x3871f3['tests']=_0x19d128,_0x39580e[_0x282382(0x199)]=[Object['assign']({},_0x462d5c,_0x3871f3)];}else{let _0x589c63=0x0;const _0x503af0=_0x41df9d[_0x282382(0x1e1)](_0xc95244,_0x41df9d[_0x282382(0x17f)])?JSON['parse'](_0x39580e[_0x282382(0x199)]):_0x39580e[_0x282382(0x199)],_0x1aad1d=Object[_0x282382(0x209)](_0x503af0);_0x1aad1d[_0x282382(0x1a9)](_0x21e39a=>{const _0x34f65b=_0x282382;if(_0x41df9d[_0x34f65b(0x1fa)](typeof _0x21e39a,_0x41df9d[_0x34f65b(0x1cf)])){const _0x41b9c2=Object[_0x34f65b(0x209)](_0x21e39a);!_0x41b9c2[_0x34f65b(0x17d)](_0x459d7b=>_0x459d7b===null||_0x459d7b===undefined||_0x459d7b==='')&&(_0x589c63+=0x1);}});if(_0x41df9d[_0x282382(0x1dc)](_0x589c63,0x0))delete _0x39580e[_0x41df9d[_0x282382(0x194)]];else{const _0x371423=[];Object['keys'](_0x503af0)[_0x282382(0x1a9)](_0x5d2710=>{const _0x5f1ecc=_0x282382,_0x333678={'OWSGm':function(_0x2deed6,_0x4bc49d){const _0xba4dc5=a133_0x2018;return _0x41df9d[_0xba4dc5(0x207)](_0x2deed6,_0x4bc49d);}},[_0x206c38,_0x101fb7,_0x2eb951,_0x28e429]=_0x5d2710[_0x5f1ecc(0x1f5)](',\x20');let _0x2a6a5b={};if(!_0x28e429){const _0xf26159={};_0xf26159[_0x5f1ecc(0x188)]=_0x206c38,_0xf26159[_0x5f1ecc(0x1d7)]=_0x101fb7,_0xf26159['browser']=_0x2eb951,_0x2a6a5b=_0xf26159;}else{const _0x30f1f1={};_0x30f1f1['os']=_0x206c38,_0x30f1f1[_0x5f1ecc(0x1d7)]=_0x101fb7,_0x30f1f1['browser']=_0x2eb951,_0x30f1f1['browserVersion']=_0x28e429,_0x2a6a5b=_0x30f1f1;}const _0x8615a5={},_0x255063=_0x503af0[_0x5d2710];Object[_0x5f1ecc(0x189)](_0x255063)[_0x5f1ecc(0x1a9)](_0x53f56e=>{const _0x19abd7=_0x5f1ecc;_0x333678[_0x19abd7(0x1f1)](_0x255063[_0x53f56e]['length'],0x0)&&(_0x8615a5[_0x53f56e]=_0x255063[_0x53f56e]);}),_0x41df9d['bAWnw'](Object[_0x5f1ecc(0x189)](_0x8615a5)[_0x5f1ecc(0x1af)],0x0)&&(_0x2a6a5b[_0x41df9d[_0x5f1ecc(0x1d1)]]=_0x8615a5,_0x371423[_0x5f1ecc(0x193)](_0x2a6a5b));}),_0x41df9d[_0x282382(0x1c2)](_0x371423[_0x282382(0x1af)],0x0)?_0x39580e[_0x282382(0x199)]=_0x371423:delete _0x39580e[_0x41df9d['DfUGg']];}}}}catch(_0x3f33cc){delete _0x39580e[_0x41df9d[_0x282382(0x194)]],logger[_0x282382(0x1c8)](_0x41df9d[_0x282382(0x20d)](_0x41df9d[_0x282382(0x1e8)],_0x3f33cc));}const _0x3243c2=helper['getTestFrameworkDetails'](_0x3a3e64,_0x3a3e64[_0x282382(0x1e7)]),_0x5ecd87={'userName':helper[_0x282382(0x1cd)](_0x3a3e64),'accessKey':helper[_0x282382(0x1c7)](_0x3a3e64),'event_type':_0x55861d,'detectedFramework':_0xc95244,'buildHashedId':globals[_0x282382(0x17c)](_0x41df9d[_0x282382(0x20c)]),'optimalHubUrl':helper[_0x282382(0x1ca)](),'event_properties':{'testhub_uuid':process[_0x282382(0x1a2)][testHubConstants[_0x282382(0x1e2)][_0x282382(0x1ea)]]||'','sdkRunId':global[_0x282382(0x1d6)],'product_map':_0x41df9d[_0x282382(0x1bb)](getProductMap,_0x3a3e64),'productMap':_0x41df9d[_0x282382(0x1bc)](getProductMap,_0x3a3e64),'language_framework':_0x3a3e64[_0x282382(0x1e3)]||_0x41df9d[_0x282382(0x18f)],'referrer':helper[_0x282382(0x1bf)](_0xc95244),'framework':_0x3a3e64[_0x282382(0x1e7)],'frameworkVersion':helper[_0x282382(0x1c0)](_0xc95244),'automationFramework':_0x3243c2[_0x282382(0x1be)],'automationFrameworkVersion':_0x3243c2[_0x282382(0x1c3)],'language':_0x41df9d['hCzSv'],'languageVersion':process['version'],'product':_0x270905,'buildName':_0x3a3e64[_0x282382(0x202)]||_0x41df9d[_0x282382(0x1b5)],'buildIdentifier':_0x516443,'os':os[_0x282382(0x20b)]()||_0x41df9d[_0x282382(0x18f)],'hostname':os[_0x282382(0x1cb)]()||_0x41df9d[_0x282382(0x18f)],..._0x39580e}};try{_0x41df9d[_0x282382(0x19f)](_0x55861d,_0x41df9d['jEaUK'])&&(_0x5ecd87[_0x282382(0x1eb)][_0x282382(0x1ef)]=helper['sanitizeBrowserStackConfig'](_0x3a3e64)),_0x41df9d[_0x282382(0x1dc)](_0xc95244,_0x41df9d[_0x282382(0x17f)])?_0x5ecd87[_0x282382(0x1eb)][_0x282382(0x1b7)]=helper[_0x282382(0x187)][_0x282382(0x1df)](null,_0x41df9d['pufSH'](getTransformPath),!![]):_0x5ecd87[_0x282382(0x1eb)][_0x282382(0x19e)]=helper[_0x282382(0x1f3)](_0x41df9d[_0x282382(0x1d8)]);}catch(_0x18c7cf){logger[_0x282382(0x1c8)](_0x282382(0x1ed)+_0x18c7cf);}const _0x149562={};_0x149562[_0x282382(0x1f2)]=_0x41df9d[_0x282382(0x197)];const _0x6a9018={'headers':_0x149562,'body':_0x5ecd87,'auth':{'user':helper[_0x282382(0x1cd)](_0x3a3e64),'pass':helper['getAccessKey'](_0x3a3e64)},'json':!![]};logger[_0x282382(0x1c8)](_0x282382(0x203)+JSON[_0x282382(0x19d)](_0x6a9018['body'])[_0x282382(0x1b1)](new RegExp(helper[_0x282382(0x1cd)](_0x3a3e64),'g'),_0x41df9d['VAPMr'])[_0x282382(0x1b1)](new RegExp(helper[_0x282382(0x1c7)](_0x3a3e64),'g'),_0x41df9d[_0x282382(0x1da)]));try{const _0x3224e1=await helper[_0x282382(0x20a)](_0x41df9d[_0x282382(0x17a)],constants['FUNNEL_INSTRUMENTATION_API_URL'],_0x6a9018,_0x3a3e64);logger[_0x282382(0x1c8)](_0x282382(0x17b)+_0x55861d+'\x20response\x20-\x20'+util[_0x282382(0x18b)]('%j',_0x3224e1));}catch(_0x57ac00){logger[_0x282382(0x1c8)](_0x282382(0x1c1)+FUNNEL_INSTRUMENTATION_API_URL+_0x282382(0x1f8)+util['format'](_0x57ac00));}},exports['finalExecution']=async _0x525dd2=>{const _0xab40a4=a133_0x48a97c,_0xcdef60={'ckpgy':function(_0x5ca774){return _0x5ca774();},'UuIXD':_0xab40a4(0x1f4),'gvHsO':_0xab40a4(0x185),'tqLxa':_0xab40a4(0x181),'YMInN':function(_0x3aec95,_0x4fad53,_0x5d52fe){return _0x3aec95(_0x4fad53,_0x5d52fe);},'GHvpO':function(_0x1c245b,_0x4bbf90){return _0x1c245b+_0x4bbf90;},'avrmn':_0xab40a4(0x192)};try{await _0x525dd2['stopPercy'](),_0xcdef60['ckpgy'](printNudgeLocalNotSetError);const _0x411971={};_0x411971[_0xab40a4(0x199)]=_0x525dd2[_0xab40a4(0x1f6)]?_0x525dd2[_0xab40a4(0x1f6)]:'{}';const _0x33a4e3=_0x411971,_0xe047c7=Object[_0xab40a4(0x1b9)]({},_0x33a4e3);!!_0x525dd2[_0xab40a4(0x1c4)]&&(_0xe047c7[_0xcdef60['UuIXD']]={'reason':_0xcdef60[_0xab40a4(0x1ee)],'signal':_0x525dd2[_0xab40a4(0x1c4)]});unhandledErrors=_0x525dd2[_0xab40a4(0x196)][_0xab40a4(0x204)]('\x0a');let _0x46d760,_0x33bd8a,_0x328e06;helper[_0xab40a4(0x1ba)](_0x525dd2[_0xab40a4(0x19b)])?([_0x46d760,_0x33bd8a]=await helper[_0xab40a4(0x191)](_0x525dd2[_0xab40a4(0x19b)]),[_0x328e06]=await Promise[_0xab40a4(0x205)]([helper[_0xab40a4(0x1e4)](_0x46d760,_0x525dd2['config']),exports['fireFunnelTestEvent'](_0xcdef60[_0xab40a4(0x1ac)],_0xe047c7,_0x525dd2['config'],_0x525dd2['framework'])])):([_0x46d760,_0x33bd8a]=await helper[_0xab40a4(0x1fd)](_0x525dd2['config']),[_0x328e06]=await Promise['all']([helper[_0xab40a4(0x1b3)](_0x46d760,_0x525dd2[_0xab40a4(0x19b)]),exports[_0xab40a4(0x1a8)](_0xcdef60[_0xab40a4(0x1ac)],_0xe047c7,_0x525dd2[_0xab40a4(0x19b)],_0x525dd2[_0xab40a4(0x1e7)])])),_0x328e06&&await _0xcdef60['YMInN'](generateCIArtifacts,_0x328e06,_0x33bd8a),logger[_0xab40a4(0x19c)](_0xab40a4(0x1c6)+_0x525dd2[_0xab40a4(0x1d6)]+',\x20testhub\x20id:\x20'+process[_0xab40a4(0x1a2)][_0xab40a4(0x1ea)]),await helper[_0xab40a4(0x1c5)](_0x525dd2[_0xab40a4(0x19b)]);}catch(_0x16e1b0){logger['debug'](_0xcdef60[_0xab40a4(0x1d9)](_0xcdef60[_0xab40a4(0x183)],_0x16e1b0));}helper[_0xab40a4(0x1e5)]();},exports['getStackTraceAsString']=_0x4f38a3=>{const _0x224c4b=a133_0x48a97c,_0x5f4e98={'JSLXk':function(_0x3f4259,_0x1a9a32){return _0x3f4259 instanceof _0x1a9a32;},'NpdAX':function(_0x554d31,_0x31e623){return _0x554d31(_0x31e623);}};try{if(_0x5f4e98[_0x224c4b(0x1b6)](_0x4f38a3,Error))return _0x4f38a3[_0x224c4b(0x1b8)]||_0x4f38a3[_0x224c4b(0x1d5)]();return _0x5f4e98[_0x224c4b(0x1d4)](String,_0x4f38a3);}catch(_0x4051cd){return _0x4f38a3?_0x4f38a3['toString']():'';}},exports['isNullOrEmpty']=_0x2d0787=>{const _0x379182=a133_0x48a97c,_0x154f52={};_0x154f52[_0x379182(0x1ff)]=function(_0x4a9d2d,_0x4f9799){return _0x4a9d2d===_0x4f9799;};const _0x5461a1=_0x154f52;return!_0x2d0787||_0x5461a1[_0x379182(0x1ff)](_0x2d0787[_0x379182(0x1a6)](),'');},exports[a133_0x48a97c(0x1ec)]=_0x563caf=>{const _0x1293ae=a133_0x48a97c,_0x187e35={};_0x187e35[_0x1293ae(0x1ab)]=function(_0xb8b89c,_0x11090e){return _0xb8b89c|_0x11090e;};const _0x548aac=_0x187e35;try{return fs[_0x1293ae(0x1ad)](_0x563caf,_0x548aac[_0x1293ae(0x1ab)](fs[_0x1293ae(0x200)][_0x1293ae(0x1e0)],fs[_0x1293ae(0x200)][_0x1293ae(0x1a1)])),!![];}catch(_0x264710){return![];}},exports[a133_0x48a97c(0x1b2)]=_0x4ec159=>{const _0x6052f2=a133_0x48a97c;try{fs[_0x6052f2(0x1db)](_0x4ec159,0x1ff),logger['debug']('Directory\x20'+_0x4ec159+_0x6052f2(0x195));}catch(_0x5a958d){logger[_0x6052f2(0x199)](_0x6052f2(0x182)+exports[_0x6052f2(0x1dd)](_0x5a958d));}};