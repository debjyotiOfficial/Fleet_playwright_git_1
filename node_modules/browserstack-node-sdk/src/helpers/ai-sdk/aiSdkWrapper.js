function a90_0x3b37(_0x24e0e1,_0x520dfc){const _0x36de3d=a90_0x36de();return a90_0x3b37=function(_0x3b370e,_0x55161d){_0x3b370e=_0x3b370e-0x73;let _0x43174b=_0x36de3d[_0x3b370e];return _0x43174b;},a90_0x3b37(_0x24e0e1,_0x520dfc);}const a90_0x2dea5e=a90_0x3b37;function a90_0x36de(){const _0x49cf95=['chrome','\x22,\x20\x22tcgUrls\x22:\x20{\x22','TCG_REGION','aiHeal_isGroupAIEnabled','13004832YhMUaP','split','then','anWZh','ieOptions_','replace','RiIGg','parameters_','../../helpers/timeoutPromise','Baaxl','using','BrowserstackHealingPollResultFailed','OWURm','logData','race','87816WTPUjQ','join','XwJFM','69060lPRxjK','initializeCapabilities','locatorValue','zWNRb','handleFailure','\x20command','BrowserstackHealingHealFailureFailed','VvnTN','newCapabilities','wwxMP','executeScript','firefox','log','message','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','_handleEvent','../logger','AnheU','ISpBY','getGlobal','getProjectName','safariOptions_','../../ai-sdk-node/bundle','BrowserstackHealing.healFailure\x20method\x20timed\x20out','XeFFD','ERVYD','getCapabilities','string','chromeOptions_','browserstackSessionName','BrowserstackHealingSetTcgTokenFailed','pMvXA','pollResult','map_','RxApi','12561570EUaFEy','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','POLL_HEALING_RESULT_TIMEOUT','getTestName','148VzFiaH','handleSuccess','setTcgToken','NcDbE','aiHeal_userId','AXsst','KzZfl','11QaHAtH','OQEqy','framework','\x22}}}','6kDkNTv','SET_TCG_TOKEN_TIMEOUT','98029FejFpl','ursrH','firefoxOptions_','../globals','mmnRz','35214820GDTwvw','sWdsk','s://','ZMFXz','{\x22region\x22:\x20\x22','mLuJH','xeCEw','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','config','oRlbc','info','locatorType','capabilities_','joKtk','HEaEk','WYiRX','HEALING_LOG_DATA_TIMEOUT','forEach','yyIJW','cancel','getSession','error','safari','BrowserstackHealing.logData\x20method\x20timed\x20out','TCG_URL','getCommands','toLowerCase','370bBEVni','QPfYZ','getId','qSMdk','healFailure','APCyi','isSelfHealEnabled','BrowserstackHealing.setToken\x20method\x20timed\x20out','HEALING_FAILURE_TIMEOUT','aiHealing','browserName','value','10008586SHLTIF','aiHeal_sessionToken','BrowserstackHealing','./autoHealHelper'];a90_0x36de=function(){return _0x49cf95;};return a90_0x36de();}(function(_0x210a6e,_0x15aa58){const _0x5efc9e=a90_0x3b37,_0x54a265=_0x210a6e();while(!![]){try{const _0x58bf6f=-parseInt(_0x5efc9e(0x75))/0x1*(parseInt(_0x5efc9e(0x73))/0x2)+-parseInt(_0x5efc9e(0xb8))/0x3*(-parseInt(_0x5efc9e(0xe2))/0x4)+parseInt(_0x5efc9e(0x95))/0x5*(-parseInt(_0x5efc9e(0xbb))/0x6)+parseInt(_0x5efc9e(0xa1))/0x7+parseInt(_0x5efc9e(0xa9))/0x8+parseInt(_0x5efc9e(0xde))/0x9+parseInt(_0x5efc9e(0x7a))/0xa*(-parseInt(_0x5efc9e(0xe9))/0xb);if(_0x58bf6f===_0x15aa58)break;else _0x54a265['push'](_0x54a265['shift']());}catch(_0x439ec3){_0x54a265['push'](_0x54a265['shift']());}}}(a90_0x36de,0xd3a47));const path=require('path'),{commandRepository}=require(a90_0x2dea5e(0xa4)),constants=require('../../bin/utils/constants'),logger=require(a90_0x2dea5e(0xcb))['winstonLogger'],globals=require(a90_0x2dea5e(0x78)),timeoutPromise=require(a90_0x2dea5e(0xb1)),isUndefinedOrNull=_0x1f3c72=>_0x1f3c72===undefined||_0x1f3c72===null||_0x1f3c72==='',isNotUndefinedOrNull=_0x5570a0=>!isUndefinedOrNull(_0x5570a0),isString=_0x20fc14=>isNotUndefinedOrNull(_0x20fc14)&&typeof _0x20fc14===a90_0x2dea5e(0xd6);class AiSdkWrapper{constructor(){const _0x3d6ae6=a90_0x2dea5e,_0xfd17eb={'mLuJH':function(_0x4e5a0f,_0x478f67){return _0x4e5a0f(_0x478f67);},'HEaEk':_0x3d6ae6(0xd1)};this[_0x3d6ae6(0xa3)]=undefined;try{this[_0x3d6ae6(0xa3)]=_0xfd17eb[_0x3d6ae6(0x7f)](require,path[_0x3d6ae6(0xb9)](__dirname,_0xfd17eb[_0x3d6ae6(0x88)]));}catch(_0x5e21a0){logger[_0x3d6ae6(0x8f)](_0x3d6ae6(0xdf)+(_0x5e21a0&&_0x5e21a0['message']?_0x5e21a0[_0x3d6ae6(0xc8)]:''));}}['initializeHealingCapabilities'](_0x2e5bde){const _0x473fd7=a90_0x2dea5e,_0x2f6939={};_0x2f6939[_0x473fd7(0xdd)]=_0x473fd7(0xc3),_0x2f6939[_0x473fd7(0xd4)]=function(_0x169a08,_0x2dc4f3){return _0x169a08===_0x2dc4f3;},_0x2f6939['Brfhf']=_0x473fd7(0xa5),_0x2f6939[_0x473fd7(0x87)]=_0x473fd7(0xc6),_0x2f6939['AnheU']=function(_0x3e2bbe,_0x5bf216){return _0x3e2bbe===_0x5bf216;},_0x2f6939['OQEqy']=_0x473fd7(0x90),_0x2f6939[_0x473fd7(0xe5)]='edge',_0x2f6939[_0x473fd7(0x7b)]='microsoftedge',_0x2f6939['OWURm']=function(_0x3ea854,_0x4297ee){return _0x3ea854===_0x4297ee;};const _0xa1e88f=_0x2f6939;try{const _0x57054d=this[_0x473fd7(0xa3)][_0x473fd7(0xbc)](Object['fromEntries'](_0x2e5bde[_0x473fd7(0xd5)]()[_0x473fd7(0xdc)]));console[_0x473fd7(0xc7)](_0xa1e88f['RxApi'],_0x57054d);if(_0xa1e88f[_0x473fd7(0xd4)](_0x57054d?.[_0x473fd7(0x9f)]?.[_0x473fd7(0x94)](),_0xa1e88f['Brfhf']))_0x2e5bde[_0x473fd7(0xd7)]=_0x57054d;else{if(_0xa1e88f[_0x473fd7(0xd4)](_0x57054d?.[_0x473fd7(0x9f)]?.['toLowerCase'](),_0xa1e88f['joKtk']))_0x2e5bde[_0x473fd7(0x77)]=_0x57054d;else{if(_0xa1e88f[_0x473fd7(0xcc)](_0x57054d?.[_0x473fd7(0x9f)]?.[_0x473fd7(0x94)](),_0xa1e88f[_0x473fd7(0xea)]))_0x2e5bde[_0x473fd7(0xd0)]=_0x57054d;else{if(_0xa1e88f[_0x473fd7(0xcc)](_0x57054d?.[_0x473fd7(0x9f)]?.['toLowerCase'](),_0xa1e88f[_0x473fd7(0xe5)])||_0xa1e88f[_0x473fd7(0xd4)](_0x57054d?.['browserName']?.['toLowerCase'](),_0xa1e88f['sWdsk']))_0x2e5bde['edgeOptions_']=_0x57054d;else _0xa1e88f[_0x473fd7(0xb5)](_0x57054d?.[_0x473fd7(0x9f)]?.['toLowerCase'](),'ie')&&(_0x2e5bde[_0x473fd7(0xad)]=_0x57054d);}}}Object['keys'](_0x57054d)[_0x473fd7(0x8b)](_0x5b325a=>{const _0x5f397f=_0x473fd7,_0x409cde=_0x2e5bde[_0x5f397f(0x86)]['get'](_0x5b325a);_0x2e5bde['capabilities_']['set'](_0x5b325a,_0x57054d[_0x5b325a]);});}catch(_0x52680e){logger[_0x473fd7(0x8f)]('Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20'+(_0x52680e&&_0x52680e[_0x473fd7(0xc8)]?_0x52680e[_0x473fd7(0xc8)]:''));}}async[a90_0x2dea5e(0xe4)](_0x2592b8){const _0x1c66b3=a90_0x2dea5e,_0x3f0ed1={'ZMFXz':function(_0x32b628,_0x558ca3,_0x3e4645,_0x468b9a,_0x35c00d,_0x1895f8,_0x3c387a){return _0x32b628(_0x558ca3,_0x3e4645,_0x468b9a,_0x35c00d,_0x1895f8,_0x3c387a);},'ISpBY':_0x1c66b3(0x9c),'Baaxl':_0x1c66b3(0xd9),'yyIJW':_0x1c66b3(0xa2)},_0xf86ede=new Date(),_0x2a06d6=_0x3f0ed1[_0x1c66b3(0x7d)](timeoutPromise,constants[_0x1c66b3(0x74)],_0x3f0ed1[_0x1c66b3(0xcd)],_0x3f0ed1[_0x1c66b3(0xb2)],_0xf86ede,this[_0x1c66b3(0x82)],this[_0x1c66b3(0xeb)]);await Promise['race']([this['BrowserstackHealing']['setToken'](_0x2592b8,globals[_0x1c66b3(0xce)](_0x3f0ed1[_0x1c66b3(0x8c)]),constants[_0x1c66b3(0x92)])['then'](()=>{_0x2a06d6['cancel']();}),_0x2a06d6]);}async[a90_0x2dea5e(0xca)](_0x22f309,_0xf02758,_0x22d9ad,_0x45dd12){const _0x40b8da=a90_0x2dea5e,_0x1235df={'ursrH':function(_0x5c8b0c,_0xf19427){return _0x5c8b0c===_0xf19427;},'WYiRX':function(_0x59d0f5,_0x5db97a){return _0x59d0f5(_0x5db97a);},'qSMdk':function(_0x4f8fc2,_0x315ddb){return _0x4f8fc2(_0x315ddb);},'RiIGg':function(_0x6e9791,_0x31c29d){return _0x6e9791(_0x31c29d);},'xeCEw':function(_0x29c9aa,_0x5761ca){return _0x29c9aa(_0x5761ca);},'oRlbc':_0x40b8da(0x7c),'anWZh':function(_0x177904,_0x5a1b0f){return _0x177904(_0x5a1b0f);},'XeFFD':_0x40b8da(0xe6),'QPfYZ':'aiHeal_groupId','sGjUD':_0x40b8da(0xa8),'wwxMP':function(_0x49eb3c,_0x52f55a,_0x3a56b4,_0x489914,_0x9b19e8,_0x5c4c22,_0x3f816){return _0x49eb3c(_0x52f55a,_0x3a56b4,_0x489914,_0x9b19e8,_0x5c4c22,_0x3f816);},'XwJFM':_0x40b8da(0x91),'pMvXA':'BrowserstackHealingLogDataFailed','VvnTN':function(_0x44d3eb,_0x4437e1,_0x91cf32,_0x663db3,_0x1b0402,_0x367aa9,_0x30fe8a){return _0x44d3eb(_0x4437e1,_0x91cf32,_0x663db3,_0x1b0402,_0x367aa9,_0x30fe8a);},'BMEOf':_0x40b8da(0xd2),'APCyi':_0x40b8da(0xc1)},_0x572b21=(await _0xf02758['getSession']())['getId']();let _0x573b37='';if(commandRepository[_0x40b8da(0x9b)]()&&_0x1235df['ursrH'](_0x45dd12,![])||_0x1235df[_0x40b8da(0x76)](_0x45dd12,!![])){const _0x5904ce=_0x1235df[_0x40b8da(0x89)](isNotUndefinedOrNull,_0x22d9ad[_0x40b8da(0xb0)][_0x40b8da(0xb3)])&&_0x1235df[_0x40b8da(0x89)](isString,_0x22d9ad[_0x40b8da(0xb0)][_0x40b8da(0xb3)])?_0x22d9ad[_0x40b8da(0xb0)][_0x40b8da(0xb3)]['replace'](/'/g,'\x5c\x27')[_0x40b8da(0xae)](/"/g,'\x5c\x22'):'',_0x1b13be=_0x1235df['qSMdk'](isNotUndefinedOrNull,_0x22d9ad['parameters_'][_0x40b8da(0xb3)])&&_0x1235df['qSMdk'](isString,_0x22d9ad[_0x40b8da(0xb0)][_0x40b8da(0xa0)])?_0x22d9ad[_0x40b8da(0xb0)][_0x40b8da(0xa0)][_0x40b8da(0xae)](/'/g,'\x5c\x27')[_0x40b8da(0xae)](/"/g,'\x5c\x22'):'',_0x376d97=_0x1235df[_0x40b8da(0x89)](isNotUndefinedOrNull,commandRepository['getProjectName']())&&_0x1235df[_0x40b8da(0x98)](isString,commandRepository[_0x40b8da(0xcf)]())?commandRepository[_0x40b8da(0xcf)]()['replace'](/'/g,'\x5c\x27')[_0x40b8da(0xae)](/"/g,'\x5c\x22'):'';let _0x416809=_0x1235df[_0x40b8da(0xaf)](isNotUndefinedOrNull,global[_0x40b8da(0xd8)])&&_0x1235df['qSMdk'](isString,global[_0x40b8da(0xd8)])?global[_0x40b8da(0xd8)]['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';!_0x416809&&(_0x416809=_0x1235df[_0x40b8da(0x80)](isNotUndefinedOrNull,commandRepository[_0x40b8da(0xe1)]())&&_0x1235df[_0x40b8da(0xaf)](isString,commandRepository[_0x40b8da(0xe1)]())?commandRepository[_0x40b8da(0xe1)]()['replace'](/'/g,'\x5c\x27')[_0x40b8da(0xae)](/"/g,'\x5c\x22'):'');let _0x4931ba=_0x40b8da(0x7e)+constants['TCG_REGION']+_0x40b8da(0xa6)+constants[_0x40b8da(0xa7)]+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants['TCG_URL'][_0x40b8da(0xaa)](_0x1235df[_0x40b8da(0x83)])[0x1]+_0x40b8da(0xec);_0x4931ba=_0x1235df[_0x40b8da(0xac)](isNotUndefinedOrNull,_0x4931ba)&&_0x1235df[_0x40b8da(0xac)](isString,_0x4931ba)?_0x4931ba[_0x40b8da(0xae)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';const _0x3cd7f3=commandRepository[_0x40b8da(0x93)](_0x572b21),_0x438f47=globals[_0x40b8da(0xce)](_0x1235df[_0x40b8da(0xd3)]),_0x5c776f=globals[_0x40b8da(0xce)](_0x1235df[_0x40b8da(0x96)]),_0x5abf0f=globals['getGlobal'](_0x1235df['sGjUD']),_0x2b592e=![],_0x1bbf7c=new Date();if(_0x45dd12){const _0x51e280=_0x1235df[_0x40b8da(0xc4)](timeoutPromise,constants[_0x40b8da(0x8a)],_0x1235df[_0x40b8da(0xba)],_0x1235df[_0x40b8da(0xda)],_0x1bbf7c,this[_0x40b8da(0x82)],this[_0x40b8da(0xeb)]);_0x573b37=await Promise[_0x40b8da(0xb7)]([this[_0x40b8da(0xa3)][_0x40b8da(0xb6)](_0x5904ce,_0x1b13be,_0x376d97,_0x416809,_0x5c776f,_0x572b21,_0x3cd7f3,_0x4931ba)[_0x40b8da(0xab)](_0x4edfb3=>{const _0x142c93=_0x40b8da;return _0x51e280[_0x142c93(0x8d)](),_0x4edfb3;}),_0x51e280]);}else{if(commandRepository['isSelfHealEnabled']()){const _0x26ff2f=_0x1235df[_0x40b8da(0xc2)](timeoutPromise,constants[_0x40b8da(0x9d)],_0x1235df['BMEOf'],_0x1235df[_0x40b8da(0x9a)],_0x1bbf7c,this[_0x40b8da(0x82)],this['framework']);_0x573b37=await Promise[_0x40b8da(0xb7)]([this['BrowserstackHealing'][_0x40b8da(0x99)](_0x5904ce,_0x1b13be,_0x376d97,_0x416809,_0x438f47,_0x5c776f,_0x572b21,_0x3cd7f3,_0x2b592e,_0x5abf0f,_0x4931ba)['then'](_0x232dff=>{const _0x242750=_0x40b8da;return _0x26ff2f[_0x242750(0x8d)](),_0x232dff;}),_0x26ff2f]);}}_0x573b37&&await _0xf02758[_0x40b8da(0xc5)](_0x573b37);}}async[a90_0x2dea5e(0xe3)](_0x1c47ec,_0x205f4e,_0x26aa66){const _0x2ae0c3=a90_0x2dea5e;try{await this[_0x2ae0c3(0xca)](_0x1c47ec,_0x205f4e,_0x26aa66,!![]);}catch(_0x2038c1){return logger['error'](_0x2ae0c3(0x81)+(_0x2038c1&&_0x2038c1[_0x2ae0c3(0xc8)]?_0x2038c1[_0x2ae0c3(0xc8)]:'')),![];}return!![];}async[a90_0x2dea5e(0xbf)](_0x392850,_0x3a93f8,_0x331a0f){const _0x404787=a90_0x2dea5e,_0x51e0a5={'zWNRb':function(_0x11ddfc,_0x58c88f,_0x2cf2de,_0x48b1e4,_0x59d2db,_0x5cb1da,_0x48b414){return _0x11ddfc(_0x58c88f,_0x2cf2de,_0x48b1e4,_0x59d2db,_0x5cb1da,_0x48b414);},'KzZfl':'BrowserstackHealing.pollResult\x20method\x20timed\x20out','AXsst':_0x404787(0xb4),'mmnRz':'aiHeal_sessionToken'};try{await this[_0x404787(0xca)](_0x392850,_0x3a93f8,_0x331a0f,![]);const _0x22dc50=(await _0x3a93f8[_0x404787(0x8e)]())[_0x404787(0x97)](),_0x26a74d=new Date(),_0x163a7e=_0x51e0a5[_0x404787(0xbe)](timeoutPromise,constants[_0x404787(0xe0)],_0x51e0a5[_0x404787(0xe8)],_0x51e0a5[_0x404787(0xe7)],_0x26a74d,this[_0x404787(0x82)],this['framework']),_0x5e1c97=await Promise[_0x404787(0xb7)]([this[_0x404787(0xa3)][_0x404787(0xdb)](constants[_0x404787(0x92)],_0x22dc50,globals[_0x404787(0xce)](_0x51e0a5[_0x404787(0x79)]))['then'](_0xf02ebf=>{const _0x5638d3=_0x404787;return _0x163a7e[_0x5638d3(0x8d)](),_0xf02ebf;}),_0x163a7e]);if(_0x5e1c97&&_0x5e1c97['selector']&&_0x5e1c97[_0x404787(0xa0)]){const _0x8ff58={};return _0x8ff58[_0x404787(0x85)]=_0x5e1c97['selector'],_0x8ff58[_0x404787(0xbd)]=_0x5e1c97[_0x404787(0xa0)],_0x8ff58[_0x404787(0x9e)]=!![],_0x8ff58;}const _0x49a47a={};return _0x49a47a['locatorType']=_0x331a0f['parameters_'][_0x404787(0xb3)],_0x49a47a[_0x404787(0xbd)]=_0x5e1c97[_0x404787(0xa0)],_0x49a47a['aiHealing']=!![],_0x49a47a;}catch(_0x1902f5){return logger['debug'](_0x404787(0xc9)+(_0x1902f5&&_0x1902f5['message']?_0x1902f5[_0x404787(0xc8)]:'')),logger[_0x404787(0x84)]('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x331a0f['name_']+_0x404787(0xc0)),_0x331a0f;}}}exports['aiSdkWrapper']=Object['freeze'](new AiSdkWrapper());