function a85_0x5a67(_0x3761df,_0x41d9d5){const _0x2a5827=a85_0x2a58();return a85_0x5a67=function(_0x5a6730,_0xf76a48){_0x5a6730=_0x5a6730-0x77;let _0x27ff41=_0x2a5827[_0x5a6730];return _0x27ff41;},a85_0x5a67(_0x3761df,_0x41d9d5);}function a85_0x2a58(){const _0x2b3de9=['message','playwrightUrl','browserStackLocalOptions','setupBrowserstackLocal','info','setLogLevel','getTurboScaleGridDetails','FaFrw','EbJBp','allocateHub','format','FIkbI','compareVersions','KRYkw','./helper','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','setCredentialsFromYmlConfig','userName','UPGRADE_REQUIRED','hubUrl','writeFileSync','VwMzW','turboScaleUrl','version','Vnlyr','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','HgdYz','getPackageVersion','EgMaw','SDK_CLEANUP','generateLocalIdentifier','checkStopLocalBinaryOnExit','selenium-webdriver','BROWSERSTACK_TURBOSCALE','customRepeaters','codeceptjs','PSzxu','exceptions','FuAZe','localIdentifier','fileLogger','KDBwQ','FyfAw','aIixa','playwright','CgWtn','INVALID_INIT_RESP_WITH_USER_IMPACT','join','cliConfig','testContextOptions','370LbkHnP','config','../bin/utils/constants','HUB_MANAGEMENT','xEAvO','initialize','1474045DuTFtP','QcEIH','getUserName','skipSessionName','vpspP','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','stringify','./testhub/testhubHandler','selfHeal','6KGmZAN','TWLEW','xDJWU','UdhjX','Error\x20occured\x20while\x20stopping\x20local\x20binary','percy','../../package.json','platforms','stop','BrowserstackHealing.init\x20method\x20timed\x20out','fNJDx','measures','stopLocalBinary','isTrialGrid','24714EGwEle','uPpfL','./setKeepAlive','stopPercy','TCG_DOWN','killSignal','JIbNw','requireSeleniumWebdriverCheck','snPKX','isTurboScaleSession','LShoX','kvUAi','JkHsG','isAuthenticated','2|15|21|19|3|8|9|16|0|12|6|20|7|1|11|5|22|10|18|14|4|17|13','AI_INIT_SUCCESSFUL','errorMessage','forceLocal','tcgAuthConfig','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','1355176WnOqcW','QrHgd','setEnvCaps','race','SIGBREAK','preInitialize','SWZVo','getLocalConfig','false','PyrVW','setUpHubUrl','finalize','Error\x20in\x20writing\x20events\x20to\x20file\x20','setProxySettings','GOFqN','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','unhandledErrors','./timeoutPromise','Percy\x20stopped','619112ZQuNvY','\x20with\x20response\x20','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','getCentralUser','No\x20config\x20provided.','handleExceptions','then','length','proxyUrl','WtaIR','Calling\x20Build\x20Stop\x20from\x20ExitHandler','qyYIv','vNZgJ','RzfCr','isHealingEnabled','Zzslx','skipBinaryInitialisation','QDmzx','intExitHandler','YwpIA','./logger','debug','tyJMg','KbRGk','6369TBHBso','beforeExit','yznEc','./performance/constants','WpVlZ','BQciq','status','uncaughtException','AJWeP','sdkRunId','isRunning','isUndefined','disableAutoCaptureLogs','IMbYA','Error\x20in\x20sending\x20testhub\x20stop:\x20','isTrue','sanitizeCaps','./testhub/utils','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','CeyzT','statusCode','captureError','toString','turboScaleOptions','../ai-sdk-node/bundle','cancel','21KPorcU','zbSfP','fAIcy','envConfig','ats-repeater','custom-repeater','split','ykWtd','VouNg','setupKeepAlive','256ZLtIey','useW3C','startMonitoring','isEnabled','win32','startPercy','TCG_AUTH_FAILURE','bind','qDjle','proxyConfig','lCQXG','../hubAllocationMethods','AI_INIT_FAILURE','end','userName\x20or\x20accessKey\x20is\x20not\x20defined','default','getLocalIdentifier','exitHandler','\x20with\x20error\x20','AUTOLOGCAPTURE_NOTIFICATION','assign','uuid','path','xkqMG','KELny','SIGABRT','TCG_URL','platform','accessKey','close','warn','FAlTm','__isPlaywrightInstalled','./utilities','tLZfw','4.5.0','parallelsPerPlatform','isBrowserstackInfra','dMNKV','framework','ymKDH','FRAMEWORK','SIGINT','getAccessKey','setBrowserstackInfraFromConfig','../bin/v2/browserstackCLI','setupTcgConfigFile','eCNlf','turboScaleGridDetails','error','proxy','localOptions','Local\x20binary\x20started\x20successfully','turboScale','env','HcEhD','getFinalCaps','2101286kPadwQ','handled','browserstackLocal','vBvFn','true','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','sendToEDS','EfFxv','369910tXGxKo','getInstance','EjRgP','BROWSERSTACK_PERCY','CEARZ','getConfigPath','AI_PROXY_FAILURE','Error\x20occured\x20while\x20stopping\x20percy','isNotUndefined','PIfrZ','Percy\x20started\x20successfully','integrations','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','BrowserstackHealing.init','fireFunnelTestEvent','startLocalBinary','stopBrowserstackLocal','EDS_URL','CRYCU'];a85_0x2a58=function(){return _0x2b3de9;};return a85_0x2a58();}const a85_0x5c73a5=a85_0x5a67;(function(_0x55e2ee,_0x12c50b){const _0x208d82=a85_0x5a67,_0x5409fc=_0x55e2ee();while(!![]){try{const _0x4c9996=parseInt(_0x208d82(0x15b))/0x1+parseInt(_0x208d82(0x11a))/0x2*(parseInt(_0x208d82(0xf6))/0x3)+-parseInt(_0x208d82(0xcb))/0x4+parseInt(_0x208d82(0xa0))/0x5*(parseInt(_0x208d82(0xa9))/0x6)+-parseInt(_0x208d82(0x110))/0x7*(parseInt(_0x208d82(0xde))/0x8)+-parseInt(_0x208d82(0xb7))/0x9*(-parseInt(_0x208d82(0x9a))/0xa)+-parseInt(_0x208d82(0x153))/0xb;if(_0x4c9996===_0x12c50b)break;else _0x5409fc['push'](_0x5409fc['shift']());}catch(_0x28cb00){_0x5409fc['push'](_0x5409fc['shift']());}}}(a85_0x2a58,0x4366e));const util=require('util'),os=require('os'),path=require(a85_0x5c73a5(0x130)),{v4:uuidv4}=require(a85_0x5c73a5(0x12f)),fs=require('fs'),constants=require(a85_0x5c73a5(0x9c)),logger=require(a85_0x5c73a5(0xf2))['winstonLogger'],fileLogger=require(a85_0x5c73a5(0xf2))[a85_0x5c73a5(0x90)],{getLogDir}=require('./logger'),helper=require(a85_0x5c73a5(0x17c)),utilities=require(a85_0x5c73a5(0x13b)),percyHelper=require('./percy/utils'),hubAllocator=require(a85_0x5c73a5(0x125)),PerformanceTester=require('./performance/performance-tester'),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a85_0x5c73a5(0xf9)),{setPercyFlag}=require(a85_0x5c73a5(0x107)),TestHubHandler=require(a85_0x5c73a5(0xa7)),timeoutPromise=require(a85_0x5c73a5(0xdc)),BrowserstackCLI=require(a85_0x5c73a5(0x147));class BrowserStackSetup{constructor(_0x4c6b4a,_0x297069){const _0x6e1185=a85_0x5c73a5,_0xdaeb43={'FAlTm':_0x6e1185(0xc5),'aIixa':_0x6e1185(0xe2),'snPKX':function(_0x2400fd){return _0x2400fd();}},_0x536711=_0xdaeb43[_0x6e1185(0x139)][_0x6e1185(0x116)]('|');let _0x50570c=0x0;while(!![]){switch(_0x536711[_0x50570c++]){case'0':this['config']['testContextOptions']=this[_0x6e1185(0x9b)][_0x6e1185(0x99)]||{};continue;case'1':if(helper['isUndefined'](this[_0x6e1185(0x9b)]))throw new Error(_0xdaeb43[_0x6e1185(0x93)]);continue;case'2':this[_0x6e1185(0xdb)]=[];continue;case'3':this['percy']=null;continue;case'4':helper['setLogDir'](this[_0x6e1185(0x9b)]);continue;case'5':helper[_0x6e1185(0x146)](this['config'],this[_0x6e1185(0x98)]);continue;case'6':this[_0x6e1185(0xff)]=_0xdaeb43[_0x6e1185(0xbf)](uuidv4);continue;case'7':global[_0x6e1185(0x141)]=_0x297069;continue;case'8':this[_0x6e1185(0x9b)]=helper['readConfig'](helper[_0x6e1185(0x160)](_0x4c6b4a));continue;case'9':this['cliConfig']=helper['setCLICaps'](_0x4c6b4a);continue;case'10':this[_0x6e1185(0x9b)][_0x6e1185(0x99)]['skipSessionStatus']=!helper[_0x6e1185(0x13f)]()||helper[_0x6e1185(0x105)](this[_0x6e1185(0x9b)][_0x6e1185(0x99)]['skipSessionStatus']);continue;case'11':if(this[_0x6e1185(0x9b)][_0x6e1185(0x14b)])throw new Error(this[_0x6e1185(0x9b)][_0x6e1185(0x14b)]);continue;case'12':this[_0x6e1185(0xc7)]={};continue;case'13':PerformanceTester[_0x6e1185(0x11c)]();continue;case'14':helper[_0x6e1185(0x152)](this['config'],this[_0x6e1185(0x98)],this[_0x6e1185(0x113)]);continue;case'15':helper['normalizeTestReportingEnvVars']();continue;case'16':this[_0x6e1185(0x9b)][_0x6e1185(0xb0)]=this[_0x6e1185(0x9b)]['platforms']||[];continue;case'17':helper[_0x6e1185(0x173)](this[_0x6e1185(0x9b)],this['cliConfig'],this[_0x6e1185(0x113)]);continue;case'18':this[_0x6e1185(0x9b)][_0x6e1185(0x99)][_0x6e1185(0xa3)]=!helper[_0x6e1185(0x13f)]()||helper[_0x6e1185(0x105)](this[_0x6e1185(0x9b)][_0x6e1185(0x99)]['skipSessionName']);continue;case'19':this[_0x6e1185(0x155)]=null;continue;case'20':this['framework']=_0x297069;continue;case'21':this[_0x6e1185(0x113)]=helper[_0x6e1185(0xcd)]();continue;case'22':helper[_0x6e1185(0x78)](this[_0x6e1185(0x9b)]);continue;}break;}}[a85_0x5c73a5(0xd0)](_0x135509){const _0x448523=a85_0x5c73a5,_0x6fbdfb={'eCNlf':_0x448523(0x128),'CEARZ':function(_0x317978,_0xe9a5b8){return _0x317978===_0xe9a5b8;},'xkqMG':function(_0xc9ce7a,_0x490904){return _0xc9ce7a===_0x490904;},'CfuCk':_0x448523(0x166),'VouNg':'SDKTestAttempted','QcEIH':function(_0x55b8e6,_0x582613){return _0x55b8e6<_0x582613;},'MQNHw':function(_0x4b3fd1,_0x3ef23d){return _0x4b3fd1(_0x3ef23d);},'UdhjX':_0x448523(0x88),'Zzslx':_0x448523(0x13d),'ykWtd':_0x448523(0x81),'lCQXG':'parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','HVHDr':'SIGTERM','CgWtn':_0x448523(0x144),'QrHgd':'SIGHUP','uPpfL':function(_0x104560,_0x46cdad){return _0x104560!==_0x46cdad;},'bVvjr':_0x448523(0x11e),'PIfrZ':_0x448523(0x133),'CeyzT':'SIGQUIT','PyrVW':_0x448523(0xcf),'TWLEW':_0x448523(0xf7)},_0x4640b5=this[_0x448523(0x141)];global[_0x448523(0x9b)]=this[_0x448523(0x9b)],helper[_0x448523(0x106)](this[_0x448523(0x9b)]),this[_0x448523(0xbc)]=null,global[_0x448523(0xff)]=this[_0x448523(0xff)],logger[_0x448523(0x172)]('SDK\x20run\x20started\x20with\x20id:\x20'+this[_0x448523(0xff)]),!this['config'][_0x448523(0x170)]&&(this[_0x448523(0x9b)]['browserStackLocalOptions']=this['config'][_0x448523(0x14d)]||{});if(helper['isUndefined'](helper[_0x448523(0xa2)](this[_0x448523(0x9b)]))||helper[_0x448523(0x101)](helper[_0x448523(0x145)](this['config'])))throw new Error(_0x6fbdfb[_0x448523(0x149)]);helper[_0x448523(0xd2)](this[_0x448523(0x9b)])&&helper[_0x448523(0x101)](helper[_0x448523(0x12a)](this['config']))&&(!helper[_0x448523(0x101)](this[_0x448523(0x9b)][_0x448523(0x170)])&&_0x6fbdfb[_0x448523(0x15f)](this['config']['browserStackLocalOptions']['constructor'],Object)?!helper[_0x448523(0x105)](this[_0x448523(0x9b)][_0x448523(0x170)][_0x448523(0xee)])&&(this[_0x448523(0x9b)]['browserStackLocalOptions'][_0x448523(0x8f)]=helper[_0x448523(0x86)]()):this[_0x448523(0x9b)][_0x448523(0x170)]={'localIdentifier':helper[_0x448523(0x86)]()});this['config']['browserStackLocalOptions']['skipBinaryInitialisation']=helper[_0x448523(0x105)](this[_0x448523(0x9b)][_0x448523(0x170)][_0x448523(0xee)]),helper['setHandlePWError'](this[_0x448523(0x9b)]);if(_0x6fbdfb[_0x448523(0x131)](_0x4640b5,_0x6fbdfb['CfuCk']))return;this[_0x448523(0xe3)]();process[_0x448523(0x150)][_0x448523(0x89)]&&(this[_0x448523(0x9b)][_0x448523(0x14f)]=helper[_0x448523(0x105)](process[_0x448523(0x150)]['BROWSERSTACK_TURBOSCALE']),this['config'][_0x448523(0x10d)]=this[_0x448523(0x9b)][_0x448523(0x10d)]||{});helper[_0x448523(0xc0)](this[_0x448523(0x9b)])&&(process['env']['BROWSERSTACK_TURBOSCALE']=!![]);if(!helper[_0x448523(0x13f)]()){try{process['env'][_0x448523(0x143)]=_0x4640b5,utilities[_0x448523(0x169)](_0x6fbdfb['VouNg'],{},this[_0x448523(0x9b)],this['framework']);}catch(_0x422dfe){logger[_0x448523(0xf3)](_0x448523(0xe0)+_0x422dfe);}return;}if(helper[_0x448523(0xbe)](_0x4640b5)){if(global[_0x448523(0x13a)])return;_0x6fbdfb[_0x448523(0xa1)](_0x6fbdfb['MQNHw'](parseInt,helper[_0x448523(0x83)](_0x6fbdfb['UdhjX'])),0x3)&&(this[_0x448523(0x9b)][_0x448523(0x11b)]=![]),_0x6fbdfb[_0x448523(0x131)](helper[_0x448523(0x17a)](helper['getPackageVersion'](_0x6fbdfb[_0x448523(0xac)]),_0x6fbdfb[_0x448523(0xed)]),0x1)&&(this[_0x448523(0x9b)][_0x448523(0x11b)]=!![]);}(helper[_0x448523(0x101)](this[_0x448523(0x9b)][_0x448523(0xb0)])||helper[_0x448523(0x101)](this[_0x448523(0x9b)]['platforms'][_0x448523(0xe5)]))&&(helper['isUndefined'](this['config'][_0x448523(0x13e)])?logger[_0x448523(0x172)](_0x6fbdfb[_0x448523(0x117)]):logger[_0x448523(0x138)](_0x6fbdfb[_0x448523(0x124)]),this['config'][_0x448523(0xb0)]=[]);!this[_0x448523(0x9b)][_0x448523(0x99)]&&(this[_0x448523(0x9b)][_0x448523(0x99)]={});try{process[_0x448523(0x150)][_0x448523(0x143)]=_0x135509['_'][0x0],utilities['fireFunnelTestEvent'](_0x6fbdfb[_0x448523(0x118)],{},this['config'],this['framework']);}catch(_0x8e1338){logger[_0x448523(0xf3)](_0x448523(0xe0)+_0x8e1338);}!this['config'][_0x448523(0x102)]&&logger[_0x448523(0x172)](constants[_0x448523(0x12d)]),this[_0x448523(0xf0)]=this[_0x448523(0xf0)][_0x448523(0x121)](this),process['on'](_0x6fbdfb['HVHDr'],this['intExitHandler']),process['on'](_0x6fbdfb[_0x448523(0x95)],this[_0x448523(0xf0)]),process['on'](_0x6fbdfb[_0x448523(0xcc)],this['intExitHandler']),_0x6fbdfb[_0x448523(0xb8)](process[_0x448523(0x135)],_0x6fbdfb['bVvjr'])?(process['on'](_0x6fbdfb[_0x448523(0x164)],this[_0x448523(0xf0)]),process['on'](_0x6fbdfb[_0x448523(0x109)],this['intExitHandler'])):process['on'](_0x6fbdfb[_0x448523(0xd4)],this[_0x448523(0xf0)]),process['on'](_0x6fbdfb[_0x448523(0xaa)],this[_0x448523(0x12b)]());}async[a85_0x5c73a5(0x9f)](_0x5618f6){const _0x202c03=a85_0x5c73a5,_0x1be8ca={'GOFqN':_0x202c03(0x114),'GAPFB':_0x202c03(0x115),'EgMaw':'true','EjRgP':function(_0x446969,_0x2a857b){return _0x446969===_0x2a857b;},'vNZgJ':_0x202c03(0x94),'tyJMg':function(_0x5709a6,_0x343e3c){return _0x5709a6+_0x343e3c;},'AJWeP':'?caps=','zbSfP':function(_0x131eb2,_0x4caa10){return _0x131eb2(_0x4caa10);},'kvUAi':_0x202c03(0x8b)};this['preInitialize'](_0x5618f6);if(helper[_0x202c03(0xc0)](this['config'])){const _0x49bb5d=await helper[_0x202c03(0x174)](this['config']);this[_0x202c03(0x9b)][_0x202c03(0x14a)]=_0x49bb5d,_0x49bb5d[_0x202c03(0xb6)]&&helper[_0x202c03(0x163)](this[_0x202c03(0x9b)]['browserstackLocal'])&&helper[_0x202c03(0x105)](this[_0x202c03(0x9b)][_0x202c03(0x155)])&&(this[_0x202c03(0x9b)][_0x202c03(0x170)][_0x202c03(0x8f)]=_0x1be8ca[_0x202c03(0xd9)],this[_0x202c03(0x9b)][_0x202c03(0x170)][_0x1be8ca['GAPFB']]=_0x49bb5d[_0x202c03(0x8a)]['join'](','),this[_0x202c03(0x9b)]['browserStackLocalOptions'][_0x202c03(0xc8)]=_0x1be8ca[_0x202c03(0x84)]),this[_0x202c03(0x9b)][_0x202c03(0x7e)]=_0x49bb5d['url'],this[_0x202c03(0x141)]&&_0x1be8ca[_0x202c03(0x15d)](this[_0x202c03(0x141)]['toLowerCase'](),_0x1be8ca[_0x202c03(0xea)])?this[_0x202c03(0x9b)][_0x202c03(0x7e)]=_0x1be8ca[_0x202c03(0xf4)](_0x49bb5d[_0x202c03(0x16f)],_0x1be8ca[_0x202c03(0xfe)]):constants[_0x202c03(0x7b)]=helper['getHubUrl'](this[_0x202c03(0x9b)]),logger['debug'](_0x202c03(0x158)+constants[_0x202c03(0x7b)]);}helper[_0x202c03(0xd8)](this['config']),this[_0x202c03(0x119)](),_0x1be8ca[_0x202c03(0x111)](setPercyFlag,this),await this[_0x202c03(0x171)](),![_0x1be8ca[_0x202c03(0xc2)],_0x1be8ca['vNZgJ']]['includes'](this[_0x202c03(0x141)])&&!helper[_0x202c03(0xc0)](this[_0x202c03(0x9b)])&&!helper[_0x202c03(0xe1)]()['central_scanner']&&await this[_0x202c03(0xd5)]();}async['setupPercy'](){const _0x1c44e1=a85_0x5c73a5,_0x3fca7e={};_0x3fca7e[_0x1c44e1(0xab)]=function(_0x47e9dd,_0x398318){return _0x47e9dd===_0x398318;},_0x3fca7e[_0x1c44e1(0xfb)]=_0x1c44e1(0xd3),_0x3fca7e['qDjle']=_0x1c44e1(0x77),_0x3fca7e[_0x1c44e1(0x112)]=_0x1c44e1(0x165),_0x3fca7e[_0x1c44e1(0xbd)]=_0x1c44e1(0x157),_0x3fca7e[_0x1c44e1(0xeb)]=_0x1c44e1(0xf7);const _0x1287fe=_0x3fca7e;if(helper[_0x1c44e1(0x105)](this[_0x1c44e1(0x9b)][_0x1c44e1(0xae)])&&(!this[_0x1c44e1(0xae)]||!this[_0x1c44e1(0xae)][_0x1c44e1(0x100)]()))try{this['percy']=await percyHelper[_0x1c44e1(0x11f)](this[_0x1c44e1(0x9b)]);if(!this[_0x1c44e1(0xae)]){process[_0x1c44e1(0x150)][_0x1c44e1(0x15e)]=_0x1287fe[_0x1c44e1(0xfb)];throw new Error(_0x1287fe[_0x1c44e1(0x122)]);}logger['info'](_0x1287fe['fAIcy']),process[_0x1c44e1(0x150)][_0x1c44e1(0x15e)]=_0x1287fe[_0x1c44e1(0xbd)];let _0x459991=0x0;const _0x1eaf64=async()=>{const _0x4f7b1b=_0x1c44e1;_0x459991++,_0x1287fe[_0x4f7b1b(0xab)](_0x459991,0x1)&&await this['stopPercy']();};process['on'](_0x1287fe[_0x1c44e1(0xeb)],_0x1eaf64);}catch(_0x1f1972){process['env']['BROWSERSTACK_PERCY']=_0x1287fe['BQciq'],logger[_0x1c44e1(0xf3)]('Error\x20in\x20percy\x20setup\x20'+_0x1f1972);throw new Error(_0x1f1972[_0x1c44e1(0x10c)]());}}async[a85_0x5c73a5(0xba)](){const _0x18f626=a85_0x5c73a5,_0x5db7c5={};_0x5db7c5[_0x18f626(0x92)]=_0x18f626(0xdd),_0x5db7c5[_0x18f626(0x9e)]=_0x18f626(0x162);const _0x203c71=_0x5db7c5;if(this[_0x18f626(0xae)]&&this[_0x18f626(0xae)][_0x18f626(0x100)]())try{await percyHelper['stopPercy'](this[_0x18f626(0xae)]),logger[_0x18f626(0x172)](_0x203c71['FyfAw']);}catch(_0x286f0d){logger[_0x18f626(0x14b)](_0x203c71['xEAvO'],_0x286f0d[_0x18f626(0x16e)]);}}async[a85_0x5c73a5(0x171)](){const _0x531e5e=a85_0x5c73a5,_0x5ca7f3={};_0x5ca7f3[_0x531e5e(0x156)]=_0x531e5e(0xca),_0x5ca7f3[_0x531e5e(0xef)]=_0x531e5e(0x14e);const _0x23907c=_0x5ca7f3;if(helper[_0x531e5e(0x13f)]()&&helper['isTrue'](this[_0x531e5e(0x9b)][_0x531e5e(0x155)])&&(!this['browserstackLocal']||!this[_0x531e5e(0x155)][_0x531e5e(0x100)]()))try{if(this[_0x531e5e(0x9b)][_0x531e5e(0x170)][_0x531e5e(0xee)]){logger[_0x531e5e(0xf3)](_0x23907c[_0x531e5e(0x156)]);return;}this['browserstackLocal']=await helper[_0x531e5e(0x16a)](this[_0x531e5e(0x9b)]),logger[_0x531e5e(0x172)](_0x23907c[_0x531e5e(0xef)]);}catch(_0x36acbb){logger[_0x531e5e(0xf3)](_0x36acbb);throw new Error(_0x36acbb[_0x531e5e(0x10c)]());}}async[a85_0x5c73a5(0x16b)](){const _0x219845=a85_0x5c73a5,_0x52145e={};_0x52145e[_0x219845(0x91)]='Local\x20binary\x20stopped',_0x52145e[_0x219845(0xc1)]=_0x219845(0xad);const _0x493cb4=_0x52145e;if(this['browserstackLocal']&&this[_0x219845(0x155)][_0x219845(0x100)]())try{await helper[_0x219845(0xb5)](this[_0x219845(0x155)]),logger[_0x219845(0x172)](_0x493cb4['KDBwQ']);}catch(_0x425c0a){logger[_0x219845(0x14b)](_0x493cb4[_0x219845(0xc1)],_0x425c0a[_0x219845(0x16e)]);}}async[a85_0x5c73a5(0xd5)](){const _0x1d94e9=a85_0x5c73a5;return PerformanceTester['measureWrapper'](PerformanceAutEvents[_0x1d94e9(0x9d)],async()=>{const _0xb404ab=_0x1d94e9;await hubAllocator[_0xb404ab(0x177)](this[_0xb404ab(0x9b)]);})();}async['setupTCGAuth'](){const _0x1184f9=a85_0x5c73a5,_0x4aa2e5={'WtaIR':function(_0x5d6ac1,_0x50cafa){return _0x5d6ac1(_0x50cafa);},'FuAZe':_0x1184f9(0x10e),'dMNKV':function(_0x2bd0e5,_0x4d829f,_0x48a400,_0x550d8f,_0x41fb4c,_0x360667,_0x159f3f){return _0x2bd0e5(_0x4d829f,_0x48a400,_0x550d8f,_0x41fb4c,_0x360667,_0x159f3f);},'lOKJe':_0x1184f9(0xb2),'kycGh':'BrowserstackHealingInitFailed','abLkc':function(_0x5cd6c1,_0x1659df){return _0x5cd6c1(_0x1659df);},'EbJBp':_0x1184f9(0xaf),'vpspP':_0x1184f9(0x168),'yznEc':function(_0xf86f41,_0x3e7627){return _0xf86f41===_0x3e7627;},'NXnID':_0x1184f9(0x157),'VwMzW':function(_0x517d36,_0x33f38a){return _0x517d36===_0x33f38a;},'Vnlyr':function(_0x2ba381,_0x3d9c76){return _0x2ba381===_0x3d9c76;},'vyKKW':_0x1184f9(0x108),'aKSAN':_0x1184f9(0x167),'PSzxu':_0x1184f9(0xda),'YwpIA':'Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','KRYkw':function(_0x28207f,_0x3f1d14){return _0x28207f>=_0x3f1d14;},'ymKDH':function(_0x10de3b,_0x4fab66){return _0x10de3b<_0x4fab66;},'KbRGk':'tcg\x20config\x20setup\x20successful.','fNJDx':'aiHeal:tcgAuth','zZbyP':function(_0xcb9bbb){return _0xcb9bbb();}},_0x7aa53b=PerformanceTester['measureWrapper'](_0x4aa2e5[_0x1184f9(0xb3)],async()=>{const _0x229512=_0x1184f9;try{const _0x27fb3f=new Date(),_0xd88f86=helper['getProxyConfigForTcg'](this[_0x229512(0x9b)]),_0x35a607=_0x4aa2e5[_0x229512(0xe7)](require,path['join'](__dirname,_0x4aa2e5[_0x229512(0x8e)])),_0x225b81=_0x4aa2e5[_0x229512(0x140)](timeoutPromise,constants['TCG_AUTH_TIMEOUT'],_0x4aa2e5['lOKJe'],_0x4aa2e5['kycGh'],_0x27fb3f,this[_0x229512(0x9b)],this[_0x229512(0x141)]),_0x2e3bac={'tcgUrl':constants[_0x229512(0x134)],'sdkVersion':_0x4aa2e5['abLkc'](require,_0x4aa2e5[_0x229512(0x176)])['version'],'methodUsed':_0x4aa2e5['vpspP'],'proxyConfig':_0xd88f86,'os':os['platform']()};if(_0xd88f86&&_0xd88f86[_0x229512(0xe6)]){utilities['fireFunnelTestEvent'](constants[_0x229512(0x161)],_0x2e3bac,this['config'],this[_0x229512(0x141)]);return;}const _0x18636d={};_0x18636d[_0x229512(0x14c)]=_0xd88f86;const _0x1cc2dc=await Promise[_0x229512(0xce)]([_0x35a607['init'](this[_0x229512(0x9b)][_0x229512(0x136)],this['config'][_0x229512(0x79)],constants[_0x229512(0x134)],_0x4aa2e5[_0x229512(0xe7)](require,_0x4aa2e5[_0x229512(0x176)])[_0x229512(0x7f)],_0x18636d)[_0x229512(0xe4)](_0x4a2d7c=>{const _0x1376ab=_0x229512;return _0x225b81[_0x1376ab(0x10f)](),_0x4a2d7c;}),_0x225b81]);_0x1cc2dc[_0x229512(0xec)]=_0x4aa2e5[_0x229512(0xf8)](_0x1cc2dc[_0x229512(0xec)],_0x4aa2e5['NXnID'])||_0x4aa2e5[_0x229512(0xf8)](_0x1cc2dc[_0x229512(0xec)],!![]);const _0x4fbb2b=_0x4aa2e5[_0x229512(0x7d)](this[_0x229512(0x9b)][_0x229512(0xa8)],!![])||_0x4aa2e5[_0x229512(0x7d)](this[_0x229512(0x9b)][_0x229512(0xa8)],_0x4aa2e5['NXnID']);if(_0x4aa2e5[_0x229512(0x80)](_0x1cc2dc[_0x229512(0x16e)],constants[_0x229512(0x7a)])&&_0x4fbb2b)logger[_0x229512(0x172)](_0x4aa2e5['vyKKW']);else{if(!_0x1cc2dc[_0x229512(0xc4)]&&_0x4aa2e5[_0x229512(0x7d)](_0x1cc2dc[_0x229512(0xfc)],0x1f7)&&_0x4fbb2b)logger['info'](_0x4aa2e5['aKSAN']),utilities[_0x229512(0x169)](constants[_0x229512(0xbb)],_0x2e3bac,this[_0x229512(0x9b)],this[_0x229512(0x141)]);else{if(!_0x1cc2dc[_0x229512(0xc4)]&&_0x4fbb2b){logger[_0x229512(0x172)](_0x4aa2e5[_0x229512(0x8c)]);const _0x32f359={'tcgUrl':constants[_0x229512(0x134)],'sdkVersion':_0x4aa2e5[_0x229512(0xe7)](require,_0x4aa2e5[_0x229512(0x176)])['version'],'methodUsed':_0x4aa2e5[_0x229512(0xa4)],'proxyConfig':_0xd88f86,'os':os[_0x229512(0x135)]()};utilities[_0x229512(0x169)](constants[_0x229512(0x120)],_0x32f359,this[_0x229512(0x9b)],this[_0x229512(0x141)]);}else{if(_0x1cc2dc[_0x229512(0xc4)]&&!_0x1cc2dc['isHealingEnabled']&&_0x4fbb2b)logger[_0x229512(0x172)](_0x4aa2e5[_0x229512(0xf1)]);else{if(_0x4aa2e5[_0x229512(0x17b)](_0x1cc2dc[_0x229512(0xfc)],0xc8)&&_0x4aa2e5[_0x229512(0x142)](_0x1cc2dc[_0x229512(0xfc)],0x12c))utilities[_0x229512(0x169)](constants[_0x229512(0xc6)],_0x2e3bac,this[_0x229512(0x9b)],this[_0x229512(0x141)]);else{if(_0x4aa2e5[_0x229512(0x17b)](_0x1cc2dc[_0x229512(0xfc)],0x190))_0x2e3bac[_0x229512(0xfc)]=_0x1cc2dc[_0x229512(0xfc)],utilities['fireFunnelTestEvent'](constants[_0x229512(0x126)],_0x2e3bac,this[_0x229512(0x9b)],this[_0x229512(0x141)]);else!_0x1cc2dc['status']&&utilities[_0x229512(0x169)](constants[_0x229512(0x96)],_0x2e3bac,this['config'],this[_0x229512(0x141)]);}}}}}if(_0x1cc2dc[_0x229512(0xc4)]&&_0x1cc2dc[_0x229512(0xec)]){const _0x47d256={};_0x47d256[_0x229512(0xc9)]=_0x1cc2dc;const _0x4b7096=_0x47d256;_0xd88f86&&(_0x4b7096[_0x229512(0x123)]=_0xd88f86),_0x4b7096[_0x229512(0x141)]=this[_0x229512(0x141)],_0x4b7096['bstackConfig']=this[_0x229512(0x9b)],helper[_0x229512(0x148)](_0x4b7096),logger['debug'](_0x4aa2e5[_0x229512(0xf5)]);}}catch(_0x4624a2){logger[_0x229512(0xf3)](_0x229512(0xa5)+(_0x4624a2[_0x229512(0x16e)]?_0x4624a2[_0x229512(0x16e)]:''));}});await _0x4aa2e5['zZbyP'](_0x7aa53b);}[a85_0x5c73a5(0x119)](){const _0x494bd4=a85_0x5c73a5,_0x2b74c2={'KELny':function(_0x216511,_0x4bd323){return _0x216511(_0x4bd323);},'tLZfw':_0x494bd4(0xb9)};_0x2b74c2[_0x494bd4(0x132)](require,_0x2b74c2[_0x494bd4(0x13c)])();}[a85_0x5c73a5(0xe3)](){const _0x185ae2=a85_0x5c73a5,_0x329d0d={};_0x329d0d[_0x185ae2(0xe9)]='unhandledRejection',_0x329d0d[_0x185ae2(0x82)]=_0x185ae2(0xfd);const _0x1c3b71=_0x329d0d,_0x371e65=_0x31793a=>{const _0x1fd2f9=_0x185ae2;logger[_0x1fd2f9(0x14b)](_0x31793a['message']),logger[_0x1fd2f9(0xf3)](util['format'](_0x31793a)),this[_0x1fd2f9(0xdb)]['push'](util[_0x1fd2f9(0x178)]('%j',_0x31793a)),PerformanceTester[_0x1fd2f9(0x10b)](_0x31793a);};process['on'](_0x1c3b71[_0x185ae2(0xe9)],_0x371e65),process['on'](_0x1c3b71['HgdYz'],_0x371e65);}async['intExitHandler'](_0x138e91){const _0x53fbc4=a85_0x5c73a5,_0x31e962={};_0x31e962[_0x53fbc4(0x151)]='4|0|5|2|1|3',_0x31e962[_0x53fbc4(0x179)]=function(_0xfbb502,_0x45e278){return _0xfbb502+_0x45e278;},_0x31e962[_0x53fbc4(0xc3)]=_0x53fbc4(0x154),_0x31e962[_0x53fbc4(0xfa)]='Shutdown\x20triggered\x20by\x20';const _0xbf01ea=_0x31e962,_0x9f08bd=_0xbf01ea[_0x53fbc4(0x151)][_0x53fbc4(0x116)]('|');let _0x5f27e3=0x0;while(!![]){switch(_0x9f08bd[_0x5f27e3++]){case'0':this[_0xbf01ea[_0x53fbc4(0x179)](_0xbf01ea[_0x53fbc4(0xc3)],_0x138e91)]=!![];continue;case'1':await TestHubHandler[_0x53fbc4(0xb1)](_0x138e91);continue;case'2':this[_0x53fbc4(0xbc)]=_0x138e91;continue;case'3':await BrowserstackCLI[_0x53fbc4(0x15c)]()[_0x53fbc4(0xb1)]();continue;case'4':if(this[_0xbf01ea['FIkbI'](_0xbf01ea['JkHsG'],_0x138e91)])return;continue;case'5':logger['info'](_0xbf01ea[_0x53fbc4(0x179)](_0xbf01ea[_0x53fbc4(0xfa)],_0x138e91));continue;}break;}}['exitHandler'](){const _0x16eea0=a85_0x5c73a5,_0x5d512f={'CRYCU':function(_0x23ce24,_0x306a98){return _0x23ce24===_0x306a98;},'SWZVo':_0x16eea0(0xe8),'IMbYA':function(_0x370737,_0x514c4f){return _0x370737>_0x514c4f;},'FaFrw':function(_0x478dbb){return _0x478dbb();},'EfFxv':'events.json'};let _0x17b83f=0x0;return async()=>{const _0x3864cb=_0x16eea0;_0x17b83f++;if(_0x5d512f[_0x3864cb(0x16d)](_0x17b83f,0x1)){helper[_0x3864cb(0x87)](this[_0x3864cb(0x141)])&&await this[_0x3864cb(0x16b)]();try{logger[_0x3864cb(0xf3)](_0x5d512f[_0x3864cb(0xd1)]),await TestHubHandler[_0x3864cb(0xb1)](_0x17b83f),await BrowserstackCLI[_0x3864cb(0x15c)]()[_0x3864cb(0xb1)]('1');}catch(_0x5f28aa){logger['debug'](_0x3864cb(0x104)+util['format'](_0x5f28aa));}PerformanceTester[_0x3864cb(0x127)](PerformanceEvents[_0x3864cb(0x85)]);if(PerformanceTester[_0x3864cb(0x11d)]()){const {measures:_0x5dcd9f,errors:_0x18d2c0}=await PerformanceTester[_0x3864cb(0xd6)](),_0x2926d4={};if(_0x5dcd9f&&_0x5d512f[_0x3864cb(0x103)](_0x5dcd9f[_0x3864cb(0xe5)],0x0)||_0x18d2c0&&_0x5d512f[_0x3864cb(0x103)](_0x18d2c0[_0x3864cb(0xe5)],0x0)){const _0x174eb7={};_0x174eb7[_0x3864cb(0xb4)]=_0x5dcd9f,_0x174eb7[_0x3864cb(0x8d)]=_0x18d2c0,Object[_0x3864cb(0x12e)](_0x2926d4,_0x174eb7);}try{const _0x529b09=await helper[_0x3864cb(0x159)](_0x2926d4,this[_0x3864cb(0x9b)]);logger[_0x3864cb(0xf3)]('Data\x20sent\x20successfully\x20to\x20'+constants[_0x3864cb(0x16c)]+_0x3864cb(0xdf)+_0x529b09[_0x3864cb(0x10a)]);}catch(_0x43c4d7){logger[_0x3864cb(0xf3)]('Failed\x20to\x20send\x20data\x20to\x20'+constants[_0x3864cb(0x16c)]+_0x3864cb(0x12c)+util[_0x3864cb(0x178)](_0x43c4d7));}try{fs[_0x3864cb(0x7c)](path[_0x3864cb(0x97)](_0x5d512f[_0x3864cb(0x175)](getLogDir),_0x5d512f[_0x3864cb(0x15a)]),JSON[_0x3864cb(0xa6)](_0x2926d4));}catch(_0xd20420){logger[_0x3864cb(0xf3)](_0x3864cb(0xd7)+_0xd20420);}}}logger&&logger[_0x3864cb(0x137)](),fileLogger&&fileLogger[_0x3864cb(0x137)]();};}}exports[a85_0x5c73a5(0x129)]=BrowserStackSetup;