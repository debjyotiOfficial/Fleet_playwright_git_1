const a120_0x4c1a18=a120_0x5a8e;function a120_0x5a8e(_0x17d8f8,_0x1714e8){const _0x482496=a120_0x4824();return a120_0x5a8e=function(_0x5a8eea,_0x57d396){_0x5a8eea=_0x5a8eea-0x14d;let _0x597b86=_0x482496[_0x5a8eea];return _0x597b86;},a120_0x5a8e(_0x17d8f8,_0x1714e8);}function a120_0x4824(){const _0x3bce03=['ERROR_INVALID_CREDENTIALS','NYjYI','ERROR_ACCESS_DENIED','Hook_End_Upload','TestRunSkipped','buildDescription','KxFtW','Build\x20creation\x20successful!','VuqUC','kaqbR','UfHAU','hTevS','zefxa','Test_End_Upload','Hptmc','./requestQueueHandler','env','getAccessKey','3130iISvPd','WinoO','frameworkName','ETyvM','VrpvL','test_run','OpHqu','debug','TestRunFinished','eventUrl','cOhgs','Authorization','NxUxm','password','null','Hook_Start_Upload','EXCEPTION\x20IN\x20','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20Missing\x20authentication\x20token','MDfBR','getInstance','Processing\x20event\x20-\x20\x27','jwt','frameworkVersion','resolve','build_hashed_id','kNJYB','CREDENTIALS_FOR_CRASH_REPORTING','iCGjd','1996338hiKVtm','buildName','application/json','EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20','TEST_REPORTING_ANALYTICS','pWUlc','1342516wGwYPb','json','\x20failed\x20due\x20to\x20','toString','./utils','pendingUploads','add','requestQueueHandler','Jmvmw','winstonLogger','getGitMetaData','\x20:\x20missing\x20authentication\x20token','error','hpRWu','423KQyiAK','true','BS_TESTOPS_ALLOW_SCREENSHOTS','format','uuid','yFjXY','cwd','mPlmn','ykpkY','RFOsU','xieqL','Bearer\x20','getAgentVersion','220620RvupZh','UOEZv','browserstackAutomation','AdCdC','test_run_uuid','toISOString','HookRunStarted','XJQyF','BROWSERSTACK_TESTHUB_JWT','rxUak','QkAIy','Sending\x20trace\x20zip\x20for\x20test:\x20','includes','NRYsT','max','dVDos','HookRunFinished','JxHrR','username','ZmPeX','getCiInfo','status','BROWSERSTACK_TESTHUB_UUID','CunOs','BROWSERSTACK_BUILD_RUN_IDENTIFIER','exports','BROWSERSTACK_RERUN','Trace\x20zip\x20sent\x20to\x20nodeRequest\x20for\x20test:\x20','xcWFM','tolwb','logs','ZSWtC','uploadEventData','SRcEJ','rXUQD','xZtVv','\x20REQUEST\x20TO\x20','5932776tiaUPB','lQZrH','JGAIa','Bwpmu','util','tnuve','stringify','../../bin/utils/constants','false','errorType','ngoOL','qZHQn','\x20:\x20','GcfdY','qucdU','BS_TESTOPS_BUILD_HASHED_ID','event_type','Token/buildID\x20is\x20undefined,\x20build\x20creation\x20might\x20have\x20failed',']\x20event\x20successful!','WAZaL','hpjTU','177935vnuGbb','MRcoH','../logger','ERROR_SDK_DEPRECATED','BS_TESTOPS_BUILD_COMPLETED','\x20retry\x20runs\x20exceeded','RfoWR','uxOKH','UOfeu','response','message','1445844eSMHMs','waitForBuildStatus','npjjn','Test_Skipped_Upload','VcqsM','statusText','length','./constants','data','path','inspect','nestedKeyValue','iJAfV','start','api/v1/builds','sendEventData','64sbKZGx','XsNpG','getLogTag','148XJoEUd','BS_TESTOPS_JWT','info'];a120_0x4824=function(){return _0x3bce03;};return a120_0x4824();}(function(_0x457e0b,_0x3ad560){const _0x34a134=a120_0x5a8e,_0x4f64ea=_0x457e0b();while(!![]){try{const _0x2a1537=-parseInt(_0x34a134(0x1e5))/0x1+-parseInt(_0x34a134(0x1bd))/0x2+-parseInt(_0x34a134(0x157))/0x3+-parseInt(_0x34a134(0x1d0))/0x4*(parseInt(_0x34a134(0x1b2))/0x5)+parseInt(_0x34a134(0x19d))/0x6+parseInt(_0x34a134(0x15d))/0x7*(parseInt(_0x34a134(0x1cd))/0x8)+-parseInt(_0x34a134(0x16b))/0x9*(-parseInt(_0x34a134(0x178))/0xa);if(_0x2a1537===_0x3ad560)break;else _0x4f64ea['push'](_0x4f64ea['shift']());}catch(_0x475212){_0x4f64ea['push'](_0x4f64ea['shift']());}}}(a120_0x4824,0xcff55));const bsSetupHelper=require('../helper'),path=require(a120_0x4c1a18(0x1c6)),os=require('os'),{debug,getCustomTags,getDefaultHeaders,nodeRequest,asyncAwaitNodeReq,sleep,isTestObservabilitySession,trace}=require(a120_0x4c1a18(0x161)),{EVENT_ENDPOINT,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS}=require(a120_0x4c1a18(0x1c4)),RequestQueueHandler=require(a120_0x4c1a18(0x1e2)),logger=require(a120_0x4c1a18(0x1b4))[a120_0x4c1a18(0x166)],{shouldProcessEventForTesthub,isPercyBuild,getProductMap,getTestOrchestrationBuildStartData}=require('../../helpers/testhub/utils'),util=require(a120_0x4c1a18(0x1a1)),constants=require(a120_0x4c1a18(0x1a4));class SessionHandler{static [a120_0x4c1a18(0x164)]=RequestQueueHandler[a120_0x4c1a18(0x14e)]();static async['launch'](_0x10d0a1,_0x3c041b){const _0x54f071=a120_0x4c1a18,_0x3ec651={'XsNpG':function(_0x480187,_0x30e2c0){return _0x480187||_0x30e2c0;},'wPQqX':function(_0x226b1f,_0x3d725a){return _0x226b1f||_0x3d725a;},'rxUak':function(_0x3d5fb5,_0x46dbdb){return _0x3d5fb5===_0x46dbdb;},'SRcEJ':function(_0x2b0119,_0x4b3e12){return _0x2b0119(_0x4b3e12);},'GcfdY':_0x54f071(0x1f6),'Jmvmw':_0x54f071(0x1a5),'VuqUC':_0x54f071(0x15e),'ngoOL':function(_0x12e4d3,_0x2170ca){return _0x12e4d3(_0x2170ca);},'tolwb':function(_0x108087,_0x5e15dd){return _0x108087(_0x5e15dd);},'ykpkY':function(_0x21d8fb,_0x3ff7e1){return _0x21d8fb(_0x3ff7e1);},'Hptmc':function(_0x13f745,_0xacda,_0x2e44e9,_0x1f208a,_0x4f1157){return _0x13f745(_0xacda,_0x2e44e9,_0x1f208a,_0x4f1157);},'qucdU':'POST','WAZaL':_0x54f071(0x1cb),'NRYsT':function(_0x57c93b,_0x3fb221){return _0x57c93b(_0x3fb221);},'AdCdC':_0x54f071(0x1da),'HTIOd':function(_0x2f59dd){return _0x2f59dd();},'qMzZO':'true','ZmPeX':_0x54f071(0x1f3),'BjrRd':function(_0xbc49ad,_0x5d89fe){return _0xbc49ad(_0x5d89fe);},'OpHqu':function(_0x1744c1,_0x54f66a){return _0x1744c1(_0x54f66a);},'tKfdy':_0x54f071(0x1d3),'hpRWu':_0x54f071(0x1d5),'xZtVv':_0x54f071(0x1b5)};logger[_0x54f071(0x1d2)]('Launching\x20build\x20for\x20BrowserStack\x20Test\x20Observability\x20with\x20config:\x20'+util[_0x54f071(0x1c7)](_0x10d0a1));const _0x1b75b7=bsSetupHelper['getUserName'](_0x10d0a1),_0x36fe11=bsSetupHelper[_0x54f071(0x1e4)](_0x10d0a1),_0xfa328f=_0x3ec651[_0x54f071(0x1ce)](_0x1b75b7,'')+':'+_0x3ec651['wPQqX'](_0x36fe11,'');if(_0x3ec651[_0x54f071(0x181)](_0xfa328f,':'))return _0x3ec651['SRcEJ'](debug,_0x3ec651[_0x54f071(0x1aa)]),process[_0x54f071(0x1e3)]['BS_TESTOPS_BUILD_COMPLETED']=_0x3ec651['Jmvmw'],[null,null];let _0x40db29=![],_0x49f6d0=![];if(_0x10d0a1[_0x54f071(0x17a)]&&_0x10d0a1['app'])_0x49f6d0=!![];else _0x10d0a1[_0x54f071(0x17a)]&&(_0x40db29=!![]);try{const _0x512ee6={'format':_0x3ec651[_0x54f071(0x1db)],'project_name':_0x10d0a1['projectName']||'','name':_0x10d0a1[_0x54f071(0x158)]||path['basename'](path[_0x54f071(0x152)](process[_0x54f071(0x171)]())),'build_identifier':_0x10d0a1['buildIdentifier'],'description':_0x10d0a1[_0x54f071(0x1d8)]||'','start_time':new Date()[_0x54f071(0x17d)](),'tags':_0x3ec651[_0x54f071(0x199)](getCustomTags,_0x10d0a1),'host_info':bsSetupHelper['getHostInfo'](),'ci_info':bsSetupHelper[_0x54f071(0x18c)](),'build_run_identifier':process[_0x54f071(0x1e3)][_0x54f071(0x190)],'failed_tests_rerun':process[_0x54f071(0x1e3)][_0x54f071(0x192)]||![],'version_control':await bsSetupHelper[_0x54f071(0x167)](),'observability_version':{'frameworkName':_0x3c041b[_0x54f071(0x1e7)],'frameworkVersion':_0x3c041b[_0x54f071(0x151)],'sdkVersion':bsSetupHelper[_0x54f071(0x177)]()},'product_map':_0x3ec651[_0x54f071(0x1a7)](getProductMap,_0x10d0a1),'test_orchestration':_0x3ec651[_0x54f071(0x195)](getTestOrchestrationBuildStartData,_0x10d0a1)},_0x2e8f5f={};_0x2e8f5f['username']=_0x1b75b7,_0x2e8f5f['password']=_0x36fe11;const _0x527620={'auth':_0x2e8f5f,'headers':_0x3ec651[_0x54f071(0x173)](getDefaultHeaders,![])},_0x165f9c=await _0x3ec651[_0x54f071(0x1e1)](nodeRequest,_0x3ec651[_0x54f071(0x1ab)],_0x3ec651[_0x54f071(0x1b0)],_0x512ee6,_0x527620);_0x3ec651[_0x54f071(0x185)](debug,_0x3ec651[_0x54f071(0x17b)]);const _0x3c809b=_0x165f9c[_0x54f071(0x1c5)];_0x3c809b['build_hashed_id']&&(process[_0x54f071(0x1e3)][_0x54f071(0x18e)]=_0x3c809b[_0x54f071(0x153)]);if(_0x3ec651['HTIOd'](isTestObservabilitySession)){process[_0x54f071(0x1e3)][_0x54f071(0x1b6)]=_0x3ec651['qMzZO'];if(_0x3c809b[_0x54f071(0x150)]){process[_0x54f071(0x1e3)]['BS_TESTOPS_JWT']=_0x3c809b['jwt'];const _0x4f19c2={};_0x4f19c2[_0x54f071(0x18a)]=_0x1b75b7,_0x4f19c2[_0x54f071(0x1f2)]=_0x36fe11,process['env'][_0x54f071(0x155)]=JSON['stringify'](_0x4f19c2);}_0x3c809b[_0x54f071(0x153)]&&(process[_0x54f071(0x1e3)][_0x54f071(0x1ac)]=_0x3c809b[_0x54f071(0x153)]),_0x3c809b['allow_screenshots']&&(process[_0x54f071(0x1e3)]['BS_TESTOPS_ALLOW_SCREENSHOTS']=_0x3c809b['allow_screenshots'][_0x54f071(0x160)]());}return[_0x165f9c[_0x54f071(0x1c5)][_0x54f071(0x150)],_0x165f9c[_0x54f071(0x1c5)]['build_hashed_id'],_0x165f9c[_0x54f071(0x1c5)]['allow_screenshots']];}catch(_0x33da25){process[_0x54f071(0x1e3)][_0x54f071(0x18e)]=_0x3ec651[_0x54f071(0x18b)],process['env'][_0x54f071(0x1b6)]=_0x3ec651[_0x54f071(0x165)],process[_0x54f071(0x1e3)][_0x54f071(0x1d1)]=_0x3ec651[_0x54f071(0x18b)],process['env'][_0x54f071(0x1ac)]=_0x3ec651['ZmPeX'],process[_0x54f071(0x1e3)][_0x54f071(0x16d)]=_0x3ec651[_0x54f071(0x18b)];_0x33da25[_0x54f071(0x1bb)]?_0x3ec651['BjrRd'](debug,'EXCEPTION\x20IN\x20BUILD\x20START\x20EVENT\x20:\x20'+_0x33da25[_0x54f071(0x1bb)][_0x54f071(0x18d)]+'\x20'+_0x33da25['response'][_0x54f071(0x1c2)]+'\x20'+JSON[_0x54f071(0x1a3)](_0x33da25['response'][_0x54f071(0x1c5)])):_0x3ec651[_0x54f071(0x1eb)](debug,_0x54f071(0x15a)+(_0x33da25['message']||_0x33da25));if(_0x33da25&&_0x33da25[_0x54f071(0x1bc)]){const _0x2196b3=_0x33da25['message'];switch(_0x33da25[_0x54f071(0x1a6)]){case _0x3ec651['tKfdy']:logger[_0x54f071(0x169)](_0x2196b3);break;case _0x3ec651[_0x54f071(0x16a)]:logger[_0x54f071(0x1d2)](_0x2196b3);break;case _0x3ec651[_0x54f071(0x19b)]:logger['error'](_0x2196b3);break;default:logger[_0x54f071(0x169)](_0x2196b3);}}else console[_0x54f071(0x1d2)]('Data\x20upload\x20to\x20BrowserStack\x20'+constants[_0x54f071(0x15b)]+_0x54f071(0x15f)+_0x33da25);return[null,null,null];}}static async[a120_0x4c1a18(0x1be)](){const _0x55c72d=a120_0x4c1a18,_0x3f580c={'MRcoH':'true','ETyvM':'false','iCGjd':function(_0x5e3c6c,_0x50711f){return _0x5e3c6c(_0x50711f);}},_0x39811d=process[_0x55c72d(0x1e3)][_0x55c72d(0x1b6)];if([_0x3f580c[_0x55c72d(0x1b3)],_0x3f580c[_0x55c72d(0x1e8)]][_0x55c72d(0x184)](_0x39811d))return;while([_0x3f580c['MRcoH'],_0x3f580c[_0x55c72d(0x1e8)]]['includes'](_0x39811d)){await _0x3f580c[_0x55c72d(0x156)](sleep,DEFAULT_WAIT_INTERVAL_FOR_BUILD_STATUS);}}static['getLogTag'](_0x573407){const _0x12b1ad=a120_0x4c1a18,_0x2cfcd8={};_0x2cfcd8[_0x12b1ad(0x1c1)]='Test_Start_Upload',_0x2cfcd8[_0x12b1ad(0x1b8)]=_0x12b1ad(0x1e0),_0x2cfcd8['NYjYI']=_0x12b1ad(0x1c0),_0x2cfcd8[_0x12b1ad(0x172)]='Log_Upload',_0x2cfcd8[_0x12b1ad(0x1e9)]=_0x12b1ad(0x1f4),_0x2cfcd8['twYDY']=_0x12b1ad(0x1d6),_0x2cfcd8[_0x12b1ad(0x1ba)]='CBT_Upload';const _0x70f8c5=_0x2cfcd8,_0x9cffc7={};return _0x9cffc7['TestRunStarted']=_0x70f8c5['VcqsM'],_0x9cffc7[_0x12b1ad(0x1ed)]=_0x70f8c5['RfoWR'],_0x9cffc7[_0x12b1ad(0x1d7)]=_0x70f8c5[_0x12b1ad(0x1d4)],_0x9cffc7['LogCreated']=_0x70f8c5[_0x12b1ad(0x172)],_0x9cffc7[_0x12b1ad(0x17e)]=_0x70f8c5['VrpvL'],_0x9cffc7[_0x12b1ad(0x188)]=_0x70f8c5['twYDY'],_0x9cffc7['CBTSessionCreated']=_0x70f8c5[_0x12b1ad(0x1ba)],_0x9cffc7[_0x573407[_0x12b1ad(0x1ad)]];}static async[a120_0x4c1a18(0x1cc)](_0x3497ab,_0x47fbc0=0x0,_0x2403d9=null){const _0x5e8957=a120_0x4c1a18,_0xac4072={'hTevS':function(_0x420c38,_0x472398){return _0x420c38===_0x472398;},'RFOsU':'sendTraceZip','qZHQn':function(_0x4b3ab6,_0x5c9b6b){return _0x4b3ab6!==_0x5c9b6b;},'WinoO':_0x5e8957(0x159),'Bwpmu':_0x5e8957(0x16c),'cOhgs':function(_0x4e23de,_0x1304ac,_0x43198f,_0x42be63,_0x2c19fe){return _0x4e23de(_0x1304ac,_0x43198f,_0x42be63,_0x2c19fe);},'ZSWtC':'POST','qyIcg':function(_0x471a88,_0x22b5dd,_0x5c2c17,_0x22213e,_0x3a79b0){return _0x471a88(_0x22b5dd,_0x5c2c17,_0x22213e,_0x3a79b0);},'rXUQD':function(_0x3901a8,_0x4546e3){return _0x3901a8(_0x4546e3);},'zefxa':'Batch-Queue','JGAIa':function(_0x5075cc,_0x10b6ad){return _0x5075cc-_0x10b6ad;},'NxUxm':'api/v1/event','UOEZv':'success','CunOs':function(_0x448f6f,_0x2a3ed4){return _0x448f6f(_0x2a3ed4);},'zNHMZ':function(_0x38d48b,_0x2164fe){return _0x38d48b!==_0x2164fe;},'JxHrR':function(_0x5756c0,_0x109dec){return _0x5756c0-_0x109dec;},'ZuUeL':_0x5e8957(0x169)};_0xac4072[_0x5e8957(0x1de)](_0x2403d9,_0xac4072[_0x5e8957(0x174)])&&logger[_0x5e8957(0x1ec)](_0x5e8957(0x183)+_0x3497ab[_0x5e8957(0x196)][0x0][_0x5e8957(0x17c)]);const _0x5b1f9e=await this[_0x5e8957(0x1cf)](_0x3497ab);let _0x6a8131=_0x3497ab,_0x5c0fed=EVENT_ENDPOINT;_0xac4072[_0x5e8957(0x1a8)](_0x2403d9,_0xac4072[_0x5e8957(0x174)])&&this[_0x5e8957(0x164)][_0x5e8957(0x1ca)]();const {shouldProceed:_0xae84e4,proceedWithData:_0x47b39d,proceedWithUrl:_0x167d6b}=this['requestQueueHandler'][_0x5e8957(0x163)](_0x3497ab);if(!_0xae84e4)return;else _0x47b39d&&(_0x6a8131=_0x47b39d,_0x5c0fed=_0x167d6b);const _0x3321d0={};_0x3321d0[_0x5e8957(0x1f0)]=_0x5e8957(0x176)+process[_0x5e8957(0x1e3)][_0x5e8957(0x180)],_0x3321d0['Content-Type']=_0xac4072[_0x5e8957(0x1e6)],_0x3321d0['X-BSTACK-TESTOPS']=_0xac4072[_0x5e8957(0x1a0)];const _0x4b6917={};_0x4b6917['headers']=_0x3321d0;const _0x3f5ae1=_0x4b6917;let _0xfd8d14;try{_0xac4072[_0x5e8957(0x1de)](_0x2403d9,_0xac4072[_0x5e8957(0x174)])?(logger[_0x5e8957(0x1ec)]('Sending\x20trace\x20zip\x20to\x20nodeRequest\x20for\x20test:\x20'+_0x3497ab?.[_0x5e8957(0x196)][0x0]?.[_0x5e8957(0x17c)]),_0xfd8d14=await _0xac4072[_0x5e8957(0x1ef)](asyncAwaitNodeReq,_0xac4072[_0x5e8957(0x197)],_0x5c0fed,_0x6a8131,_0x3f5ae1),logger[_0x5e8957(0x1ec)](_0x5e8957(0x193)+_0x3497ab?.[_0x5e8957(0x196)][0x0]?.[_0x5e8957(0x17c)])):_0xfd8d14=await _0xac4072['qyIcg'](nodeRequest,_0xac4072[_0x5e8957(0x197)],_0x5c0fed,_0x6a8131,_0x3f5ae1);if(_0xfd8d14[_0x5e8957(0x1c5)]['error']){const _0x15f895={};_0x15f895[_0x5e8957(0x1bc)]=_0xfd8d14[_0x5e8957(0x1c5)][_0x5e8957(0x169)];throw _0x15f895;}else{_0xac4072[_0x5e8957(0x19a)](debug,(_0xac4072['qZHQn'](_0x5c0fed,this[_0x5e8957(0x164)][_0x5e8957(0x1ee)])?_0x5b1f9e:_0xac4072[_0x5e8957(0x1df)])+'['+_0x47fbc0+_0x5e8957(0x1af)),this[_0x5e8957(0x164)]['pendingUploads']=Math[_0x5e8957(0x186)](0x0,_0xac4072[_0x5e8957(0x19f)](this[_0x5e8957(0x164)][_0x5e8957(0x162)],_0xac4072[_0x5e8957(0x1de)](_0x5c0fed,_0xac4072[_0x5e8957(0x1f1)])?0x1:_0x6a8131[_0x5e8957(0x1c3)]));const _0x2dfeb4={};return _0x2dfeb4[_0x5e8957(0x18d)]=_0xac4072[_0x5e8957(0x179)],_0x2dfeb4['message']='',_0x2dfeb4;}}catch(_0x5d0ad2){_0x5d0ad2[_0x5e8957(0x1bb)]?_0xac4072[_0x5e8957(0x19a)](debug,_0x5e8957(0x1f5)+(_0xac4072[_0x5e8957(0x1a8)](_0x5c0fed,this[_0x5e8957(0x164)][_0x5e8957(0x1ee)])?_0x5b1f9e:_0xac4072[_0x5e8957(0x1df)])+_0x5e8957(0x19c)+constants[_0x5e8957(0x15b)]+_0x5e8957(0x1a9)+_0x5d0ad2[_0x5e8957(0x1bb)][_0x5e8957(0x18d)]+'\x20'+_0x5d0ad2[_0x5e8957(0x1bb)][_0x5e8957(0x1c2)]+'\x20'+util['format'](_0x5d0ad2['response']['data'])):_0xac4072[_0x5e8957(0x18f)](debug,'EXCEPTION\x20IN\x20'+(_0xac4072['zNHMZ'](_0x5c0fed,this['requestQueueHandler'][_0x5e8957(0x1ee)])?_0x5b1f9e:_0xac4072['zefxa'])+_0x5e8957(0x19c)+constants['TEST_REPORTING_ANALYTICS']+_0x5e8957(0x1a9)+util[_0x5e8957(0x16e)](_0x5d0ad2));this[_0x5e8957(0x164)][_0x5e8957(0x162)]=Math[_0x5e8957(0x186)](0x0,_0xac4072[_0x5e8957(0x189)](this['requestQueueHandler']['pendingUploads'],_0xac4072[_0x5e8957(0x1de)](_0x5c0fed,_0xac4072[_0x5e8957(0x1f1)])?0x1:_0x6a8131[_0x5e8957(0x1c3)]));const _0x1e71d7={};return _0x1e71d7['status']=_0xac4072['ZuUeL'],_0x1e71d7[_0x5e8957(0x1bc)]=_0x5d0ad2[_0x5e8957(0x1bc)]||(_0x5d0ad2[_0x5e8957(0x1bb)]?_0x5d0ad2[_0x5e8957(0x1bb)][_0x5e8957(0x18d)]+':'+_0x5d0ad2['response'][_0x5e8957(0x1c2)]:_0x5d0ad2),_0x1e71d7;}}static async[a120_0x4c1a18(0x198)](_0x54edb0,_0x238a31=0x0){const _0x216231=a120_0x4c1a18,_0x3efc10={'kaqbR':function(_0xc9c731,_0x22e7b6){return _0xc9c731+_0x22e7b6;},'XJQyF':function(_0x527bae,_0x4c56fd){return _0x527bae(_0x4c56fd);},'pWUlc':_0x216231(0x1ea),'xcWFM':_0x216231(0x16f),'xieqL':'hook_run','yFjXY':function(_0x29ab3b,_0x313904,_0x2965e1){return _0x29ab3b(_0x313904,_0x2965e1);},'UfHAU':_0x216231(0x198),'kNJYB':function(_0x1fb95e,_0x35c1c9){return _0x1fb95e===_0x35c1c9;},'KxFtW':function(_0x1896cc,_0x154200){return _0x1896cc!==_0x154200;},'hpjTU':'null','lQZrH':function(_0x49d49a,_0x1f5a17){return _0x49d49a===_0x1f5a17;},'MDfBR':_0x216231(0x16c),'uxOKH':function(_0x3b3521){return _0x3b3521();},'QkAIy':function(_0x2e7393,_0x53988b){return _0x2e7393(_0x53988b);},'dVDos':function(_0x47425f,_0x1cae6f){return _0x47425f-_0x1cae6f;},'pygYu':_0x216231(0x169),'clafQ':_0x216231(0x1ae),'iJAfV':function(_0xd4cb51,_0x2d85df){return _0xd4cb51>=_0x2d85df;},'Uixnk':function(_0x5012bb,_0x563062){return _0x5012bb(_0x563062);},'npjjn':function(_0x35ea62,_0x3ae5ad){return _0x35ea62!==_0x3ae5ad;},'aRljh':function(_0x4d87f3,_0x12c1d1){return _0x4d87f3-_0x12c1d1;},'tnuve':'Retry\x20runs\x20exceeded','UcInv':_0x216231(0x1a5),'NaTgc':function(_0x56f194,_0x1e9174,_0x4187ea){return _0x56f194(_0x1e9174,_0x4187ea);}},_0x5887fa=this[_0x216231(0x1cf)](_0x54edb0);_0x3efc10[_0x216231(0x17f)](trace,_0x216231(0x14f)+_0x54edb0[_0x216231(0x1ad)]+'\x27\x20'+(bsSetupHelper['nestedKeyValue'](_0x54edb0,[_0x3efc10[_0x216231(0x15c)],_0x3efc10[_0x216231(0x194)]])||bsSetupHelper[_0x216231(0x1c8)](_0x54edb0,[_0x3efc10[_0x216231(0x175)],_0x3efc10[_0x216231(0x194)]])));if(!_0x3efc10[_0x216231(0x170)](shouldProcessEventForTesthub,_0x54edb0[_0x216231(0x1ad)],_0x3efc10[_0x216231(0x1dd)]))return;_0x3efc10[_0x216231(0x154)](_0x238a31,0x0)&&process[_0x216231(0x1e3)][_0x216231(0x180)]&&_0x3efc10[_0x216231(0x1d9)](process[_0x216231(0x1e3)][_0x216231(0x180)],_0x3efc10[_0x216231(0x1b1)])&&(this['requestQueueHandler'][_0x216231(0x162)]+=0x1);if(_0x3efc10['lQZrH'](process[_0x216231(0x1e3)]['BS_TESTOPS_BUILD_COMPLETED'],_0x3efc10[_0x216231(0x14d)])||process[_0x216231(0x1e3)]['BS_A11Y_JWT']||_0x3efc10[_0x216231(0x1b9)](isPercyBuild)){if(_0x3efc10[_0x216231(0x19e)](process['env'][_0x216231(0x180)],_0x3efc10[_0x216231(0x1b1)])){_0x3efc10[_0x216231(0x182)](debug,_0x216231(0x1f5)+_0x5887fa+_0x216231(0x19c)+constants['TEST_REPORTING_ANALYTICS']+_0x216231(0x168)),this[_0x216231(0x164)][_0x216231(0x162)]=Math['max'](0x0,_0x3efc10[_0x216231(0x187)](this['requestQueueHandler']['pendingUploads'],0x1));const _0x96b1a={};return _0x96b1a['status']=_0x3efc10['pygYu'],_0x96b1a['message']=_0x3efc10['clafQ'],_0x96b1a;}return await this[_0x216231(0x1cc)](_0x54edb0,_0x238a31);}else{if(_0x3efc10[_0x216231(0x1c9)](_0x238a31,0x5)){_0x3efc10['Uixnk'](debug,_0x216231(0x1f5)+_0x5887fa+_0x216231(0x19c)+constants['TEST_REPORTING_ANALYTICS']+'\x20:\x20Build\x20Start\x20is\x20not\x20completed\x20and\x20'+_0x5887fa+_0x216231(0x1b7));_0x3efc10[_0x216231(0x1bf)](process['env']['BROWSERSTACK_TESTHUB_JWT'],_0x3efc10['hpjTU'])&&(this['requestQueueHandler'][_0x216231(0x162)]=Math[_0x216231(0x186)](0x0,_0x3efc10['aRljh'](this['requestQueueHandler'][_0x216231(0x162)],0x1)));const _0x28668a={};return _0x28668a[_0x216231(0x18d)]=_0x3efc10['pygYu'],_0x28668a[_0x216231(0x1bc)]=_0x3efc10[_0x216231(0x1a2)],_0x28668a;}else _0x3efc10[_0x216231(0x1bf)](process[_0x216231(0x1e3)][_0x216231(0x1b6)],_0x3efc10['UcInv'])&&_0x3efc10['NaTgc'](setTimeout,()=>{const _0x247747=_0x216231;this[_0x247747(0x198)](_0x54edb0,_0x3efc10[_0x247747(0x1dc)](_0x238a31,0x1));},0x3e8);}}}module[a120_0x4c1a18(0x191)]=SessionHandler;