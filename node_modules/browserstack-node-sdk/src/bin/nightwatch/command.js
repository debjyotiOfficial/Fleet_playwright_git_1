#!/usr/bin/env node
'use strict';const a38_0x5b012b=a38_0x4cf0;function a38_0x4cf0(_0x5dbc57,_0x3b17a9){const _0x42fbfe=a38_0x42fb();return a38_0x4cf0=function(_0x4cf0ea,_0x4b8545){_0x4cf0ea=_0x4cf0ea-0x106;let _0x179e89=_0x42fbfe[_0x4cf0ea];return _0x179e89;},a38_0x4cf0(_0x5dbc57,_0x3b17a9);}(function(_0xd549ec,_0x3b91c3){const _0x4fec6e=a38_0x4cf0,_0x5e0e54=_0xd549ec();while(!![]){try{const _0x480610=-parseInt(_0x4fec6e(0x130))/0x1*(-parseInt(_0x4fec6e(0x11a))/0x2)+parseInt(_0x4fec6e(0x140))/0x3+-parseInt(_0x4fec6e(0x122))/0x4+parseInt(_0x4fec6e(0x109))/0x5+parseInt(_0x4fec6e(0x124))/0x6*(-parseInt(_0x4fec6e(0x112))/0x7)+-parseInt(_0x4fec6e(0x126))/0x8*(parseInt(_0x4fec6e(0x110))/0x9)+parseInt(_0x4fec6e(0x11f))/0xa;if(_0x480610===_0x3b91c3)break;else _0x5e0e54['push'](_0x5e0e54['shift']());}catch(_0x464424){_0x5e0e54['push'](_0x5e0e54['shift']());}}}(a38_0x42fb,0x8dabf));function a38_0x42fb(){const _0x2e1d69=['hub.browserstack.com','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','KSNPo','Deleting\x20','stringify','klPco','length','zvFIX','modifyBrowserStackW3CCaps','webdriver','platforms','swayG','SaqbK','config','push','now','start_process','iZFpQ','2540690OmtMwP','useW3C','YoIxt','forEach','--env','existsSync','KyAkb','2115xHLYgC','isUndefined','940898CkLzKc','child\x20process\x20exited\x20with\x20code\x20','../../helpers/logger','SeRai','../../helpers/BrowserStackSetup','xwQSA','xAADT','selenium','2UysihN','nightwatch.json','ybHrH','env','close','7233790QvDmwR','modifyBrowserStackCaps','pvURG','782800cAkxQe','wEqrs','48AZmkce','info','1504VoLhCo','nightwatch.conf.js','unlinkSync','cwd','filter','splice','path','nightwatch-browserstack.json','aCiqs','desiredCapabilities','376477zTFaVe','EPjse','TDpgD','pXbxf','--config','../../helpers/helper','mergeDeep','POhyh','host','split','findIndex','../utils/constants','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','writeFileSync','slice','test_settings','862455bJLIAX','join','exports','trim','KzknC'];a38_0x42fb=function(){return _0x2e1d69;};return a38_0x42fb();}const fs=require('fs'),path=require(a38_0x5b012b(0x12c)),{spawn}=require('child_process'),logger=require(a38_0x5b012b(0x114))['winstonLogger'],{default:BrowserStackSetup}=require(a38_0x5b012b(0x116)),helper=require(a38_0x5b012b(0x135)),constants=require(a38_0x5b012b(0x13b)),getUserNightwatchConfigs=(_0x1e4822,_0x35a0bd)=>{const _0x1147ee=a38_0x5b012b,_0x1082d0={'wEqrs':_0x1147ee(0x127),'iZFpQ':_0x1147ee(0x11b),'SeRai':function(_0x4e2f57,_0x4c6393){return _0x4e2f57(_0x4c6393);},'aCiqs':_0x1147ee(0x146)};let _0x4b0d09=null,_0x384a9d={};const _0x498b16=_0x35a0bd[_0x1147ee(0x13a)](_0xb9c2a3=>_0xb9c2a3===_0x1147ee(0x134));if(!helper[_0x1147ee(0x111)](_0x1e4822[_0x1147ee(0x152)])&&fs[_0x1147ee(0x10e)](path[_0x1147ee(0x141)](process[_0x1147ee(0x129)](),_0x1e4822['config'])))_0x4b0d09=path[_0x1147ee(0x141)](process['cwd'](),_0x1e4822[_0x1147ee(0x152)]),_0x35a0bd['splice'](_0x498b16,0x2);else{if(fs[_0x1147ee(0x10e)](path[_0x1147ee(0x141)](process['cwd'](),_0x1082d0[_0x1147ee(0x123)])))_0x4b0d09=path[_0x1147ee(0x141)](process[_0x1147ee(0x129)](),_0x1082d0[_0x1147ee(0x123)]);else fs[_0x1147ee(0x10e)](path['join'](process[_0x1147ee(0x129)](),_0x1082d0['iZFpQ']))&&(_0x4b0d09=path[_0x1147ee(0x141)](process[_0x1147ee(0x129)](),_0x1082d0[_0x1147ee(0x108)]));}return _0x4b0d09?(logger[_0x1147ee(0x125)]('Getting\x20your\x20nightwatch\x20configs\x20from\x20'+_0x4b0d09),_0x384a9d=_0x1082d0[_0x1147ee(0x115)](require,_0x4b0d09)):logger['info'](_0x1082d0[_0x1147ee(0x12e)]),_0x384a9d;},removeExistingEnvs=_0x53d827=>{const _0x1e878f=a38_0x5b012b,_0x398cbf={};_0x398cbf[_0x1e878f(0x151)]=function(_0x2043c4,_0x2b1611){return _0x2043c4>_0x2b1611;},_0x398cbf['xwQSA']=function(_0x1b0c37,_0xb5cf13){return _0x1b0c37>_0xb5cf13;};const _0x17ab13=_0x398cbf;let _0x438ec4=_0x53d827[_0x1e878f(0x13a)](_0xa5c6b4=>_0xa5c6b4===_0x1e878f(0x10d));_0x17ab13[_0x1e878f(0x151)](_0x438ec4,-0x1)&&_0x53d827[_0x1e878f(0x12b)](_0x438ec4,0x2),_0x438ec4=_0x53d827[_0x1e878f(0x13a)](_0x393380=>_0x393380==='-e'),_0x17ab13[_0x1e878f(0x117)](_0x438ec4,-0x1)&&_0x53d827[_0x1e878f(0x12b)](_0x438ec4,0x2);};function run(_0x84587f,_0x333c0c,_0x4ab013){const _0x5e8f80=a38_0x5b012b,_0x2201ce={'EPjse':'nightwatch','pXbxf':function(_0x135d71,_0x173c20){return _0x135d71+_0x173c20;},'KyAkb':_0x5e8f80(0x13f),'klPco':function(_0x14899d,_0x396330,_0x4aaed2){return _0x14899d(_0x396330,_0x4aaed2);},'KzknC':_0x5e8f80(0x145),'TDpgD':_0x5e8f80(0x13c),'zvFIX':function(_0x7a64a5,_0x25874b){return _0x7a64a5===_0x25874b;},'pvURG':_0x5e8f80(0x12d),'YoIxt':function(_0x1149ab,_0x16bf2d){return _0x1149ab(_0x16bf2d);},'swayG':function(_0x50b715,_0x441a39,_0x538ea8,_0x51a0cd){return _0x50b715(_0x441a39,_0x538ea8,_0x51a0cd);},'KSNPo':'nightwatch.cmd','POhyh':_0x5e8f80(0x134),'ybHrH':'--env','FHLAr':'inherit','UGZcp':_0x5e8f80(0x11e)};if(!_0x4ab013['config'])return;const _0xd249b5=_0x2201ce[_0x5e8f80(0x14a)](getUserNightwatchConfigs,_0x84587f,_0x333c0c),_0x3b3145={};_0x3b3145[_0x5e8f80(0x107)]=![];const _0x38b0c5={};_0x38b0c5[_0x5e8f80(0x138)]=_0x2201ce[_0x5e8f80(0x144)],_0x38b0c5['port']=0x1bb;const _0x7d6e08={};_0x7d6e08[_0x5e8f80(0x14e)]=_0x3b3145,_0x7d6e08[_0x5e8f80(0x119)]=_0x38b0c5;const _0x310d01=_0x7d6e08;logger[_0x5e8f80(0x125)](_0x2201ce[_0x5e8f80(0x132)]);const _0x1bf45f={..._0xd249b5},_0x32a470=_0x1bf45f,_0xa537d=helper[_0x5e8f80(0x10a)](_0x4ab013['config']),_0x895054=[];_0x4ab013['config'][_0x5e8f80(0x14f)][_0x5e8f80(0x10c)]((_0x5eb561,_0x591c88)=>{const _0x5f1d98=_0x5e8f80;_0xa537d?_0x895054[_0x5f1d98(0x153)](helper[_0x5f1d98(0x14d)](_0x4ab013[_0x5f1d98(0x152)],_0x2201ce['EPjse'],_0x591c88)):_0x895054[_0x5f1d98(0x153)](helper[_0x5f1d98(0x120)](_0x4ab013['config'],_0x2201ce[_0x5f1d98(0x131)],_0x591c88));});const _0x2712a2={},_0x56fa99=[];_0x84587f[_0x5e8f80(0x11d)]=_0x84587f['env']||_0x84587f['e'];const _0x26a960=_0x84587f[_0x5e8f80(0x11d)]?_0x84587f[_0x5e8f80(0x11d)][_0x5e8f80(0x143)]()[_0x5e8f80(0x139)](',')['map'](_0x3d3ca0=>_0x3d3ca0['trim']())[_0x5e8f80(0x12a)](_0x1d4f37=>_0x1d4f37!==''):[''];_0x2201ce[_0x5e8f80(0x14c)](_0x26a960[_0x5e8f80(0x14b)],0x0)&&_0x26a960[_0x5e8f80(0x153)]('');_0x26a960[_0x5e8f80(0x10c)](_0x3f6e77=>{const _0x53effb=_0x5e8f80,_0x170ba2={'UZstj':function(_0x406aa4,_0x677a69){const _0x248c11=a38_0x4cf0;return _0x2201ce[_0x248c11(0x133)](_0x406aa4,_0x677a69);},'xAADT':_0x2201ce[_0x53effb(0x10f)]};_0x895054[_0x53effb(0x10c)](_0x2e6b9e=>{const _0x566b3e=_0x53effb;let _0x32bbdc=_0x170ba2['UZstj'](helper['getPlatformName'](_0x2e6b9e,'_'),'_'+Date[_0x566b3e(0x106)]());_0x3f6e77&&(_0x32bbdc+='_'+_0x3f6e77);if(_0x3f6e77&&(!_0xd249b5[_0x170ba2[_0x566b3e(0x118)]]||!_0xd249b5[_0x170ba2[_0x566b3e(0x118)]][_0x3f6e77]))return;const _0x822d37={..._0x310d01};_0x822d37[_0x566b3e(0x12f)]=_0x2e6b9e;const _0x59d403=_0x822d37;_0x2712a2[_0x32bbdc]=_0x3f6e77?helper[_0x566b3e(0x136)](_0xd249b5[_0x170ba2['xAADT']][_0x3f6e77],_0x59d403):_0x59d403,_0x56fa99[_0x566b3e(0x153)](_0x32bbdc);});});!_0x32a470[_0x5e8f80(0x13f)]&&(_0x32a470[_0x5e8f80(0x13f)]={});_0x32a470[_0x5e8f80(0x13f)]={..._0x32a470['test_settings'],..._0x2712a2};const _0x2d3920=path[_0x5e8f80(0x141)](__dirname,_0x2201ce[_0x5e8f80(0x121)]);fs[_0x5e8f80(0x13d)](_0x2d3920,JSON[_0x5e8f80(0x149)](_0x32a470)),_0x2201ce[_0x5e8f80(0x10b)](removeExistingEnvs,_0x333c0c);const _0x3e1aa1=_0x2201ce[_0x5e8f80(0x150)](spawn,/^win/['test'](process['platform'])?_0x2201ce[_0x5e8f80(0x147)]:_0x2201ce['EPjse'],[_0x2201ce[_0x5e8f80(0x137)],_0x2d3920,..._0x333c0c[_0x5e8f80(0x13e)](0x1),_0x2201ce[_0x5e8f80(0x11c)],_0x56fa99[_0x5e8f80(0x141)](',')],{'stdio':_0x2201ce['FHLAr']});_0x3e1aa1['on'](_0x2201ce['UGZcp'],async _0xd60623=>{const _0x3d39a3=_0x5e8f80;logger['debug'](_0x3d39a3(0x113)+_0xd60623),logger[_0x3d39a3(0x125)](_0x3d39a3(0x148)+_0x2d3920),fs[_0x3d39a3(0x128)](_0x2d3920);});}module[a38_0x5b012b(0x142)]=run;