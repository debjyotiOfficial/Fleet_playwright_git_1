const a47_0x585fef=a47_0xe564;function a47_0xe564(_0x373cd8,_0x13e613){const _0xa65be=a47_0xa65b();return a47_0xe564=function(_0xe564c1,_0x352111){_0xe564c1=_0xe564c1-0x1b2;let _0xd85009=_0xa65be[_0xe564c1];return _0xd85009;},a47_0xe564(_0x373cd8,_0x13e613);}function a47_0xa65b(){const _0x38284e=['getDirPath','format','5004909lCwFlq','aWLar','retry','ZXdjd','LPLfi','shutdown','tests','.browserstack','.txt','MnZLm','join','Error\x20writing\x20trace\x20file:\x20','values','parse','fQFrs','../../../helpers/helper','project','unobR','../../../helpers/logger','pOLnH','BHxCj','63434ZfckgU','__projectId','filePath','../../../helpers/test-observability/constants','_platformDetails.json','toString','getFilePath','getTestIdFromTestInfo','winstonLogger','mkdirSync','yNuxf','env','push','endsWith','Svyro','getAccessibilityPlatformValidation','MdDYL','trace_','homedir','_traceZipPaths.json','63epqyxZ','getStoreDirName','OjvdF','getProjectIdFromTestInfo','XZgzA','readFileSync','some','2qhSNwL','exports','Error\x20reading\x20trace\x20file\x20paths:\x20%s','_projectId','uuid','51502130vZZdpQ','oOvnV','getStoreDirPath','TOvSv','bzdlL','getTraceZipDir','recursive','utf8','Error\x20handling\x20trace\x20file\x20paths:\x20','1438286BeYXda','voLJV','ioCvf','kREGO','getTestUUID','path','getTestDetails','getTraceFilePaths','PujfA','string','lsbtY','_test','492lbeoHs','setTestDetails','2709524gjpong','default','message','BS_TESTOPS_BUILD_HASHED_ID','ITJjI','XaqSO','1964152vZtLZk','existsSync','stringify','674145uXHqUL','error','readdirSync','Ciiid','.json'];a47_0xa65b=function(){return _0x38284e;};return a47_0xa65b();}(function(_0x3db7af,_0x4519ea){const _0x3251bf=a47_0xe564,_0x87afaa=_0x3db7af();while(!![]){try{const _0x54511f=parseInt(_0x3251bf(0x1f4))/0x1*(parseInt(_0x3251bf(0x1e6))/0x2)+parseInt(_0x3251bf(0x1b6))/0x3+parseInt(_0x3251bf(0x202))/0x4+-parseInt(_0x3251bf(0x20b))/0x5+-parseInt(_0x3251bf(0x200))/0x6*(-parseInt(_0x3251bf(0x1cb))/0x7)+parseInt(_0x3251bf(0x208))/0x8*(parseInt(_0x3251bf(0x1df))/0x9)+-parseInt(_0x3251bf(0x1eb))/0xa;if(_0x54511f===_0x4519ea)break;else _0x87afaa['push'](_0x87afaa['shift']());}catch(_0xfe3d08){_0x87afaa['push'](_0x87afaa['shift']());}}}(a47_0xa65b,0xea885));const fs=require('fs'),path=require(a47_0x585fef(0x1f9)),{v4:uuidv4}=require(a47_0x585fef(0x1ea)),{TEMP_STORE_DIR_NAME}=require(a47_0x585fef(0x1ce)),{nestedKeyValue}=require('../../../helpers/helper'),logger=require('../../../helpers/logger')[a47_0x585fef(0x1d3)],{getLogDir}=require(a47_0x585fef(0x1c8)),util=require('util'),helper=require(a47_0x585fef(0x1c5));class TestDetails{static [a47_0x585fef(0x1bc)]={};static['setup'](){const _0x2aa7c2=a47_0x585fef;this['shutdown']();const _0x133846={};_0x133846[_0x2aa7c2(0x1f1)]=!![],fs[_0x2aa7c2(0x1d4)](this[_0x2aa7c2(0x1b4)](),_0x133846);const _0x4e1d43={};_0x4e1d43[_0x2aa7c2(0x1f1)]=!![],fs[_0x2aa7c2(0x1d4)](this[_0x2aa7c2(0x1f0)](),_0x4e1d43);}static[a47_0x585fef(0x1e0)](){const _0x47fa7c=a47_0x585fef,_0x281526={};_0x281526[_0x47fa7c(0x1b9)]=function(_0x223d5d,_0x2cc162){return _0x223d5d+_0x2cc162;},_0x281526['XZgzA']=function(_0x15a9ac,_0x5d338d){return _0x15a9ac+_0x5d338d;};const _0x5329b1=_0x281526;return _0x5329b1['ZXdjd'](_0x5329b1[_0x47fa7c(0x1e3)](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x47fa7c(0x205)]);}static[a47_0x585fef(0x1ed)](){const _0x457c22=a47_0x585fef,_0x31a779={};_0x31a779[_0x457c22(0x1db)]=function(_0x36687a,_0x5ed8c7){return _0x36687a+_0x5ed8c7;},_0x31a779['fQFrs']=function(_0x1bbdd3,_0x4be6e4){return _0x1bbdd3+_0x4be6e4;},_0x31a779['MnZLm']=_0x457c22(0x203);const _0x28da56=_0x31a779;return path[_0x457c22(0x1c0)](_0x28da56[_0x457c22(0x1db)](_0x28da56[_0x457c22(0x1c4)](TEMP_STORE_DIR_NAME,'-'),process[_0x457c22(0x1d6)][_0x457c22(0x205)]||_0x28da56[_0x457c22(0x1bf)]));}static[a47_0x585fef(0x1f0)](){const _0xaacc78=a47_0x585fef,_0x3598df={};_0x3598df[_0xaacc78(0x1f7)]='traceZipPaths';const _0x6938c5=_0x3598df;return path[_0xaacc78(0x1c0)](this['getStoreDirPath'](),_0x6938c5[_0xaacc78(0x1f7)]);}static['getDirPath'](){const _0x4cbfa0=a47_0x585fef;return TestDetails[_0x4cbfa0(0x1e0)]();}static[a47_0x585fef(0x1d1)](_0x4bf8d4){const _0x6a0882=a47_0x585fef,_0xe4bd59={};_0xe4bd59[_0x6a0882(0x1fc)]=function(_0x2267eb,_0x5d31d1){return _0x2267eb+_0x5d31d1;},_0xe4bd59[_0x6a0882(0x1b2)]=_0x6a0882(0x1b3);const _0x2e4529=_0xe4bd59;return path[_0x6a0882(0x1c0)](this['getDirPath'](),_0x2e4529[_0x6a0882(0x1fc)](_0x4bf8d4,_0x2e4529[_0x6a0882(0x1b2)]));}static['getTestRunIdFromTestInfo'](_0x454668){const _0x38445e=a47_0x585fef,_0x484158={};_0x484158[_0x38445e(0x1ec)]=function(_0x37baa8,_0x47916c){return _0x37baa8+_0x47916c;},_0x484158['TOvSv']=function(_0x34d34a,_0x48acf4){return _0x34d34a+_0x48acf4;},_0x484158[_0x38445e(0x206)]=function(_0x39c941,_0x11b3a4){return _0x39c941+_0x11b3a4;},_0x484158[_0x38445e(0x1c9)]=function(_0x5f0fc1,_0x29f087){return _0x5f0fc1+_0x29f087;};const _0xd264e5=_0x484158;return _0xd264e5[_0x38445e(0x1ec)](_0xd264e5[_0x38445e(0x1ee)](_0xd264e5[_0x38445e(0x206)](_0xd264e5[_0x38445e(0x1c9)](this[_0x38445e(0x1e2)](_0x454668),'-'),this[_0x38445e(0x1d2)](_0x454668)),'-'),_0x454668[_0x38445e(0x1b8)]);}static['getProjectIdFromTestInfo'](_0x569808){const _0x315957=a47_0x585fef,_0xd5e8f0={'ioCvf':function(_0x1dd946,_0x49f5a0,_0x1a7163){return _0x1dd946(_0x49f5a0,_0x1a7163);},'bzdlL':_0x315957(0x1ff),'lsbtY':_0x315957(0x1e9),'yNuxf':_0x315957(0x1c6),'BHxCj':_0x315957(0x1cc)};return _0xd5e8f0[_0x315957(0x1f6)](nestedKeyValue,_0x569808,[_0xd5e8f0[_0x315957(0x1ef)],_0xd5e8f0[_0x315957(0x1fe)]])||_0xd5e8f0['ioCvf'](nestedKeyValue,_0x569808,[_0xd5e8f0[_0x315957(0x1d5)],_0xd5e8f0[_0x315957(0x1ca)]]);}static[a47_0x585fef(0x1d2)](_0x12e8ec){const _0x405a75={'wXsHJ':function(_0x198235,_0x4ad720,_0x5dbc78){return _0x198235(_0x4ad720,_0x5dbc78);},'ldqEZ':'_test'};return _0x405a75['wXsHJ'](nestedKeyValue,_0x12e8ec,[_0x405a75['ldqEZ'],'id'])||_0x12e8ec['testId'];}static[a47_0x585fef(0x1f8)](_0x527b7f){const _0x28cb13=a47_0x585fef,_0x285ee2={'Svyro':function(_0x4685e0,_0x1b3326){return _0x4685e0===_0x1b3326;},'LPLfi':_0x28cb13(0x1fd),'ZRmYB':function(_0x1b2b1e){return _0x1b2b1e();}};if(this[_0x28cb13(0x1bc)][_0x527b7f]&&_0x285ee2[_0x28cb13(0x1d9)](typeof this[_0x28cb13(0x1bc)][_0x527b7f][_0x28cb13(0x1ea)],_0x285ee2[_0x28cb13(0x1ba)]))return this[_0x28cb13(0x1bc)][_0x527b7f][_0x28cb13(0x1ea)];const _0x2e2282=this[_0x28cb13(0x1d1)](_0x527b7f);if(_0x2e2282&&fs[_0x28cb13(0x209)](_0x2e2282)){const _0x5d8971=JSON[_0x28cb13(0x1c3)](fs[_0x28cb13(0x1e4)](_0x2e2282)['toString']());return this[_0x28cb13(0x1bc)][_0x527b7f]=_0x5d8971,this['tests'][_0x527b7f][_0x28cb13(0x1ea)];}return this[_0x28cb13(0x1bc)][_0x527b7f]={'uuid':_0x285ee2['ZRmYB'](uuidv4)},fs['writeFileSync'](_0x2e2282,JSON[_0x28cb13(0x20a)](this[_0x28cb13(0x1bc)][_0x527b7f])),this['tests'][_0x527b7f][_0x28cb13(0x1ea)];}static[a47_0x585fef(0x1da)](_0x404946){const _0x134fa6=a47_0x585fef,_0x1a3aee=path[_0x134fa6(0x1c0)](this[_0x134fa6(0x1b4)](),_0x404946+_0x134fa6(0x1cf));if(_0x1a3aee&&fs[_0x134fa6(0x209)](_0x1a3aee))return fs[_0x134fa6(0x1e4)](_0x1a3aee)[_0x134fa6(0x1d0)]();}static['setAccessibilityPlatformValidation'](_0x1fc6a9,_0x1f9aa5){const _0x3915ad=a47_0x585fef,_0x59f763=path[_0x3915ad(0x1c0)](this[_0x3915ad(0x1b4)](),_0x1f9aa5+_0x3915ad(0x1cf));fs['writeFileSync'](_0x59f763,_0x1fc6a9[_0x3915ad(0x1d0)]());}static[a47_0x585fef(0x1bb)](){const _0x10b532={};_0x10b532['recursive']=!![],_0x10b532['force']=!![],fs['rmSync'](this['getDirPath'](),_0x10b532);}static[a47_0x585fef(0x1fa)](_0x19464d){const _0x5771a8=a47_0x585fef;if(this[_0x5771a8(0x1bc)][_0x19464d])return this['tests'][_0x19464d];const _0x1ef7bb=this[_0x5771a8(0x1d1)](_0x19464d);if(_0x1ef7bb&&fs[_0x5771a8(0x209)](_0x1ef7bb)){const _0x30524a=JSON[_0x5771a8(0x1c3)](fs[_0x5771a8(0x1e4)](_0x1ef7bb)[_0x5771a8(0x1d0)]());return this[_0x5771a8(0x1bc)][_0x19464d]=_0x30524a,_0x30524a;}return{};}static[a47_0x585fef(0x201)](_0x3c0ce9,_0x170904){const _0x59ea55=a47_0x585fef,_0x5b854c=this[_0x59ea55(0x1d1)](_0x3c0ce9);if(_0x5b854c&&fs[_0x59ea55(0x209)](_0x5b854c)){const _0x37baf6=JSON[_0x59ea55(0x1c3)](fs[_0x59ea55(0x1e4)](_0x5b854c)[_0x59ea55(0x1d0)]()),_0x57752b={..._0x37baf6,..._0x170904};this[_0x59ea55(0x1bc)][_0x3c0ce9]=_0x57752b;}else this[_0x59ea55(0x1bc)][_0x3c0ce9]=_0x170904;fs['writeFileSync'](_0x5b854c,this[_0x59ea55(0x1bc)][_0x3c0ce9]);}static['addTraceFilePath'](_0x57138c){const _0x4fc92a=a47_0x585fef,_0x3280c0={};_0x3280c0[_0x4fc92a(0x1b7)]=_0x4fc92a(0x1f3);const _0x4fdb2b=_0x3280c0;try{const _0x151a0a=process['pid'],_0x1e6e48=path[_0x4fc92a(0x1c0)](TestDetails[_0x4fc92a(0x1f0)](),_0x151a0a+_0x4fc92a(0x1de));let _0x4cf1c2=[];_0x1e6e48&&fs[_0x4fc92a(0x209)](_0x1e6e48)&&(_0x4cf1c2=JSON[_0x4fc92a(0x1c3)](fs[_0x4fc92a(0x1e4)](_0x1e6e48)[_0x4fc92a(0x1d0)]())),!_0x4cf1c2[_0x4fc92a(0x1e5)](_0x54c366=>_0x54c366['filePath']===_0x57138c[_0x4fc92a(0x1cd)])&&(_0x4cf1c2[_0x4fc92a(0x1d7)](_0x57138c),fs['writeFileSync'](_0x1e6e48,JSON[_0x4fc92a(0x20a)](_0x4cf1c2)));}catch(_0xe705a4){logger[_0x4fc92a(0x20c)](_0x4fdb2b['aWLar'],_0xe705a4);}}static[a47_0x585fef(0x1fb)](){const _0x5274c8=a47_0x585fef,_0x55a51c={};_0x55a51c[_0x5274c8(0x1e1)]='_traceZipPaths.json',_0x55a51c[_0x5274c8(0x1f5)]=_0x5274c8(0x1e8);const _0xa6a296=_0x55a51c,_0xe5c8ea=[];try{const _0xfb81d7=TestDetails[_0x5274c8(0x1f0)]();if(_0xfb81d7&&!fs[_0x5274c8(0x209)](_0xfb81d7))return _0xe5c8ea;const _0x113218=fs[_0x5274c8(0x20d)](_0xfb81d7);_0x113218['forEach'](_0x1a03fc=>{const _0x2c0e8c=_0x5274c8;if(_0x1a03fc&&_0x1a03fc[_0x2c0e8c(0x1d8)](_0xa6a296['OjvdF'])){const _0x5a3e93=JSON['parse'](fs[_0x2c0e8c(0x1e4)](path[_0x2c0e8c(0x1c0)](_0xfb81d7,_0x1a03fc))['toString']());_0xe5c8ea[_0x2c0e8c(0x1d7)](..._0x5a3e93);}});}catch(_0x27d46a){logger['error'](util[_0x5274c8(0x1b5)](_0xa6a296['voLJV'],_0x27d46a));}const _0x404527={};return _0xe5c8ea['forEach'](_0x389ddf=>{const _0x5e0113=_0x5274c8;_0x404527[_0x389ddf[_0x5e0113(0x1cd)]]=_0x389ddf;}),Object[_0x5274c8(0x1c2)](_0x404527);}static['appendToTracePaths'](_0x128d89,_0x5bbd84){const _0x5a97df=a47_0x585fef,_0x16083d={};_0x16083d['XaqSO']=_0x5a97df(0x1bd),_0x16083d['unobR']=_0x5a97df(0x1f2);const _0x4d487c=_0x16083d;try{const _0x36b62b=path[_0x5a97df(0x1c0)](helper[_0x5a97df(0x1dd)](),_0x4d487c[_0x5a97df(0x207)]);if(!fs[_0x5a97df(0x209)](_0x36b62b)){const _0x3b35ac={};_0x3b35ac[_0x5a97df(0x1f1)]=!![],fs[_0x5a97df(0x1d4)](_0x36b62b,_0x3b35ac);}fs['appendFileSync'](path[_0x5a97df(0x1c0)](_0x36b62b,_0x5a97df(0x1dc)+_0x5bbd84+_0x5a97df(0x1be)),_0x128d89+'\x0a',_0x4d487c[_0x5a97df(0x1c7)]);}catch(_0x3abfdc){console['error'](_0x5a97df(0x1c1)+_0x3abfdc[_0x5a97df(0x204)]);}}}module[a47_0x585fef(0x1e7)]=TestDetails;