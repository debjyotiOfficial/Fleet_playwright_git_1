function a7_0x2b76(_0x896319,_0x2b4639){const _0x322928=a7_0x3229();return a7_0x2b76=function(_0x2b76e1,_0x293c24){_0x2b76e1=_0x2b76e1-0x103;let _0x353702=_0x322928[_0x2b76e1];return _0x353702;},a7_0x2b76(_0x896319,_0x2b4639);}const a7_0x345412=a7_0x2b76;function a7_0x3229(){const _0x123be8=['380050gMRAcM','hqynX','extractStepContainers','onTestRunStarted','FAILED','SVNru','result','text','hFvDX','onTestCaseStarted','steps','pickleMap','stepDefinition','onTestCaseFinished','report','WzEeO','onSource','parseTestCaseAttempt','find','forEach','logTestCaseFinished','Zqntf','ySuyM','sourceLocation','failure','eventBroadcaster','testStepId','Dcjvp','onGherkinDocument','TestRunStarted','debug','EGEVs','status','xyCcL','testRunFinished','testCaseMap','14umQSPw','Executing\x20tests\x20for\x20','cucumber-js/test.setup.js','10pPjFRc','KZOxi','hook','__platform','name','onTestCase','UNKNOWN','map','dtKrq','136EvKOdd','push','3|1|2|0|4','testCaseAttempt','pickleStepId','oQUaL','100179nryRBe','lddAX','pickleId','description','split','Exception\x20in\x20onTestStepStarted\x20event:\x20','ETrjg','115MtBDGl','setup','hooks','5388kvNuJr','5551wNzZov','SgtPE','testCaseAttemptDataMap','testCaseId','PENDING','../../../helpers/testhub/utils.js','onStepDefinition','toLowerCase','@cucumber/cucumber','supportCodeLibrary','PASSED','DUsRV','getGherkinStepMap','SJlyR','feature','testRunStarted','tXjow','parse','winstonLogger','hXmJB','seconds','xEluE','onHook','finished_at','UUyjP','scenario','AMBIGUOUS','TDFXI','odqqV','duration','getTestUUID','QuvzV','testStepFinished','wIXgF','assign','81992dBwysY','children','onTestStepFinished','xPvcy','HeBcA','Urnoo','testCaseFinished','isBstackHook','../../../helpers/test-observability/error-handler','qoyJc','TestRunFinished','\x20-\x20','message','logTestRunFinished','failureType','rule','jltII','sendTestRunEventForCucumber','cfhDT','../../../helpers/helper','CONFIG','IUZhw','zwSTK','toISOString','testStepStarted','format','pickle','ibOmM','Akzqw','keyword','values','env','ylszr','envelope','onTestStepStarted','wUrLQ','3985146bWOuLP','\x20\x20\x20\x20','incrementCounter','snippetBuilder','Tnbhh','NsIgZ','eventDataCollector','HookRunStarted','yIOBt','cSaLf','cwd','onTestRunFinished','getGherkinDocument','SlSLC','uri','background','testCases','onPickle','UnhandledError','flat','sendHook','testSteps','pJUlA','tVwUQ','testStepResult','testCaseStarted','eCxnJ','../../playwright/reporter/test-details.js','actionLocation','XoYzX','15429aThIWV','testCase','log','UNDEFINED','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','gherkinDocument','exception','testCaseStartedId','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20'];a7_0x3229=function(){return _0x123be8;};return a7_0x3229();}(function(_0x54529d,_0x24c3ad){const _0x26f37c=a7_0x2b76,_0x5fbbcc=_0x54529d();while(!![]){try{const _0x4e5b45=parseInt(_0x26f37c(0x13e))/0x1*(-parseInt(_0x26f37c(0x124))/0x2)+parseInt(_0x26f37c(0x1a3))/0x3*(-parseInt(_0x26f37c(0x12d))/0x4)+parseInt(_0x26f37c(0x13a))/0x5*(parseInt(_0x26f37c(0x13d))/0x6)+-parseInt(_0x26f37c(0x121))/0x7*(parseInt(_0x26f37c(0x161))/0x8)+parseInt(_0x26f37c(0x133))/0x9+-parseInt(_0x26f37c(0x1ac))/0xa+parseInt(_0x26f37c(0x185))/0xb;if(_0x4e5b45===_0x24c3ad)break;else _0x5fbbcc['push'](_0x5fbbcc['shift']());}catch(_0x55426b){_0x5fbbcc['push'](_0x5fbbcc['shift']());}}}(a7_0x3229,0x20757));const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a7_0x345412(0x174)),util=require('util'),{Formatter,formatterHelpers,Status}=requireModule(a7_0x345412(0x146)),TestDetails=require(a7_0x345412(0x1a0)),TestObservabilityReporter=require('../test-observability.js'),{o11yClassErrorHandler}=require(a7_0x345412(0x169)),{shouldProcessEventForTesthub}=require(a7_0x345412(0x143)),testObservabilityReporter=new TestObservabilityReporter(),logger=require('../../../helpers/logger')[a7_0x345412(0x150)],_tests={},_testCasesData={};class BrowserstackFormatter extends Formatter{constructor(_0x48a5c1){const _0x52b93b=a7_0x345412,_0x34db12={};_0x34db12[_0x52b93b(0x153)]=_0x52b93b(0x182);const _0x29496c=_0x34db12;super(_0x48a5c1),this[_0x52b93b(0x10b)]={},_0x48a5c1[_0x52b93b(0x116)]['on'](_0x29496c[_0x52b93b(0x153)],async _0x3bc2dc=>{const _0x8c4bf0=_0x52b93b;switch(!![]){case!!_0x3bc2dc[_0x8c4bf0(0x14d)]:this[_0x8c4bf0(0x1af)](_0x3bc2dc[_0x8c4bf0(0x14d)]);break;case!!_0x3bc2dc[_0x8c4bf0(0x11f)]:this[_0x8c4bf0(0x190)](_0x3bc2dc[_0x8c4bf0(0x11f)]);break;case!!_0x3bc2dc['testCaseStarted']:this[_0x8c4bf0(0x106)](_0x3bc2dc['testCaseStarted'],_0x48a5c1,_0x3bc2dc);break;case!!_0x3bc2dc[_0x8c4bf0(0x167)]:this[_0x8c4bf0(0x10a)](_0x3bc2dc[_0x8c4bf0(0x167)],_0x48a5c1,_0x3bc2dc);break;case!!_0x3bc2dc['testStepStarted']:this[_0x8c4bf0(0x183)](_0x3bc2dc[_0x8c4bf0(0x179)],_0x48a5c1);break;case!!_0x3bc2dc[_0x8c4bf0(0x15e)]:this[_0x8c4bf0(0x163)](_0x3bc2dc[_0x8c4bf0(0x15e)],_0x48a5c1);break;case!!_0x3bc2dc[_0x8c4bf0(0x126)]:this[_0x8c4bf0(0x154)](_0x3bc2dc[_0x8c4bf0(0x126)]);break;case!!_0x3bc2dc[_0x8c4bf0(0x1a4)]:this[_0x8c4bf0(0x129)](_0x3bc2dc['testCase']);break;case!!_0x3bc2dc[_0x8c4bf0(0x17b)]:this[_0x8c4bf0(0x196)](_0x3bc2dc[_0x8c4bf0(0x17b)]);break;case!!_0x3bc2dc[_0x8c4bf0(0x1a8)]:this[_0x8c4bf0(0x119)](_0x3bc2dc[_0x8c4bf0(0x1a8)]);break;}});}[a7_0x345412(0x154)](_0x2a41ba){const _0x5b3578=a7_0x345412;this[_0x5b3578(0x10b)][_0x5b3578(0x13c)]=Object[_0x5b3578(0x160)]([],this[_0x5b3578(0x10b)][_0x5b3578(0x13c)]||[]),this[_0x5b3578(0x10b)][_0x5b3578(0x13c)][_0x5b3578(0x12e)](_0x2a41ba);}[a7_0x345412(0x196)](_0x103a2d){const _0x28d4eb=a7_0x345412;this[_0x28d4eb(0x10b)][_0x28d4eb(0x17b)]=Object[_0x28d4eb(0x160)]([],this['report'][_0x28d4eb(0x17b)]||[],[_0x103a2d]),this[_0x28d4eb(0x10b)][_0x28d4eb(0x17b)]['push'](_0x103a2d);}[a7_0x345412(0x119)](_0x315dfb){const _0x4737f0=a7_0x345412;this['report'][_0x4737f0(0x1a8)]=Object[_0x4737f0(0x160)]([],this['report']['gherkinDocument']||[],[_0x315dfb]),this[_0x4737f0(0x10b)][_0x4737f0(0x1a8)][_0x4737f0(0x12e)](_0x315dfb);}[a7_0x345412(0x10d)](_0x5c67e8){const _0x31bd93=a7_0x345412;this[_0x31bd93(0x10b)]['source']=_0x5c67e8;}[a7_0x345412(0x144)](_0x5aa6ae){const _0x41f996=a7_0x345412;this[_0x41f996(0x10b)][_0x41f996(0x109)]=Object[_0x41f996(0x160)]([],this[_0x41f996(0x10b)]['stepDefinition']||[],[_0x5aa6ae]),this[_0x41f996(0x10b)]['stepDefinition'][_0x41f996(0x12e)](_0x5aa6ae);}['onTestCase'](_0x47e026){const _0x45618e=a7_0x345412;this[_0x45618e(0x10b)]['testCases']=Object[_0x45618e(0x160)]([],this[_0x45618e(0x10b)]['testCases']||[],[_0x47e026]),this['report']['testCases'][_0x45618e(0x12e)](_0x47e026);}[a7_0x345412(0x111)](_0x5473ba){const _0x2e9f3a=a7_0x345412,_0x17918a={'qoyJc':function(_0x4797ef,_0x282fa7){return _0x4797ef!==_0x282fa7;},'CSyfH':'bstack','cSaLf':function(_0x3b6ffe,_0x4d44be){return _0x3b6ffe+_0x4d44be;},'SlSLC':function(_0x323658,_0x2bffca){return _0x323658+_0x2bffca;},'wIXgF':function(_0x3117eb,_0x545107){return _0x3117eb+_0x545107;},'QuvzV':_0x2e9f3a(0x186),'ylszr':_0x2e9f3a(0x16c),'Gakak':function(_0x5ee829,_0x4d3a34){return _0x5ee829===_0x4d3a34;},'DwinV':_0x2e9f3a(0x1b0),'Dcjvp':function(_0xf9e1f6,_0x5278bf,_0x1c113d){return _0xf9e1f6(_0x5278bf,_0x1c113d);},'Urnoo':'result','pJUlA':'message','wUrLQ':function(_0x52eab7,_0x28269e){return _0x52eab7!==_0x28269e;},'xyCcL':function(_0x2dc839,_0x403db4){return _0x2dc839+_0x403db4;},'tVwUQ':function(_0x2dd19c,_0x1fad36){return _0x2dd19c+_0x1fad36;}};_0x17918a[_0x2e9f3a(0x184)](global[_0x2e9f3a(0x127)],undefined)&&this[_0x2e9f3a(0x1a5)](_0x17918a['wIXgF'](_0x17918a[_0x2e9f3a(0x11e)]('\x0a',global[_0x2e9f3a(0x127)]),'\x0a'));const _0xf2e377=this[_0x2e9f3a(0x18b)]['getTestCaseAttempt'](_0x5473ba[_0x2e9f3a(0x1aa)]);this[_0x2e9f3a(0x1a5)](_0x17918a[_0x2e9f3a(0x18e)](_0x17918a['tVwUQ'](_0x17918a[_0x2e9f3a(0x192)](_0x17918a[_0x2e9f3a(0x19c)]('\x20\x20',_0xf2e377[_0x2e9f3a(0x1a8)][_0x2e9f3a(0x14c)][_0x2e9f3a(0x128)]),_0x17918a[_0x2e9f3a(0x181)]),_0xf2e377[_0x2e9f3a(0x17b)][_0x2e9f3a(0x128)]),'\x0a'));const _0x5dbad2={};_0x5dbad2[_0x2e9f3a(0x18f)]=this['cwd'],_0x5dbad2[_0x2e9f3a(0x188)]=this[_0x2e9f3a(0x188)],_0x5dbad2[_0x2e9f3a(0x147)]=this['supportCodeLibrary'],_0x5dbad2[_0x2e9f3a(0x130)]=_0xf2e377;const _0x41502a=formatterHelpers[_0x2e9f3a(0x10e)](_0x5dbad2);let _0x5404f6=![];_0x41502a[_0x2e9f3a(0x19a)][_0x2e9f3a(0x110)](_0x1a5e71=>{const _0x2fd5bf=_0x2e9f3a;if(_0x17918a[_0x2fd5bf(0x16a)](_0x1a5e71[_0x2fd5bf(0x128)],_0x17918a['CSyfH'])&&!this[_0x2fd5bf(0x168)](_0x1a5e71)){totalTests+=0x1,this[_0x2fd5bf(0x1a5)](_0x17918a[_0x2fd5bf(0x18e)](_0x17918a['SlSLC'](_0x17918a[_0x2fd5bf(0x18e)](_0x17918a['SlSLC'](_0x17918a[_0x2fd5bf(0x15f)](_0x17918a[_0x2fd5bf(0x15d)],_0x1a5e71[_0x2fd5bf(0x17e)]),_0x1a5e71[_0x2fd5bf(0x104)]||''),_0x17918a[_0x2fd5bf(0x181)]),Status[_0x1a5e71[_0x2fd5bf(0x103)][_0x2fd5bf(0x11d)]]),'\x0a')),this[_0x2fd5bf(0x187)](Status[_0x1a5e71[_0x2fd5bf(0x103)][_0x2fd5bf(0x11d)]]);if(_0x17918a['Gakak'](Status[_0x1a5e71['result'][_0x2fd5bf(0x11d)]],_0x17918a['DwinV'])){_0x5404f6=!![];const _0x1ac204=_0x17918a[_0x2fd5bf(0x118)](nestedKeyValue,_0x1a5e71,[_0x17918a[_0x2fd5bf(0x166)],_0x17918a[_0x2fd5bf(0x19b)]]);_0x1ac204&&(testsErrorMessage[_0x17918a['SlSLC'](_0x17918a[_0x2fd5bf(0x192)](_0xf2e377[_0x2fd5bf(0x1a8)][_0x2fd5bf(0x14c)][_0x2fd5bf(0x128)],_0x17918a['ylszr']),_0xf2e377['pickle'][_0x2fd5bf(0x128)])]=_0x1ac204,this[_0x2fd5bf(0x1a5)](_0x17918a[_0x2fd5bf(0x15f)](_0x1ac204,'\x0a')));}}}),_0x5404f6&&(testSuitesFailed+=0x1),this[_0x2e9f3a(0x1a5)]('\x0a');}[a7_0x345412(0x16e)](_0x59ecf8){}[a7_0x345412(0x168)](_0x5cdef4){const _0x748e83=a7_0x345412,_0x343637={};_0x343637[_0x748e83(0x149)]=function(_0x38b611,_0x1063bc){return _0x38b611!==_0x1063bc;},_0x343637[_0x748e83(0x125)]=_0x748e83(0x123);const _0x499b88=_0x343637;if(_0x499b88[_0x748e83(0x149)](_0x5cdef4[_0x748e83(0x114)],undefined))return![];if(_0x5cdef4[_0x748e83(0x1a1)]&&_0x5cdef4['actionLocation'][_0x748e83(0x193)]['includes'](_0x499b88[_0x748e83(0x125)]))return!![];return![];}['incrementCounter'](_0x8037a9){const _0x4603f4=a7_0x345412,_0x289b11={};_0x289b11[_0x4603f4(0x139)]=_0x4603f4(0x1b0),_0x289b11['HeBcA']=_0x4603f4(0x148),_0x289b11[_0x4603f4(0x19f)]='SKIPPED',_0x289b11[_0x4603f4(0x13f)]=_0x4603f4(0x142),_0x289b11[_0x4603f4(0x17d)]=_0x4603f4(0x1a6),_0x289b11['EGEVs']=_0x4603f4(0x12a),_0x289b11[_0x4603f4(0x156)]=_0x4603f4(0x158);const _0x39ce45=_0x289b11;switch(_0x8037a9){case _0x39ce45['ETrjg']:testsFailed+=0x1;break;case _0x39ce45[_0x4603f4(0x165)]:testsPassed+=0x1;break;case _0x39ce45[_0x4603f4(0x19f)]:testsSkipped+=0x1;break;case _0x39ce45[_0x4603f4(0x13f)]:testsPending+=0x1;break;case _0x39ce45[_0x4603f4(0x17d)]:testsUndefined+=0x1;break;case _0x39ce45[_0x4603f4(0x11c)]:testsUnknown+=0x1;break;case _0x39ce45[_0x4603f4(0x156)]:testsAmbiguous+=0x1;break;default:break;}}['onTestRunStarted'](_0x44f1a8){const _0x1f2e80=a7_0x345412,_0xf931c={'XoYzX':function(_0x191afb,_0x320778){return _0x191afb!==_0x320778;},'WzEeO':function(_0x10c585,_0x2e0767){return _0x10c585!==_0x2e0767;},'NsIgZ':function(_0x5bb135){return _0x5bb135();},'zwSTK':function(_0x1842e1,_0x27dcea){return _0x1842e1(_0x27dcea);},'TDFXI':function(_0x50d231,_0x472311){return _0x50d231+_0x472311;}};let _0x19aa1b;if(_0xf931c[_0x1f2e80(0x1a2)](process[_0x1f2e80(0x180)]['CONFIG'],undefined)){const _0x1b8854=JSON[_0x1f2e80(0x14f)](process[_0x1f2e80(0x180)][_0x1f2e80(0x175)]);_0x19aa1b=_0x1b8854['capability'];}_0xf931c[_0x1f2e80(0x10c)](_0x19aa1b,undefined)&&_0xf931c[_0x1f2e80(0x18a)](isBrowserstackInfra)&&(global[_0x1f2e80(0x127)]=_0xf931c[_0x1f2e80(0x177)](getPlatformName,_0x19aa1b),this[_0x1f2e80(0x1a5)](_0xf931c[_0x1f2e80(0x159)](_0x1f2e80(0x122)+global[_0x1f2e80(0x127)],'\x0a'))),_0xf931c[_0x1f2e80(0x18a)](shouldProcessEventForTesthub)&&(TestDetails[_0x1f2e80(0x13b)](),this['report'][_0x1f2e80(0x14d)]=_0x44f1a8);}[a7_0x345412(0x190)](_0x1dd6ae){const _0x5ca91f=a7_0x345412;this[_0x5ca91f(0x10b)][_0x5ca91f(0x11f)]=_0x1dd6ae,this[_0x5ca91f(0x16e)](_0x1dd6ae);}async['onTestCaseStarted'](_0x176fa9,_0xe3ddc2,_0x91f307){const _0x2bd150=a7_0x345412,_0x529938={'LlRDy':function(_0x112300,_0x267b49){return _0x112300(_0x267b49);},'IUZhw':_0x2bd150(0x11a),'lddAX':function(_0x56cd34,_0x153b0f){return _0x56cd34&&_0x153b0f;}};testSuites+=0x1;if(_0x529938['LlRDy'](shouldProcessEventForTesthub,_0x529938[_0x2bd150(0x176)]))try{this[_0x2bd150(0x10b)][_0x2bd150(0x19e)]=this[_0x2bd150(0x10b)]['testCaseStarted']||{},this['report']['testCaseStarted'][_0x176fa9['id']]=_0x176fa9;const _0x21d060=TestDetails[_0x2bd150(0x15c)](_0x176fa9['id']);_testCasesData[_0x176fa9['id']]=Object[_0x2bd150(0x160)]({},_0x91f307);const _0x5040be=this[_0x2bd150(0x10b)],_0x37a659=_0x176fa9[_0x2bd150(0x141)],_0x631a7e=_0x5040be[_0x2bd150(0x195)][_0x2bd150(0x10f)](_0x5135db=>_0x5135db['id']===_0x37a659)[_0x2bd150(0x135)],_0x19fb5c=_0x5040be['pickle'][_0x2bd150(0x10f)](_0x3398d6=>_0x3398d6['id']===_0x631a7e),_0x3381a7=_0x5040be[_0x2bd150(0x1a8)][_0x2bd150(0x10f)](_0x57704d=>_0x57704d[_0x2bd150(0x193)]===_0x19fb5c[_0x2bd150(0x193)]),_0x20094a=_0x3381a7[_0x2bd150(0x14c)],_0x50a959={'uuid':_0x21d060,'startedAt':new Date()['toISOString']()};if(_0x19fb5c){const _0x4a34f1={};_0x4a34f1[_0x2bd150(0x128)]=_0x19fb5c[_0x2bd150(0x128)],_0x50a959[_0x2bd150(0x157)]=_0x4a34f1;}if(_0x529938[_0x2bd150(0x134)](_0x3381a7,_0x20094a)){const _0x44c283={};_0x44c283['path']=_0x3381a7['uri'],_0x44c283['name']=_0x20094a[_0x2bd150(0x128)],_0x44c283[_0x2bd150(0x136)]=_0x20094a['description'],_0x50a959[_0x2bd150(0x14c)]=_0x44c283;}_tests[_0x37a659]=_0x50a959,await testObservabilityReporter['sendTestRunEventForCucumber'](_0x91f307,_0x3381a7,_0x19fb5c,_0x529938[_0x2bd150(0x176)],_0x50a959);}catch(_0x227b99){logger[_0x2bd150(0x11b)](_0x2bd150(0x1a7)+util[_0x2bd150(0x17a)](_0x227b99)+'\x20');}}async[a7_0x345412(0x10a)](_0x46407a,_0x5419a9,_0x36c34b){const _0x277f1e=a7_0x345412,_0x2ca731={'SVNru':function(_0x16d7e4,_0x420897){return _0x16d7e4(_0x420897);},'cfhDT':_0x277f1e(0x16b)};this[_0x277f1e(0x111)](_0x46407a);if(_0x2ca731[_0x277f1e(0x1b1)](shouldProcessEventForTesthub,_0x2ca731[_0x277f1e(0x173)]))try{this['report'][_0x277f1e(0x167)]=this['report']['testCaseFinished']||{},this['report'][_0x277f1e(0x167)][_0x46407a[_0x277f1e(0x1aa)]]=_0x46407a,_testCasesData[_0x36c34b['id']]=Object['assign']({},_0x36c34b);const _0x295942=_0x46407a[_0x277f1e(0x1aa)],_0x4aaaaa=_0x5419a9[_0x277f1e(0x18b)]['testCaseAttemptDataMap'][_0x295942][_0x277f1e(0x141)],_0x4a2921=_0x5419a9[_0x277f1e(0x18b)][_0x277f1e(0x120)][_0x4aaaaa],_0x45cc36=_0x4a2921[_0x277f1e(0x135)],_0x5d2715=_0x5419a9[_0x277f1e(0x18b)][_0x277f1e(0x108)][_0x45cc36],_0x4d7b37=this[_0x277f1e(0x191)](_0x5419a9,_0x5d2715),_0x324cbe=_tests[_0x4aaaaa];_0x324cbe&&(delete _tests[_0x4aaaaa],_0x324cbe['finishedAt']=new Date()[_0x277f1e(0x178)]()),await testObservabilityReporter[_0x277f1e(0x172)](_0x36c34b,_0x4d7b37,_0x5d2715,_0x2ca731[_0x277f1e(0x173)],_0x324cbe);}catch(_0x2d7189){logger['debug'](_0x277f1e(0x1ab)+util['format'](_0x2d7189));}}async[a7_0x345412(0x183)](_0x4ea04f,_0x463992){const _0x54a0a2=a7_0x345412,_0x21c6f2={'yIOBt':function(_0x5237b4,_0x37767a){return _0x5237b4(_0x37767a);},'ySuyM':_0x54a0a2(0x18c),'Tnbhh':function(_0x1fc560,_0x469eb4){return _0x1fc560!==_0x469eb4;},'tXjow':_0x54a0a2(0x117)};if(_0x21c6f2[_0x54a0a2(0x18d)](shouldProcessEventForTesthub,_0x21c6f2[_0x54a0a2(0x113)]))try{this[_0x54a0a2(0x10b)]['testStepStarted']=this[_0x54a0a2(0x10b)][_0x54a0a2(0x179)]||{},this[_0x54a0a2(0x10b)][_0x54a0a2(0x179)][_0x4ea04f[_0x54a0a2(0x1aa)]]=_0x4ea04f;const _0x2dbfed=_0x4ea04f[_0x54a0a2(0x1aa)],_0x180836=_0x463992[_0x54a0a2(0x18b)][_0x54a0a2(0x140)][_0x2dbfed]['testCaseId'],_0x23f736=this[_0x54a0a2(0x10b)][_0x54a0a2(0x195)][_0x54a0a2(0x10f)](_0x2a8603=>_0x2a8603['id']===_0x180836)[_0x54a0a2(0x135)],_0x5e8741=this[_0x54a0a2(0x10b)]['pickle'][_0x54a0a2(0x10f)](_0x559a39=>_0x559a39['id']===_0x23f736),_0x35193a=this[_0x54a0a2(0x10b)][_0x54a0a2(0x195)][_0x54a0a2(0x10f)](_0x3c0bf8=>_0x3c0bf8['id']===_0x180836)[_0x54a0a2(0x19a)],_0x14e024=this[_0x54a0a2(0x10b)][_0x54a0a2(0x179)][_0x2dbfed][_0x54a0a2(0x117)],_0x60396d=_0x35193a[_0x54a0a2(0x10f)](_0x5c62d3=>_0x5c62d3['id']===_0x14e024)[_0x54a0a2(0x131)],_0x4fb519=_0x5e8741[_0x54a0a2(0x107)][_0x54a0a2(0x10f)](_0x3bdaa0=>_0x3bdaa0['id']===_0x60396d);if(_0x60396d&&_tests[_0x180836]&&_0x21c6f2[_0x54a0a2(0x189)](_tests[_0x180836][_0x21c6f2['tXjow']],_0x14e024)){_tests[_0x180836][_0x21c6f2[_0x54a0a2(0x14e)]]=_0x14e024;const _0x148f3b={};_0x148f3b['steps']=[];const _0x29d0db=_tests[_0x180836]||_0x148f3b;_0x29d0db&&!_0x29d0db[_0x54a0a2(0x107)]&&(_0x29d0db[_0x54a0a2(0x107)]=[]),_0x29d0db['steps'][_0x54a0a2(0x12e)]({'id':_0x4fb519['id'],'text':_0x4fb519['text'],'started_at':new Date()[_0x54a0a2(0x178)]()}),_tests[_0x180836]=_0x29d0db;}await testObservabilityReporter[_0x54a0a2(0x199)](this[_0x54a0a2(0x10b)],_0x2dbfed,_0x21c6f2[_0x54a0a2(0x113)],_0x35193a,_0x14e024,_tests[_0x180836]);}catch(_0xc5db5d){logger[_0x54a0a2(0x11b)](_0x54a0a2(0x138)+util['format'](_0xc5db5d));}}async[a7_0x345412(0x163)](_0x5ce6c2,_0x424f6c){const _0x1bff90=a7_0x345412,_0x1ae749={'hqynX':function(_0xa60c2b,_0x17f7cc){return _0xa60c2b===_0x17f7cc;},'jltII':_0x1bff90(0x12f),'hFvDX':function(_0x58c3da,_0x52c5bb){return _0x58c3da(_0x52c5bb);},'ibOmM':'HookRunFinished','dtKrq':function(_0x3cff42,_0xd4486f){return _0x3cff42===_0xd4486f;},'vQlxa':'failed','oQUaL':function(_0x46e461,_0x1f85e8){return _0x46e461===_0x1f85e8;},'Zqntf':function(_0x3bc618,_0x44ea94){return _0x3bc618===_0x44ea94;},'xPvcy':_0x1bff90(0x197),'hXmJB':'testStepId'};this[_0x1bff90(0x10b)][_0x1bff90(0x15e)]=this['report']['testStepFinished']||{},this[_0x1bff90(0x10b)][_0x1bff90(0x15e)][_0x5ce6c2['testCaseStartedId']]=_0x5ce6c2;if(_0x1ae749[_0x1bff90(0x105)](shouldProcessEventForTesthub,_0x1ae749[_0x1bff90(0x17c)]))try{const _0x58dfe3=_0x5ce6c2[_0x1bff90(0x1aa)],_0x2c0976=_0x424f6c[_0x1bff90(0x18b)][_0x1bff90(0x140)][_0x58dfe3][_0x1bff90(0x141)],_0x9a6712=_0x424f6c['eventDataCollector'][_0x1bff90(0x120)][_0x2c0976],_0x3e9b80=_0x9a6712[_0x1bff90(0x135)],_0x4a1b09=_0x424f6c[_0x1bff90(0x18b)]['pickleMap'][_0x3e9b80],_0x595622=_0x5ce6c2[_0x1bff90(0x117)],_0x2e49db=_0x9a6712[_0x1bff90(0x19a)],_0x4405f7=this[_0x1bff90(0x18b)]['getTestCaseAttempt'](_0x58dfe3),_0x28737e=_0x2e49db['find'](_0x4b5927=>_0x4b5927['id']===_0x595622)[_0x1bff90(0x131)];let _0xd04872,_0xb78544;_0x5ce6c2[_0x1bff90(0x19d)]&&_0x1ae749[_0x1bff90(0x12c)](_0x5ce6c2[_0x1bff90(0x19d)]['status']['toString']()[_0x1bff90(0x145)](),_0x1ae749['vQlxa'])&&(_0xd04872=_0x1ae749[_0x1bff90(0x132)](_0x5ce6c2[_0x1bff90(0x19d)][_0x1bff90(0x1a9)],undefined)?_0x5ce6c2[_0x1bff90(0x19d)][_0x1bff90(0x16d)]:_0x5ce6c2['testStepResult'][_0x1bff90(0x1a9)][_0x1bff90(0x16d)],_0xb78544=_0x1ae749[_0x1bff90(0x112)](_0x5ce6c2['testStepResult'][_0x1bff90(0x1a9)],undefined)?_0x1ae749[_0x1bff90(0x164)]:_0x5ce6c2[_0x1bff90(0x19d)][_0x1bff90(0x16d)]);await testObservabilityReporter['sendHook'](this['report'],_0x58dfe3,_0x1ae749[_0x1bff90(0x17c)],_0x2e49db,_0x595622,_tests[_0x2c0976]);if(_0x28737e&&_tests[_0x2c0976][_0x1ae749[_0x1bff90(0x151)]]){const _0xedfe77=_0x4a1b09[_0x1bff90(0x107)][_0x1bff90(0x10f)](_0x56d27a=>_0x56d27a['id']===_0x28737e),_0x135ccf={};_0x135ccf['steps']=[];const _0x445c6a=_tests[_0x2c0976]||_0x135ccf;!_0x445c6a[_0x1bff90(0x107)]?_0x445c6a[_0x1bff90(0x107)]=[{'id':_0xedfe77['id'],'text':_0xedfe77[_0x1bff90(0x104)],'finished_at':new Date()[_0x1bff90(0x178)](),'result':_0x5ce6c2['testStepResult'][_0x1bff90(0x11d)],'duration':_0x5ce6c2[_0x1bff90(0x19d)][_0x1bff90(0x15b)][_0x1bff90(0x152)],'failure':_0xd04872,'failureType':_0xb78544}]:_0x445c6a[_0x1bff90(0x107)][_0x1bff90(0x110)](_0x48206e=>{const _0x2ea30e=_0x1bff90;if(_0x1ae749[_0x2ea30e(0x1ad)](_0x48206e['id'],_0xedfe77['id'])){const _0x23ac81=_0x1ae749[_0x2ea30e(0x171)][_0x2ea30e(0x137)]('|');let _0x1ed2cd=0x0;while(!![]){switch(_0x23ac81[_0x1ed2cd++]){case'0':_0x48206e[_0x2ea30e(0x115)]=_0xd04872;continue;case'1':_0x48206e[_0x2ea30e(0x103)]=_0x5ce6c2[_0x2ea30e(0x19d)][_0x2ea30e(0x11d)];continue;case'2':_0x48206e[_0x2ea30e(0x15b)]=_0x5ce6c2[_0x2ea30e(0x19d)][_0x2ea30e(0x15b)][_0x2ea30e(0x152)];continue;case'3':_0x48206e[_0x2ea30e(0x155)]=new Date()[_0x2ea30e(0x178)]();continue;case'4':_0x48206e[_0x2ea30e(0x16f)]=_0xb78544;continue;}break;}}}),_tests[_0x2c0976]=_0x445c6a,delete _tests[_0x2c0976][_0x1ae749[_0x1bff90(0x151)]];}}catch(_0x4f0402){logger[_0x1bff90(0x11b)]('Exception\x20in\x20onTestStepFinished\x20event:\x20'+util[_0x1bff90(0x17a)](_0x4f0402));}}[a7_0x345412(0x14a)](_0x18d37f){const _0x5e7743=a7_0x345412,_0x4a62f3={};return _0x18d37f[_0x5e7743(0x14c)][_0x5e7743(0x162)][_0x5e7743(0x12b)](this['extractStepContainers'])[_0x5e7743(0x198)]()[_0x5e7743(0x110)](_0x5db25d=>_0x5db25d[_0x5e7743(0x107)][_0x5e7743(0x110)](_0x581ce8=>_0x4a62f3[_0x581ce8['id']]=_0x581ce8)),_0x4a62f3;}['extractStepContainers'](_0x5d6c38){const _0x5db1b1=a7_0x345412,_0x41acb7={'SJlyR':function(_0x14fbf8,_0x17b47d){return _0x14fbf8(_0x17b47d);},'odqqV':function(_0x9a1ab6,_0x1cb02d){return _0x9a1ab6(_0x1cb02d);}};if(!_0x41acb7[_0x5db1b1(0x14b)](isUndefined,_0x5d6c38[_0x5db1b1(0x194)]))return[_0x5d6c38[_0x5db1b1(0x194)]];else{if(!_0x41acb7[_0x5db1b1(0x15a)](isUndefined,_0x5d6c38[_0x5db1b1(0x170)]))return _0x5d6c38['rule'][_0x5db1b1(0x162)][_0x5db1b1(0x12b)](_0x28ee66=>!isUndefined(_0x28ee66[_0x5db1b1(0x194)])?_0x28ee66['background']:_0x28ee66[_0x5db1b1(0x157)]);};return[_0x5d6c38[_0x5db1b1(0x157)]];}['getGherkinDocument'](_0x2f38d2,_0x3176f0){const _0x54c3ad=a7_0x345412;return Object[_0x54c3ad(0x17f)](_0x2f38d2[_0x54c3ad(0x18b)]['gherkinDocumentMap'])['find'](_0x338780=>_0x338780[_0x54c3ad(0x193)]===_0x3176f0['uri']);}}module['exports']=o11yClassErrorHandler(BrowserstackFormatter,[a7_0x345412(0x106),a7_0x345412(0x10a),a7_0x345412(0x183),'onTestStepFinished',a7_0x345412(0x1af),a7_0x345412(0x190),a7_0x345412(0x1ae),a7_0x345412(0x191),'getGherkinStepMap']);