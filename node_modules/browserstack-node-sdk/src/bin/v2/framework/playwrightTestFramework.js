const a67_0x5e1bc6=a67_0x3d8c;(function(_0x42aea1,_0x447fd2){const _0x53387d=a67_0x3d8c,_0x26818c=_0x42aea1();while(!![]){try{const _0x26ab85=-parseInt(_0x53387d(0xfe))/0x1*(parseInt(_0x53387d(0xc0))/0x2)+parseInt(_0x53387d(0x11e))/0x3*(parseInt(_0x53387d(0x10b))/0x4)+-parseInt(_0x53387d(0xad))/0x5+parseInt(_0x53387d(0xd4))/0x6*(parseInt(_0x53387d(0x162))/0x7)+parseInt(_0x53387d(0x9c))/0x8+parseInt(_0x53387d(0x161))/0x9+parseInt(_0x53387d(0xba))/0xa;if(_0x26ab85===_0x447fd2)break;else _0x26818c['push'](_0x26818c['shift']());}catch(_0x5f0647){_0x26818c['push'](_0x26818c['shift']());}}}(a67_0x7345,0xe6593));function a67_0x7345(){const _0x35553d=['../../playwright/reporter/pwUtils','getTrackedInstance','iRTJH','KEY_TEST_SCOPE','lcUMl','LMBlu','1910943stRaUQ','KEY_EVENT_STARTED_AT','CRLCA','trackEvent','results','KEY_TEST_STARTED_AT','tmwfq','POST','ceil','forEach','sbZlG','dOuIL','QWjgx','errors','nHbYb','annotations','getTraceFilePaths','concat','size','values','getTestFrameworks','mESSf','KEY_HOOK_ID','split','KEY_TEST_FAILURE_TYPE','vBhVU','field_type','AISzz','YzpWr','createContext','CRIqy','getRef','PRE','KEY_TEST_RESULT_AT','iIuVQ','KEY_HOOKS_FINISHED','KEY_HOOK_FAILURE','RJRpB','KEY_TEST_FRAMEWORK_VERSION','xPXPz','trackPlaywrightInstance','KEY_TEST_RESULT','toString','OrHKB','\x20hookState=','uodWT','EsVHC','Expected\x20to\x20fail,\x20but\x20passed.','KEY_TEST_FRAMEWORK_NAME','ekIGn','KEY_TEST_FILE_PATH','MHvru','aBZTt','isArray','STVIS','../state/hookState.js','filePath','statSync','debug','getTestIdentifierFromTestInfo','Hook\x20Started\x20in\x20PRE\x20key\x20=\x20','retry','trackHookEvent','push','format','xNvre','getInstance','6375267UnSeaT','555653RfxqYI','testUId','Error\x20in\x20sendLogCreatedEvent:\x20','UNjKD','QgsWQ','../state/testFrameworkState.js','message','getAllData','\x20payload=','setTestDetails','parsePlaywrightTest','map','get','length','afBSo','matchHookRegex','../../../../src/helpers/helper','pLUYg','vAIkV','raJyH','KEY_EVENT_ENDED_AT','lZzav','DEFAULT_HOOK_RESULT','addMultipleEntries','../../../helpers/helper.js','mjRbl','instance','yTedK','resolveInstance','../../utils/constants','8645136ZpzVFd','MysfU','KEY_HOOK_RESULT','TEST_ATTACHMENT','KEY_HOOK_LAST_FINISHED','\x20result=','GYFlc','HiPjS','trim','\x20and\x20args\x20=\x20','status','../TestInfo.js','KEY_TEST_RETRY_OF','fDEfD','aNubn','KEY_TEST_FAILURE_REASON','result','2788860GxyEca','XPBoq','KEY_HOOK_LAST_STARTED','rrZgc','\x20instanceId=','step','jOGuC','../../../helpers/classLogger.js','sendLogCreatedEvent:\x20testId=','rmZRJ','lLBli','uuid','eCViS','3003560ljyFuL','getCurrentInstanceName','rOWsX','wEEjp','hook','sendLogCreatedEvent\x20for\x20testId:\x20','3243916guEwPT','KEY_TEST_ATTACHMENTS','passed','Aijca','oFNRU','KEY_TEST_LOGS','trackPlaywrightInstance:\x20saved\x20instance\x20contextId=','KEY_TEST_LOCATION','error','wUfpz','parsePlaywrightTestResult:\x20testId=','\x20response=','KEY_LOGS','KEY_TEST_ID','KEY_TEST_FAILURE','title','KEY_HOOK_LOGS','DEFAULT_TEST_RESULT','attachments','FHeLl','30epDKmt','uruLf','DdZui','exports','KEY_TEST_SCOPES','KEY_HOOK_FAILURE_TYPE','RRLMw','NONE','toISOString','info','path','KEY_AUTOMATE_SESSION_NAME','trackEvent:\x20Exception\x20in\x20event\x20tracking,\x20testFrameworkState=%s\x20hookState=%s\x20argsLength=%s,\x20exception=%s','KEY_TEST_ENDED_AT','duration','\x20testHookState=','KEY_CUSTOM_TAGS','KEY_HOOKS_STARTED','vCszA','trackEvent\x20loading\x20testData\x20for\x20testId:\x20','INIT_TEST','Error\x20processing\x20trace\x20file\x20','\x20batch\x20','getTestFrameworksVersions','nJIMC','./constants/testFrameworkConstants.js',',\x20state=','failed','getTestUUID','runHooks','slice','dIyGe','setTrackedInstance','TEST','getTime','../instances/testFrameworkInstance.js','../cliUtils.js','./testFramework','hpXMS','\x20\x20and\x20args\x20=\x20','NwUiJ','logCreatedEvent','1ECeZqf','filter','getTestDetails','inspect','util','KEY_TEST_RERUN_NAME','oIlBg','../../../helpers/test-observability/utils','../grpcClient',',\x20testFrameworkState=','test','steps','startTime','4CNwpMY','multi_dropdown','expectedStatus','parsePlaywrightTestResult','basename','\x20from\x20TestDetails:\x20','KEY_TEST_NAME','NNJrg','gtMWk','KEY_TEST_TAGS','XEJaX','Hook\x20List\x20in\x20Post\x20','KEY_TEST_UUID'];a67_0x7345=function(){return _0x35553d;};return a67_0x7345();}const TestFramework=require(a67_0x5e1bc6(0xf9)),TestFrameworkState=require(a67_0x5e1bc6(0x167)),HookState=require(a67_0x5e1bc6(0x155)),{createClassLogger}=require(a67_0x5e1bc6(0xb4)),TestFrameworkInstance=require(a67_0x5e1bc6(0xf7)),CLIUtils=require(a67_0x5e1bc6(0xf8)),TrackedInstance=require('../instances/trackedInstance.js'),TestFrameworkConstants=require(a67_0x5e1bc6(0xed)),logger=createClassLogger('PlaywrightTestFramework'),{v4:uuidv4}=require(a67_0x5e1bc6(0xb8)),util=require(a67_0x5e1bc6(0x102)),{getPlaywrightSessionName,getPlaywrightTestFilePath,getPlaywrightTestId,getPlaywrightTestTitle,getPlaywrightTestLocation,getPlaywrightTestTags,getPlaywrightTestCode,getPlaywrightTestScope,getPlaywrightTestScopes,getStepsAndLogs,getScreenshots,getVideos,getPlaywrightCustomRerunParam,getMediaArtifactsLogs,getManualUploadLogs,updatePayloadForTraceLogs}=require(a67_0x5e1bc6(0x96)),TestInfo=require(a67_0x5e1bc6(0xa7)),GrpcClient=require(a67_0x5e1bc6(0x106)),{removeAnsiColors,getFailureType,failureData}=require(a67_0x5e1bc6(0x105)),{getFailureData,getTestTags,getTestRunIdentifier}=require(a67_0x5e1bc6(0x118)),{findNestedKey,sendTraceZip,validateFilePath}=require(a67_0x5e1bc6(0x118)),path=require(a67_0x5e1bc6(0xde)),fs=require('fs'),helper=require(a67_0x5e1bc6(0x8e)),{PLAYWRIGHT_TRACE_LOGS}=require(a67_0x5e1bc6(0x9b));function a67_0x3d8c(_0x5837ee,_0xa9c3a0){const _0x734515=a67_0x7345();return a67_0x3d8c=function(_0x3d8c72,_0x4830e5){_0x3d8c72=_0x3d8c72-0x8a;let _0x3254aa=_0x734515[_0x3d8c72];return _0x3254aa;},a67_0x3d8c(_0x5837ee,_0xa9c3a0);}class PlaywrightTestFramework extends TestFramework{constructor(_0x56e881,_0x41c974,_0x52e609){super(_0x56e881,_0x41c974,_0x52e609);}async['trackEvent'](_0x38b6d5,_0x49ee62,_0x55e748={}){const _0x4fa58e=a67_0x5e1bc6,_0x27f615={'CRIqy':function(_0x38ad75,_0x236bd9){return _0x38ad75===_0x236bd9;},'YzpWr':function(_0x14a4c4,_0x16c403,_0x11707b){return _0x14a4c4(_0x16c403,_0x11707b);},'wUfpz':function(_0x181df1,_0x477279){return _0x181df1===_0x477279;},'mbleg':_0x4fa58e(0x108),'vCszA':_0x4fa58e(0xe0)};super[_0x4fa58e(0x121)](_0x38b6d5,_0x49ee62,_0x55e748);if(_0x27f615[_0x4fa58e(0x13c)](_0x38b6d5,TestFrameworkState['TEST_SCREENSHOT'])){const _0x36d10c=TestInfo[_0x4fa58e(0x159)](_0x55e748['test'],_0x55e748[_0x4fa58e(0x108)][_0x4fa58e(0x15b)]);TestInfo[_0x4fa58e(0x16b)](_0x36d10c,_0x55e748[_0x4fa58e(0xac)],!![]);}const _0x2ad32a=this['resolveInstance'](_0x38b6d5,_0x49ee62,_0x55e748);if(!_0x2ad32a)return;logger['debug']('trackEvent:\x20found\x20instance,\x20testFrameworkState='+_0x38b6d5+_0x4fa58e(0x14a)+_0x49ee62+_0x4fa58e(0xb1)+_0x2ad32a[_0x4fa58e(0x13d)]());try{if(_0x27f615['CRIqy'](_0x49ee62,HookState['PRE'])&&_0x27f615[_0x4fa58e(0x13c)](_0x38b6d5,TestFrameworkState['TEST'])){const _0x172571=_0x55e748[_0x4fa58e(0x108)];logger[_0x4fa58e(0x158)](_0x4fa58e(0xe7)+_0x172571['id']+'}');const _0x599001=TestInfo[_0x4fa58e(0xf0)](_0x27f615[_0x4fa58e(0x13a)](getTestRunIdentifier,_0x172571,_0x55e748[_0x4fa58e(0xac)][_0x4fa58e(0x15b)]));_0x2ad32a[_0x4fa58e(0x95)](this[_0x4fa58e(0x16c)](_0x599001,_0x172571,_0x55e748[_0x4fa58e(0xac)])),logger[_0x4fa58e(0x158)]('trackEvent:\x20loaded\x20testData\x20for\x20testId:\x20'+_0x172571['id']+_0x4fa58e(0x107)+_0x38b6d5+_0x4fa58e(0xe3)+_0x49ee62+'\x20instance='+_0x2ad32a[_0x4fa58e(0x13d)]());}if(_0x27f615['CRIqy'](_0x49ee62,HookState[_0x4fa58e(0x125)])&&_0x27f615[_0x4fa58e(0xc9)](_0x38b6d5,TestFrameworkState[_0x4fa58e(0xf5)])){const _0x37707c=_0x55e748[_0x4fa58e(0x108)],_0x537773=_0x55e748['result'];logger['debug']('trackEvent\x20loading\x20testResults\x20for\x20testId:\x20'+_0x37707c['id']),_0x2ad32a[_0x4fa58e(0x95)](this[_0x4fa58e(0x10e)](_0x37707c['id'],_0x537773,_0x37707c)),await this['sendLogCreatedEvent'](_0x2ad32a,_0x38b6d5,_0x49ee62,_0x27f615['mbleg'],_0x55e748);}if(CLIUtils[_0x4fa58e(0x8d)](_0x38b6d5['toString']()[_0x4fa58e(0x135)]('.')[0x1])){const _0x2c2415=await this[_0x4fa58e(0x15c)](_0x2ad32a,_0x38b6d5,_0x49ee62,_0x55e748);_0x2ad32a[_0x4fa58e(0x95)](_0x2c2415);}}catch(_0x4c6568){logger[_0x4fa58e(0xc8)](util[_0x4fa58e(0x15e)](_0x27f615[_0x4fa58e(0xe6)],_0x38b6d5,_0x49ee62,_0x55e748[_0x4fa58e(0x8b)],_0x4c6568));}_0x55e748[_0x4fa58e(0x98)]=_0x2ad32a,await this[_0x4fa58e(0xf1)](_0x2ad32a,_0x38b6d5,_0x49ee62,_0x55e748);}[a67_0x5e1bc6(0x9a)](_0x27e362,_0x435968,_0xca1555={}){const _0x4c619f=a67_0x5e1bc6,_0xc457d6={};_0xc457d6[_0x4c619f(0x151)]=function(_0x4f5ad5,_0x253e0f){return _0x4f5ad5===_0x253e0f;},_0xc457d6[_0x4c619f(0x143)]=function(_0x4b32cf,_0x187b49){return _0x4b32cf===_0x187b49;};const _0x32b425=_0xc457d6;let _0x1b945b=null;return(_0x32b425['MHvru'](_0x27e362,TestFrameworkState[_0x4c619f(0xe8)])||_0x32b425['RJRpB'](_0x27e362,TestFrameworkState[_0x4c619f(0xdb)]))&&this[_0x4c619f(0x146)](_0x27e362,_0xca1555),_0x1b945b=TestFramework[_0x4c619f(0x119)](),_0x1b945b;}[a67_0x5e1bc6(0x146)](_0x2ef162,_0x1eaed7){const _0x1eb6e9=a67_0x5e1bc6,_0x20439a=CLIUtils[_0x1eb6e9(0xbb)](),_0xce7452=TrackedInstance[_0x1eb6e9(0x13b)](_0x20439a);let _0x2d3edb=null;logger[_0x1eb6e9(0xdd)]('trackPlaywrightInstance:\x20created\x20instance\x20for\x20target='+_0x20439a+_0x1eb6e9(0xee)+_0x2ef162),_0x2d3edb=new TestFrameworkInstance(_0xce7452,this[_0x1eb6e9(0x132)](),this[_0x1eb6e9(0xeb)](),_0x2ef162,HookState[_0x1eb6e9(0xdb)]),TestFramework[_0x1eb6e9(0xf4)](_0xce7452,_0x2d3edb),logger[_0x1eb6e9(0xdd)](_0x1eb6e9(0xc6)+_0xce7452['getId']()+'\x20target='+_0x20439a);}['parsePlaywrightTest'](_0x5662ec,_0x1de756,_0x2712d4){const _0x38d877=a67_0x5e1bc6,_0x165e90={'rrZgc':function(_0x192c22,_0x297d63){return _0x192c22(_0x297d63);},'Aijca':function(_0x185a21,_0x54f582){return _0x185a21(_0x54f582);},'EcNND':function(_0x59348e,_0x205f55){return _0x59348e(_0x205f55);},'nePTJ':function(_0x1b7700,_0x13a438){return _0x1b7700(_0x13a438);},'dOuIL':function(_0x5051a4,_0x19641f){return _0x5051a4(_0x19641f);},'mjRbl':function(_0x557da1,_0x35f71f,_0x587285){return _0x557da1(_0x35f71f,_0x587285);}},_0x47306f=_0x165e90[_0x38d877(0xb0)](getPlaywrightTestId,_0x1de756),_0x1ac242=_0x165e90[_0x38d877(0xc3)](getPlaywrightTestTitle,_0x1de756),_0x502d88=_0x165e90[_0x38d877(0xb0)](getTestTags,_0x1de756),_0x4704cc=_0x165e90['EcNND'](getPlaywrightTestCode,_0x1de756),_0x166121=_0x165e90[_0x38d877(0xb0)](getPlaywrightTestFilePath,_0x1de756),_0x24c3ee=_0x166121+':'+_0x165e90[_0x38d877(0xc3)](getPlaywrightTestLocation,_0x1de756),_0x2e178d=_0x165e90['nePTJ'](getPlaywrightTestScope,_0x1de756),_0xea432a=_0x165e90[_0x38d877(0xc3)](getPlaywrightTestScopes,_0x1de756),_0x536f01=_0x165e90[_0x38d877(0x129)](getPlaywrightSessionName,_0x1de756),_0x588aaf=this[_0x38d877(0x132)]()[0x0],_0x363c19=_0x165e90[_0x38d877(0x97)](getTestRunIdentifier,_0x1de756,_0x2712d4[_0x38d877(0x15b)]),_0x5bc8e1={[TestFrameworkConstants[_0x38d877(0x14e)]]:_0x588aaf,[TestFrameworkConstants[_0x38d877(0x144)]]:this[_0x38d877(0xeb)]()[_0x588aaf],[TestFrameworkConstants[_0x38d877(0xc5)]]:[],[TestFrameworkConstants['KEY_HOOKS_FINISHED']]:{},[TestFrameworkConstants[_0x38d877(0xe5)]]:{},[TestFrameworkConstants[_0x38d877(0x117)]]:_0x5662ec,[TestFrameworkConstants['KEY_TEST_RESULT']]:TestFrameworkConstants[_0x38d877(0xd1)],[TestFrameworkConstants[_0x38d877(0xdf)]]:_0x536f01,[TestFrameworkConstants['KEY_TEST_FILE_PATH']]:_0x166121,[TestFrameworkConstants[_0x38d877(0xcd)]]:_0x47306f,[TestFrameworkConstants[_0x38d877(0x111)]]:_0x1ac242,[TestFrameworkConstants['KEY_TEST_LOCATION']]:_0x24c3ee,[TestFrameworkConstants['KEY_TEST_CODE']]:_0x4704cc,[TestFrameworkConstants[_0x38d877(0x114)]]:_0x502d88,[TestFrameworkConstants[_0x38d877(0x123)]]:_0x1de756[_0x38d877(0x122)][0x0][_0x38d877(0x10a)],[TestFrameworkConstants[_0x38d877(0x11b)]]:_0x2e178d,[TestFrameworkConstants[_0x38d877(0xd8)]]:_0xea432a,[TestFrameworkConstants[_0x38d877(0x103)]]:_0x165e90[_0x38d877(0xb0)](getPlaywrightCustomRerunParam,_0x1de756)};TestInfo[_0x38d877(0x16b)](_0x363c19,_0x5bc8e1);const _0x413d60={};return _0x413d60[_0x363c19]=_0x5bc8e1,_0x413d60;}[a67_0x5e1bc6(0x10e)](_0x2488c0,_0x104da1,_0x5dc701){const _0x5dd362=a67_0x5e1bc6,_0x16b616={'raJyH':function(_0x932fd0,_0x335c62){return _0x932fd0(_0x335c62);},'NwUiJ':_0x5dd362(0x9f),'wEEjp':function(_0x562997,_0x94f655){return _0x562997===_0x94f655;},'XPBoq':function(_0x453bbe,_0x1fb563){return _0x453bbe===_0x1fb563;},'CRLCA':function(_0x4405fc,_0x3afd46){return _0x4405fc===_0x3afd46;},'nHbYb':function(_0x26cdba,_0x65d5ff){return _0x26cdba(_0x65d5ff);},'mESSf':'No\x20reason\x20provided','aBZTt':_0x5dd362(0x10c),'EsVHC':function(_0x447811,_0x34110c,_0x3df727){return _0x447811(_0x34110c,_0x3df727);},'oFNRU':function(_0x5ddf06,_0x4351b9){return _0x5ddf06+_0x4351b9;},'lBGeF':function(_0x471d85,_0x37835d){return _0x471d85===_0x37835d;},'vAIkV':'skipped','QWjgx':_0x5dd362(0xc2),'lcUMl':function(_0x283db6,_0x10eb52){return _0x283db6===_0x10eb52;},'AISzz':'failed','MysfU':'timedOut','YPYIQ':function(_0x35f5b2,_0x8c3b8f){return _0x35f5b2===_0x8c3b8f;},'NNJrg':_0x5dd362(0x14d),'lZzav':function(_0x3db05b,_0x1956f0,_0x437b5a){return _0x3db05b(_0x1956f0,_0x437b5a);},'GTBBs':function(_0xcbd316,_0x41669c){return _0xcbd316||_0x41669c;},'LrmlC':function(_0x31f331,_0x2fb9b2){return _0x31f331(_0x2fb9b2);},'afBSo':function(_0x58342d,_0x4e462f){return _0x58342d>_0x4e462f;},'ekIGn':function(_0x35f2e9,_0xd42cf4){return _0x35f2e9-_0xd42cf4;},'dIyGe':function(_0x396a77,_0x3e36ed,_0x2a5816){return _0x396a77(_0x3e36ed,_0x2a5816);},'jOGuC':'path','rmZRJ':function(_0x1ff15e,_0x43f488){return _0x1ff15e(_0x43f488);},'OrHKB':function(_0x43ceb5,_0x13a672){return _0x43ceb5>_0x13a672;},'rOWsX':function(_0x2f1ccb,_0x2f6e45,_0x3d0240){return _0x2f1ccb(_0x2f6e45,_0x3d0240);},'GYFlc':function(_0x382696,_0x438a12){return _0x382696>_0x438a12;}};logger[_0x5dd362(0x158)](_0x5dd362(0xca)+_0x2488c0);const _0x149c62=_0x16b616[_0x5dd362(0x14c)](getTestRunIdentifier,_0x5dc701,_0x104da1[_0x5dd362(0x15b)]),_0x5321bb=new Date(_0x104da1['startTime']),_0x50a18d=_0x104da1[_0x5dd362(0xe2)],_0x591cbc=new Date(_0x16b616[_0x5dd362(0xc4)](_0x5321bb[_0x5dd362(0xf6)](),_0x50a18d)),_0x118f7d=_0x104da1[_0x5dd362(0xa6)],_0x248c9c=TestInfo[_0x5dd362(0x100)](_0x149c62)[TestFrameworkConstants[_0x5dd362(0xe4)]]||{};let _0x298943=_0x118f7d;if(_0x16b616[_0x5dd362(0x120)](_0x104da1['status'],_0x5dc701['expectedStatus']))_0x298943=_0x16b616['lBGeF'](_0x104da1[_0x5dd362(0xa6)],_0x16b616[_0x5dd362(0x90)])?_0x16b616[_0x5dd362(0x90)]:_0x16b616[_0x5dd362(0x12a)];else{(_0x16b616[_0x5dd362(0xbd)](_0x298943,_0x16b616[_0x5dd362(0x12a)])||_0x16b616[_0x5dd362(0x11c)](_0x298943,_0x16b616[_0x5dd362(0x139)])||_0x16b616[_0x5dd362(0xbd)](_0x298943,_0x16b616[_0x5dd362(0x9d)]))&&(_0x298943=_0x16b616[_0x5dd362(0x139)]);if(_0x16b616[_0x5dd362(0xbd)](_0x104da1[_0x5dd362(0xa6)],_0x16b616[_0x5dd362(0x12a)])&&_0x16b616['YPYIQ'](_0x5dc701[_0x5dd362(0x10d)],_0x16b616['AISzz'])){const _0x24194c={};_0x24194c['message']=_0x16b616[_0x5dd362(0x112)],_0x24194c['stack']=_0x16b616['NNJrg'],_0x104da1[_0x5dd362(0xc8)]=_0x24194c,_0x104da1['errors']=[_0x104da1[_0x5dd362(0xc8)]];}}const {failureData:_0x40baa2,logs:_0x390d8e}=_0x16b616[_0x5dd362(0x93)](getFailureData,_0x104da1?.[_0x5dd362(0x12b)],{}),_0x441987={[TestFrameworkConstants[_0x5dd362(0xce)]]:_0x16b616['GTBBs'](_0x40baa2,null),[TestFrameworkConstants[_0x5dd362(0x136)]]:_0x104da1?.[_0x5dd362(0xc8)]&&_0x16b616['LrmlC'](getFailureType,_0x104da1[_0x5dd362(0xc8)][_0x5dd362(0x168)]),[TestFrameworkConstants[_0x5dd362(0xab)]]:_0x104da1?.[_0x5dd362(0xc8)]&&_0x16b616['LrmlC'](removeAnsiColors,_0x104da1[_0x5dd362(0xc8)][_0x5dd362(0x168)]),[TestFrameworkConstants['KEY_LOGS']]:[],[TestFrameworkConstants[_0x5dd362(0x147)]]:_0x298943,[TestFrameworkConstants[_0x5dd362(0xe1)]]:_0x591cbc[_0x5dd362(0xdc)](),[TestFrameworkConstants[_0x5dd362(0x13f)]]:new Date()[_0x5dd362(0xdc)](),[TestFrameworkConstants[_0x5dd362(0xe4)]]:_0x248c9c};if(_0x104da1&&_0x16b616[_0x5dd362(0x8c)](_0x104da1[_0x5dd362(0x15b)],0x0)){const _0x39e03c=TestInfo[_0x5dd362(0xf0)](_0x16b616[_0x5dd362(0x93)](getTestRunIdentifier,_0x5dc701,_0x16b616[_0x5dd362(0x14f)](_0x104da1[_0x5dd362(0x15b)],0x1)));_0x441987[TestFrameworkConstants[_0x5dd362(0xa8)]]=_0x39e03c;}const _0x1995f3={};_0x1995f3[_0x5dd362(0x108)]=_0x5dc701;const _0x47434b=this[_0x5dd362(0x9a)](TestFrameworkState['TEST'],HookState[_0x5dd362(0x125)],_0x1995f3),_0x2622d1=_0x47434b['getAllData']()[_0x5dd362(0x8a)](_0x149c62)[TestFrameworkConstants['KEY_TEST_UUID']],_0x568522=[],_0x53ae5f=_0x16b616[_0x5dd362(0xf3)](findNestedKey,_0x104da1,_0x16b616[_0x5dd362(0xb3)]);if(_0x53ae5f&&_0x16b616[_0x5dd362(0xb6)](validateFilePath,_0x53ae5f))try{_0x568522[_0x5dd362(0x15d)]({'kind':_0x16b616[_0x5dd362(0xfc)],'timestamp':new Date()[_0x5dd362(0xdc)](),'test_run_uuid':_0x2622d1,'file_name':path[_0x5dd362(0x10f)](_0x53ae5f),'file_size':fs[_0x5dd362(0x157)](_0x53ae5f)[_0x5dd362(0x130)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x5ee6dc){logger[_0x5dd362(0xc8)]('Error\x20processing\x20direct\x20trace\x20file\x20'+_0x53ae5f+':\x20'+_0x5ee6dc['message']);}const _0x3bf54e=TestInfo[_0x5dd362(0x12e)](),_0x2eec38=_0x3bf54e[_0x5dd362(0xff)](_0x175107=>_0x175107[_0x5dd362(0x163)]===_0x2622d1);_0x2eec38[_0x5dd362(0x127)](_0x5468c5=>{const _0x54048e=_0x5dd362;if(_0x5468c5[_0x54048e(0x156)]&&_0x16b616[_0x54048e(0x91)](validateFilePath,_0x5468c5[_0x54048e(0x156)])&&!_0x568522['some'](_0x1ac314=>_0x1ac314['file_name']===path[_0x54048e(0x10f)](_0x5468c5[_0x54048e(0x156)])))try{_0x568522[_0x54048e(0x15d)]({'kind':_0x16b616[_0x54048e(0xfc)],'timestamp':new Date()[_0x54048e(0xdc)](),'test_run_uuid':_0x2622d1,'file_name':path[_0x54048e(0x10f)](_0x5468c5[_0x54048e(0x156)]),'file_size':fs[_0x54048e(0x157)](_0x5468c5[_0x54048e(0x156)])[_0x54048e(0x130)],'attachment_type':PLAYWRIGHT_TRACE_LOGS});}catch(_0x58939a){logger[_0x54048e(0xc8)](_0x54048e(0xe9)+_0x5468c5[_0x54048e(0x156)]+_0x54048e(0x110)+_0x58939a[_0x54048e(0x168)]);}});if(_0x16b616[_0x5dd362(0x149)](_0x568522['length'],0x0)){const _0x8dab0a=_0x441987[TestFrameworkConstants['KEY_LOGS']]||[];_0x441987[TestFrameworkConstants['KEY_LOGS']]=[..._0x8dab0a,..._0x568522];}const _0x16da61=TestInfo['getTestDetails'](_0x149c62)[TestFrameworkConstants[_0x5dd362(0xc1)]]||{},_0x3407a6=_0x16b616[_0x5dd362(0xbc)](getManualUploadLogs,_0x16da61,_0x47434b[_0x5dd362(0x169)]()[_0x5dd362(0x8a)](_0x149c62)[TestFrameworkConstants['KEY_TEST_UUID']]);if(_0x16b616[_0x5dd362(0xa2)](_0x3407a6['length'],0x0)){const _0x36129a=_0x441987[TestFrameworkConstants[_0x5dd362(0xcc)]]||[];_0x441987[TestFrameworkConstants[_0x5dd362(0xcc)]]=[..._0x36129a,..._0x3407a6];}const _0x942a80=_0x5dc701[_0x5dd362(0x12d)]||[],_0x1f0811=_0x441987[TestFrameworkConstants[_0x5dd362(0xe4)]]||{};_0x942a80[_0x5dd362(0x127)](_0x4b893e=>{const _0x1b9b7c=_0x5dd362,{type:_0x4189db}=_0x4b893e;let _0x23b3a8=_0x4b893e['description'];if(!_0x4189db)return;(_0x16b616[_0x1b9b7c(0xbd)](_0x23b3a8,undefined)||_0x16b616[_0x1b9b7c(0xae)](_0x23b3a8,null)||_0x16b616[_0x1b9b7c(0x120)](_0x16b616[_0x1b9b7c(0x12c)](String,_0x23b3a8)[_0x1b9b7c(0xa4)](),''))&&(_0x23b3a8=_0x16b616[_0x1b9b7c(0x133)]);if(!_0x1f0811[_0x4189db]){const _0x4a25e5={};_0x4a25e5[_0x1b9b7c(0x138)]=_0x16b616[_0x1b9b7c(0x152)],_0x4a25e5[_0x1b9b7c(0x131)]=[],_0x1f0811[_0x4189db]=_0x4a25e5;}else!_0x1f0811[_0x4189db][_0x1b9b7c(0x138)]&&(_0x1f0811[_0x4189db]['field_type']=_0x16b616[_0x1b9b7c(0x152)]),!Array[_0x1b9b7c(0x153)](_0x1f0811[_0x4189db][_0x1b9b7c(0x131)])&&(_0x1f0811[_0x4189db]['values']=[]);const _0x5c96dc=_0x16b616[_0x1b9b7c(0x91)](String,_0x23b3a8)[_0x1b9b7c(0x135)](',')[_0x1b9b7c(0x16d)](_0x3297b6=>_0x3297b6[_0x1b9b7c(0xa4)]());_0x1f0811[_0x4189db][_0x1b9b7c(0x131)]=[...new Set([..._0x1f0811[_0x4189db][_0x1b9b7c(0x131)],..._0x5c96dc])];}),_0x441987[TestFrameworkConstants[_0x5dd362(0xe4)]]=_0x1f0811,TestInfo['setTestDetails'](_0x149c62,_0x441987);const _0x7bfbae={};return _0x7bfbae[_0x149c62]=_0x441987,_0x7bfbae;}async[a67_0x5e1bc6(0x15c)](_0x501e41,_0x16afae,_0x77e54b,_0x33547c){const _0x2f883b=a67_0x5e1bc6,_0x53d854={'tmwfq':function(_0x17cd1a,_0x5ae416,_0x2b4c15){return _0x17cd1a(_0x5ae416,_0x2b4c15);},'gtMWk':function(_0xa7f2ab,_0x57661c){return _0xa7f2ab in _0x57661c;},'vBhVU':function(_0x2624ce,_0x2b5a37){return _0x2624ce(_0x2b5a37);},'FHeLl':function(_0x5d8be9,_0x37faed){return _0x5d8be9(_0x37faed);},'uodWT':function(_0x2c7bfd,_0x5d7ca6){return _0x2c7bfd===_0x5d7ca6;},'nJIMC':function(_0x427c2b){return _0x427c2b();},'fDEfD':function(_0x3d5c68,_0x492d57){return _0x3d5c68===_0x492d57;},'iRTJH':function(_0x2592f9,_0x1c8224){return _0x2592f9>_0x1c8224;},'LMBlu':'err','pLUYg':function(_0x3ceedc,_0x4037f0){return _0x3ceedc(_0x4037f0);},'oIlBg':_0x2f883b(0xef),'RRLMw':'passed','aNubn':function(_0x146bf5,_0x3016b2){return _0x146bf5!==_0x3016b2;},'XEJaX':function(_0x4f516,_0x1ad342){return _0x4f516+_0x1ad342;},'UNjKD':_0x2f883b(0xbe)},_0x3dd1b6=_0x33547c[_0x2f883b(0x108)],_0x2e8501=_0x33547c[_0x2f883b(0xb2)],_0x230079=_0x53d854[_0x2f883b(0x124)](getTestRunIdentifier,_0x3dd1b6,_0x33547c[_0x2f883b(0xac)][_0x2f883b(0x15b)]),_0xb1dbf1=_0x16afae[_0x2f883b(0x148)]()[_0x2f883b(0x135)]('.')[0x1];let _0x44f0de=_0x501e41[_0x2f883b(0x169)]()[_0x2f883b(0x8a)](_0x230079)[TestFrameworkConstants[_0x2f883b(0xe5)]];!_0x44f0de&&(_0x44f0de={});!_0x53d854[_0x2f883b(0x113)](_0xb1dbf1,_0x44f0de)&&(_0x44f0de[_0xb1dbf1]=[]);let _0x280681=_0x501e41[_0x2f883b(0x169)]()[_0x2f883b(0x8a)](_0x230079)[TestFrameworkConstants['KEY_HOOKS_FINISHED']];!_0x280681&&(_0x280681={});!_0x53d854['gtMWk'](_0xb1dbf1,_0x280681)&&(_0x280681[_0xb1dbf1]=[]);const _0x100bdd={[TestFrameworkConstants[_0x2f883b(0xe5)]]:_0x44f0de,[TestFrameworkConstants[_0x2f883b(0x141)]]:_0x280681},_0x39a560={};_0x39a560[_0x230079]=_0x100bdd;const _0x5328d9=_0x39a560,_0x55064a=_0x53d854[_0x2f883b(0x137)](getPlaywrightTestFilePath,_0x3dd1b6),_0x5b7983=_0x55064a+':'+_0x53d854[_0x2f883b(0xd3)](getPlaywrightTestLocation,_0x3dd1b6),_0xb19064=TestInfo['getTestDetails'](_0x230079)[TestFrameworkConstants[_0x2f883b(0xe4)]]||{};if(_0x53d854[_0x2f883b(0x14b)](_0x77e54b,HookState[_0x2f883b(0x13e)])){const _0x372d98={'key':_0xb1dbf1,[TestFrameworkConstants[_0x2f883b(0x134)]]:_0x53d854[_0x2f883b(0xec)](uuidv4),[TestFrameworkConstants['KEY_HOOK_RESULT']]:TestFrameworkConstants[_0x2f883b(0x94)],[TestFrameworkConstants[_0x2f883b(0x11f)]]:_0x2e8501[_0x2f883b(0x10a)],[TestFrameworkConstants[_0x2f883b(0xd0)]]:[],[TestFrameworkConstants['KEY_HOOK_NAME']]:_0x2e8501[_0x2f883b(0xcf)],[TestFrameworkConstants[_0x2f883b(0x150)]]:_0x55064a,[TestFrameworkConstants[_0x2f883b(0xc7)]]:_0x5b7983,[TestFrameworkConstants[_0x2f883b(0xe4)]]:_0xb19064};_0x44f0de[_0xb1dbf1]['push'](_0x372d98),_0x5328d9[_0x230079][TestFrameworkConstants[_0x2f883b(0xaf)]]=_0xb1dbf1,logger['debug'](_0x2f883b(0x15a)+_0xb1dbf1+'\x20&\x20hook\x20=\x20'+_0x372d98+_0x2f883b(0xfb)+_0x33547c);}else{if(_0x53d854[_0x2f883b(0xa9)](_0x77e54b,HookState['POST'])){const _0x326bf0=await _0x33547c['result'],_0x4d91a9=_0x44f0de[_0xb1dbf1]||[],_0x2f20e3=_0x33547c['step'];logger['debug'](_0x2f883b(0x116)+_0x4d91a9+_0x2f883b(0xa5)+_0x33547c);if(_0x53d854[_0x2f883b(0x11a)](_0x4d91a9[_0x2f883b(0x8b)],0x0)){const _0x1c9577=_0x4d91a9['pop']();if(_0x2f20e3[_0x2f883b(0xc8)]){const _0x536e35=_0x53d854[_0x2f883b(0x124)](failureData,_0x2f20e3['error'],_0x53d854[_0x2f883b(0x11d)]);_0x1c9577[TestFrameworkConstants[_0x2f883b(0xd9)]]=_0x53d854[_0x2f883b(0xd3)](getFailureType,_0x2f20e3?.[_0x2f883b(0xc8)]['message']),_0x1c9577[TestFrameworkConstants['KEY_HOOK_FAILURE_REASON']]=_0x53d854[_0x2f883b(0x8f)](removeAnsiColors,_0x2f20e3?.[_0x2f883b(0xc8)][_0x2f883b(0x168)]),_0x1c9577[TestFrameworkConstants[_0x2f883b(0x9e)]]=_0x53d854['oIlBg'],_0x1c9577[TestFrameworkConstants[_0x2f883b(0x142)]]=_0x536e35;}else _0x1c9577[TestFrameworkConstants[_0x2f883b(0x9e)]]=_0x53d854[_0x2f883b(0xda)];_0x53d854[_0x2f883b(0xaa)](_0x326bf0,TestFrameworkConstants['DEFAULT_HOOK_RESULT'])&&(_0x1c9577[TestFrameworkConstants[_0x2f883b(0x9e)]]=!_0x2f20e3[_0x2f883b(0xc8)]?_0x53d854['RRLMw']:_0x53d854[_0x2f883b(0x104)]);const _0x4013fb=new Date(_0x2f20e3['startTime']),_0x4e8af1=new Date(_0x53d854[_0x2f883b(0x115)](_0x4013fb['getTime'](),_0x2f20e3[_0x2f883b(0xe2)]));_0x1c9577[TestFrameworkConstants[_0x2f883b(0x92)]]=_0x4e8af1['toISOString'](),_0x1c9577[TestFrameworkConstants[_0x2f883b(0xe4)]]=_0xb19064;const _0x53826e=_0x1c9577[TestFrameworkConstants[_0x2f883b(0x134)]];await this['sendLogCreatedEvent'](_0x501e41,_0x16afae,_0x53826e,_0x53d854[_0x2f883b(0x165)],_0x33547c),!_0x280681[_0xb1dbf1]&&(_0x280681[_0xb1dbf1]=[]),_0x280681[_0xb1dbf1][_0x2f883b(0x15d)](_0x1c9577),_0x5328d9[_0x230079][TestFrameworkConstants[_0x2f883b(0xa0)]]=_0xb1dbf1;}}}return _0x5328d9;}async['sendLogCreatedEvent'](_0x4a10cc,_0x529abf,_0x883746,_0x5ab5d3,_0x37f1f0){const _0xa20cd=a67_0x5e1bc6,_0x1ad30b={'HiPjS':function(_0x1167c7,_0x2ac192){return _0x1167c7===_0x2ac192;},'xPXPz':_0xa20cd(0x108),'QgsWQ':function(_0xa424fd,_0x29a5b4,_0x3a21bb){return _0xa424fd(_0x29a5b4,_0x3a21bb);},'uruLf':function(_0x55a4e8,_0x106352,_0x6aaaf4){return _0x55a4e8(_0x106352,_0x6aaaf4);},'DdZui':_0xa20cd(0xd2),'lLBli':function(_0x11ce7a,_0x1992ef,_0xd818b2,_0x220eb8){return _0x11ce7a(_0x1992ef,_0xd818b2,_0x220eb8);},'hpXMS':function(_0x19ec25,_0x5d8cb7,_0x37984e){return _0x19ec25(_0x5d8cb7,_0x37984e);},'iIuVQ':function(_0x58d509,_0x4ff30e,_0x51b519){return _0x58d509(_0x4ff30e,_0x51b519);},'sbZlG':function(_0x5f082f,_0x3cc370){return _0x5f082f/_0x3cc370;},'xNvre':function(_0x478c9c,_0x5089c0){return _0x478c9c<_0x5089c0;},'yTedK':function(_0x5c5ec7,_0x4a0c1b){return _0x5c5ec7*_0x4a0c1b;},'eCViS':function(_0x5b298c,_0x2174a4){return _0x5b298c+_0x2174a4;},'zOibE':function(_0x2f8ee1,_0xcb6460,_0x308dc2,_0x45039e,_0x1271b1){return _0x2f8ee1(_0xcb6460,_0x308dc2,_0x45039e,_0x1271b1);},'GZWni':function(_0x234f9c,_0xb83ec){return _0x234f9c+_0xb83ec;},'hDNZj':_0xa20cd(0xbe),'STVIS':function(_0xbff150,_0x2480c5,_0x5957b6){return _0xbff150(_0x2480c5,_0x5957b6);},'msgPj':function(_0xd0c03d,_0x3536c7,_0x2662fc,_0x5329b0,_0x34d190){return _0xd0c03d(_0x3536c7,_0x2662fc,_0x5329b0,_0x34d190);}};try{if(_0x1ad30b[_0xa20cd(0xa3)](_0x5ab5d3,_0x1ad30b[_0xa20cd(0x145)])){const _0x2bc16d=await _0x37f1f0[_0xa20cd(0xac)],_0x14ab3b=_0x1ad30b[_0xa20cd(0x166)](getTestRunIdentifier,_0x37f1f0[_0xa20cd(0x108)],_0x37f1f0[_0xa20cd(0xac)][_0xa20cd(0x15b)]),_0x169e12=_0x37f1f0[_0xa20cd(0x108)];logger[_0xa20cd(0x158)](_0xa20cd(0xb5)+_0x14ab3b+_0xa20cd(0xa1)+util[_0xa20cd(0x101)](_0x2bc16d));const _0x3e9395=_0x4a10cc[_0xa20cd(0x169)]()[_0xa20cd(0x8a)](_0x14ab3b)[TestFrameworkConstants[_0xa20cd(0x117)]];await _0x1ad30b[_0xa20cd(0xd5)](sendTraceZip,_0x2bc16d,_0x3e9395);const _0x578cb3=TestInfo[_0xa20cd(0x100)](_0x14ab3b)[_0x1ad30b['DdZui']],_0x552dfb={};if(_0x578cb3){!_0x2bc16d[_0xa20cd(0xd2)]&&(_0x2bc16d['attachments']=[]);_0x552dfb['attachments']=_0x2bc16d['attachments']['concat'](_0x578cb3||[]);const _0x44f70d=TestInfo[_0xa20cd(0x100)](_0x14ab3b);delete _0x44f70d[_0x1ad30b[_0xa20cd(0xd6)]],TestInfo[_0xa20cd(0x16b)](_0x14ab3b,_0x44f70d);}const {steps:_0x5623ac,logs:_0x3d03c3}=_0x1ad30b[_0xa20cd(0xb7)](getStepsAndLogs,_0x2bc16d[_0xa20cd(0x109)],_0x4a10cc[_0xa20cd(0x169)]()[_0xa20cd(0x8a)](_0x14ab3b)[TestFrameworkConstants[_0xa20cd(0x117)]],_0x1ad30b[_0xa20cd(0x145)]),_0x1c5b88=_0x1ad30b['hpXMS'](getScreenshots,_0x552dfb,_0x4a10cc[_0xa20cd(0x169)]()['get'](_0x14ab3b)[TestFrameworkConstants['KEY_TEST_UUID']]),_0x19a50e=_0x1ad30b[_0xa20cd(0xfa)](getVideos,_0x2bc16d,_0x4a10cc[_0xa20cd(0x169)]()[_0xa20cd(0x8a)](_0x14ab3b)[TestFrameworkConstants[_0xa20cd(0x117)]]),{_:_0x312d40,logs:_0x576531}=_0x1ad30b[_0xa20cd(0x140)](getFailureData,_0x2bc16d[_0xa20cd(0x12b)],{'test_run_uuid':_0x4a10cc[_0xa20cd(0x169)]()['get'](_0x14ab3b)[TestFrameworkConstants[_0xa20cd(0x117)]]}),_0x3e20b9=TestInfo[_0xa20cd(0x100)](_0x14ab3b)[TestFrameworkConstants[_0xa20cd(0xc1)]]||{},_0x1b0a42=_0x1ad30b[_0xa20cd(0x166)](getMediaArtifactsLogs,_0x3e20b9,_0x4a10cc[_0xa20cd(0x169)]()[_0xa20cd(0x8a)](_0x14ab3b)[TestFrameworkConstants[_0xa20cd(0x117)]]),_0x4a0ab7=_0x4a10cc[_0xa20cd(0x169)]()[_0xa20cd(0x8a)](_0x14ab3b),{[TestFrameworkConstants[_0xa20cd(0x14e)]]:_0x5f5b39='',[TestFrameworkConstants['KEY_TEST_FRAMEWORK_VERSION']]:_0x512676=''}=_0x4a0ab7,_0x2b9e2f=(_0x3d03c3||[])[_0xa20cd(0x12f)](_0x1c5b88||[])['concat'](_0x576531||[])[_0xa20cd(0x12f)](_0x19a50e||[])[_0xa20cd(0x12f)](_0x1b0a42||[]),_0xbc88b=0x28,_0x3e5211=Math[_0xa20cd(0x126)](_0x1ad30b[_0xa20cd(0x128)](_0x2b9e2f[_0xa20cd(0x8b)],_0xbc88b));for(let _0x5465ac=0x0;_0x1ad30b[_0xa20cd(0x15f)](_0x5465ac,_0x3e5211);_0x5465ac++){const _0x5a1339=_0x1ad30b[_0xa20cd(0x99)](_0x5465ac,_0xbc88b),_0x3b8661=_0x1ad30b[_0xa20cd(0xb9)](_0x5a1339,_0xbc88b),_0x368299=_0x2b9e2f[_0xa20cd(0xf2)](_0x5a1339,_0x3b8661),_0x28abdb={'platformIndex':'0','logs':_0x368299,'testFrameworkName':_0x5f5b39,'testFrameworkVersion':_0x512676,'testFrameworkState':_0x529abf[_0xa20cd(0x148)]()['split']('.')[0x1]};_0x1ad30b['zOibE'](updatePayloadForTraceLogs,_0x28abdb,_0x37f1f0,_0x14ab3b,_0x4a10cc),logger[_0xa20cd(0x158)](_0xa20cd(0xbf)+_0x14ab3b+_0xa20cd(0xea)+_0x1ad30b['GZWni'](_0x5465ac,0x1)+'/'+_0x3e5211+_0xa20cd(0x16a)+util['inspect'](_0x28abdb));const _0x28f2c1=await GrpcClient[_0xa20cd(0x160)]()[_0xa20cd(0xfd)](_0x28abdb);logger[_0xa20cd(0x158)](_0xa20cd(0xbf)+_0x14ab3b+_0xa20cd(0xea)+_0x1ad30b[_0xa20cd(0xb9)](_0x5465ac,0x1)+'/'+_0x3e5211+_0xa20cd(0xcb)+util[_0xa20cd(0x101)](_0x28f2c1));}}else{const {steps:_0x1e90b1,logs:_0x1c1962}=_0x1ad30b[_0xa20cd(0xb7)](getStepsAndLogs,_0x37f1f0['step'][_0xa20cd(0x109)],_0x883746,_0x1ad30b['hDNZj']),_0x1c810b=_0x1ad30b[_0xa20cd(0x154)](getTestRunIdentifier,_0x37f1f0[_0xa20cd(0x108)],_0x37f1f0[_0xa20cd(0xac)][_0xa20cd(0x15b)]);logger['debug'](_0xa20cd(0xb5)+_0x1c810b);const _0x170bd7=_0x4a10cc[_0xa20cd(0x169)]()[_0xa20cd(0x8a)](_0x1c810b),{[TestFrameworkConstants[_0xa20cd(0x14e)]]:_0x258623='',[TestFrameworkConstants[_0xa20cd(0x144)]]:_0x3cfe39=''}=_0x170bd7,_0x34ac08={'platformIndex':'0','logs':_0x1c1962,'testFrameworkName':_0x258623,'testFrameworkVersion':_0x3cfe39,'testFrameworkState':_0x529abf[_0xa20cd(0x148)]()['split']('.')[0x1]};_0x1ad30b['msgPj'](updatePayloadForTraceLogs,_0x34ac08,_0x37f1f0,_0x1c810b,_0x4a10cc),logger['debug']('sendLogCreatedEvent\x20for\x20testId:\x20'+_0x1c810b+'\x20payload='+util[_0xa20cd(0x101)](_0x34ac08));const _0x3bef82=await GrpcClient[_0xa20cd(0x160)]()[_0xa20cd(0xfd)](_0x34ac08);}}catch(_0x1c8cb2){logger[_0xa20cd(0xc8)](_0xa20cd(0x164)+util['format'](_0x1c8cb2));}}}module[a67_0x5e1bc6(0xd7)]=PlaywrightTestFramework;