const a60_0x11b257=a60_0x3140;function a60_0x3140(_0x92579b,_0x11a803){const _0x405c13=a60_0x405c();return a60_0x3140=function(_0x314002,_0x21d617){_0x314002=_0x314002-0xad;let _0x1f3df7=_0x405c13[_0x314002];return _0x1f3df7;},a60_0x3140(_0x92579b,_0x11a803);}(function(_0x590102,_0x383080){const _0x30ce48=a60_0x3140,_0xd489fd=_0x590102();while(!![]){try{const _0x16a29=-parseInt(_0x30ce48(0x128))/0x1+parseInt(_0x30ce48(0x103))/0x2+-parseInt(_0x30ce48(0xf0))/0x3+parseInt(_0x30ce48(0xe9))/0x4*(parseInt(_0x30ce48(0xe3))/0x5)+-parseInt(_0x30ce48(0x10b))/0x6*(parseInt(_0x30ce48(0x14e))/0x7)+-parseInt(_0x30ce48(0x151))/0x8*(-parseInt(_0x30ce48(0x113))/0x9)+parseInt(_0x30ce48(0xb7))/0xa;if(_0x16a29===_0x383080)break;else _0xd489fd['push'](_0xd489fd['shift']());}catch(_0x195c8d){_0xd489fd['push'](_0xd489fd['shift']());}}}(a60_0x405c,0x36417));const fs=require('fs'),os=require('os'),url=require(a60_0x11b257(0xc1)),path=require(a60_0x11b257(0xbe)),{exec}=require('child_process'),{https}=require(a60_0x11b257(0x144)),yauzl=require('yauzl'),util=require('util'),{getFrameworkVersion}=require(a60_0x11b257(0xd7)),{threadId}=require(a60_0x11b257(0xeb)),PerformanceTester=require(a60_0x11b257(0xd6)),{EVENTS:PerformanceEvents}=require(a60_0x11b257(0xc0)),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require(a60_0x11b257(0x155)),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a60_0x11b257(0xd4)),{BROWSERSTACK_API_URL,UPDATED_CLI_ENDPOINT}=require(a60_0x11b257(0x140)),{createClassLogger}=require(a60_0x11b257(0xda)),TestFrameworkInstance=require(a60_0x11b257(0x136)),HookState=require(a60_0x11b257(0x131)),TestFrameworkState=require(a60_0x11b257(0x122)),AutomationFrameworkState=require(a60_0x11b257(0x11f)),TestFrameworkConstants=require(a60_0x11b257(0x115)),logger=createClassLogger(a60_0x11b257(0x14f));class CLIUtils{['automationFrameworkDetail']={};[a60_0x11b257(0x13e)]={};static[a60_0x11b257(0xe2)](){const _0x544ced=a60_0x11b257,_0x300b1a={};_0x300b1a[_0x544ced(0x152)]=function(_0x473ad9,_0x16b06e){return _0x473ad9===_0x16b06e;},_0x300b1a[_0x544ced(0x10f)]=_0x544ced(0x12f);const _0x9a2bb2=_0x300b1a;return _0x9a2bb2[_0x544ced(0x152)](process['env'][_0x544ced(0xf7)],_0x9a2bb2[_0x544ced(0x10f)]);}static[a60_0x11b257(0x13a)](){const _0x2f7de2=a60_0x11b257,_0x558699={};return _0x558699['id']=process['env'][_0x2f7de2(0xf7)],_0x558699['listen']='unix:/tmp/sdk-platform-'+process['env']['BROWSERSTACK_CLI_ENV']+_0x2f7de2(0xc6),_0x558699;}static[a60_0x11b257(0x138)](){const _0x4c45f5=a60_0x11b257,_0x3cffc1={'gjMDB':function(_0x56500d,_0x5afb31){return _0x56500d(_0x5afb31);},'tatCb':_0x4c45f5(0x12d)};return _0x3cffc1[_0x4c45f5(0x150)](require,_0x3cffc1['tatCb'])[_0x4c45f5(0xfc)];}static['getSdkLanguage'](){const _0x57e63d=a60_0x11b257,_0x56fce5={};_0x56fce5[_0x57e63d(0x12c)]=_0x57e63d(0x14d);const _0x13b416=_0x56fce5;return _0x13b416[_0x57e63d(0x12c)];}static async[a60_0x11b257(0x141)](_0x15c2ab){const _0x5128fa=a60_0x11b257,_0x15cae8={'dlYoO':_0x5128fa(0xf5),'sEokd':function(_0x5360b3,_0x292fbd){return _0x5360b3(_0x292fbd);},'RdFRs':_0x5128fa(0xf3)};logger[_0x5128fa(0x101)](_0x15cae8['dlYoO']);const _0x300208=process[_0x5128fa(0x123)]['SDK_CLI_BIN_PATH'];if(!_0x15cae8['sEokd'](isNullOrEmpty,_0x300208))return logger[_0x5128fa(0x101)](_0x5128fa(0xed)+_0x300208),_0x300208;try{const _0x21e5ac=this['getCliDir']();if(_0x15cae8[_0x5128fa(0x110)](isNullOrEmpty,_0x21e5ac))throw new Error(_0x15cae8['RdFRs']);const _0x5c835a=this[_0x5128fa(0xb1)](_0x21e5ac),_0xf10b7f=await this['checkAndUpdateCli'](_0x5c835a,_0x21e5ac,_0x15c2ab);return logger[_0x5128fa(0x101)](_0x5128fa(0x126)+_0xf10b7f),_0xf10b7f;}catch(_0x4db912){logger[_0x5128fa(0x101)](_0x5128fa(0xd1)+util[_0x5128fa(0x157)](_0x4db912));}return null;}static async['checkAndUpdateCli'](_0x21203c,_0x157022,_0x132510){const _0x201900=a60_0x11b257,_0x22a410={'uYeOy':function(_0x7ca184){return _0x7ca184();},'qeIoj':function(_0x23576e,_0x1e9ed6){return _0x23576e(_0x1e9ed6);},'RXAGl':function(_0x24766b,_0x34110e,_0xbc53d6){return _0x24766b(_0x34110e,_0xbc53d6);},'tiZuy':_0x201900(0x114),'EfosQ':_0x201900(0xc1)};PerformanceTester[_0x201900(0xb9)](PerformanceEvents[_0x201900(0x135)]),logger[_0x201900(0xb6)](_0x201900(0xf1)+_0x21203c);const _0x4889f8=_0x22a410['uYeOy'](getHostInfo),_0xb2ffdb={'sdk_version':CLIUtils[_0x201900(0x138)](),'os':_0x4889f8[_0x201900(0x146)],'os_arch':_0x4889f8['arch'],'cli_version':'0','sdk_language':this[_0x201900(0x121)]()};!_0x22a410[_0x201900(0x129)](isNullOrEmpty,_0x21203c)&&(_0xb2ffdb[_0x201900(0xfe)]=await this[_0x201900(0x147)](_0x21203c+_0x201900(0xd0)));const _0x2c87d7=await this['requestToUpdateCLI'](_0xb2ffdb,_0x132510);process[_0x201900(0x123)][_0x201900(0x145)]&&(logger['info'](_0x201900(0xcc)+process[_0x201900(0x123)][_0x201900(0x145)]),_0x2c87d7[_0x201900(0x114)][_0x201900(0xc1)]=process[_0x201900(0x123)][_0x201900(0x145)]);if(_0x22a410[_0x201900(0x14a)](nestedKeyValue,_0x2c87d7,[_0x22a410[_0x201900(0xe5)],_0x22a410['EfosQ']])){logger[_0x201900(0x101)]('Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20'+_0xb2ffdb[_0x201900(0xfe)]);const _0x33c48c=await this[_0x201900(0x13b)](_0x22a410[_0x201900(0x14a)](nestedKeyValue,_0x2c87d7,[_0x22a410[_0x201900(0xe5)],_0x22a410[_0x201900(0xc3)]]),_0x157022);return PerformanceTester[_0x201900(0xf6)](PerformanceEvents[_0x201900(0x135)]),_0x33c48c;}return PerformanceTester['end'](PerformanceEvents[_0x201900(0x135)]),_0x21203c;}static[a60_0x11b257(0xbc)](){const _0x2d6bf2=a60_0x11b257,_0x45fb9e={'wrvIW':function(_0x6d1ca4,_0x228bdf){return _0x6d1ca4(_0x228bdf);},'WShJI':_0x2d6bf2(0xf3),'OnfQW':_0x2d6bf2(0xc8),'Djxrs':function(_0x5eaa11,_0x23f0bc){return _0x5eaa11(_0x23f0bc);}},_0x1ea3a4=this[_0x2d6bf2(0x104)]();try{if(_0x45fb9e[_0x2d6bf2(0x117)](isNullOrEmpty,_0x1ea3a4))throw new Error(_0x45fb9e[_0x2d6bf2(0x119)]);const _0x51fefb=path['join'](_0x1ea3a4,_0x45fb9e['OnfQW']);return!fs[_0x2d6bf2(0xb5)](_0x51fefb)&&_0x45fb9e['Djxrs'](createDir,_0x51fefb),_0x51fefb;}catch(_0xf763fb){logger[_0x2d6bf2(0x101)](_0x2d6bf2(0x11a)+util[_0x2d6bf2(0x157)](_0xf763fb));}}static['getWritableDir'](){const _0x101c4c=a60_0x11b257,_0x5e961b={'aVUxM':_0x101c4c(0xea),'bDNME':function(_0x41e91f,_0xa002fa){return _0x41e91f(_0xa002fa);},'Gmdjt':function(_0x2a2c4f,_0x3ea77d){return _0x2a2c4f(_0x3ea77d);}},_0xc13d5=[process['env'][_0x101c4c(0xb2)],path[_0x101c4c(0x154)](os[_0x101c4c(0x127)](),_0x5e961b['aVUxM']),path[_0x101c4c(0x154)](os[_0x101c4c(0xfd)](),_0x5e961b[_0x101c4c(0xee)])];for(const _0x5008b1 of _0xc13d5){if(_0x5e961b[_0x101c4c(0x118)](isNullOrEmpty,_0x5008b1))continue;try{if(fs['existsSync'](_0x5008b1)){logger[_0x101c4c(0x101)](_0x101c4c(0x12b)+_0x5008b1+_0x101c4c(0xd5));if(!_0x5e961b[_0x101c4c(0x118)](isModifiable,_0x5008b1)){logger['debug'](_0x101c4c(0x116)+_0x5008b1);const _0x37c2f8=_0x5e961b['bDNME'](setReadWriteExecuteAccess,_0x5008b1);if(!_0x5e961b[_0x101c4c(0xbb)](isTrue,_0x37c2f8)){logger[_0x101c4c(0x11c)](_0x101c4c(0x14b)+_0x5008b1);continue;}}}else{logger[_0x101c4c(0x101)]('Folder\x20does\x20not\x20exist:\x20'+_0x5008b1),_0x5e961b['bDNME'](createDir,_0x5008b1),logger['debug']('Setting\x20required\x20permissions\x20to\x20'+_0x5008b1);const _0x5f1fca=_0x5e961b['bDNME'](setReadWriteExecuteAccess,_0x5008b1);!_0x5e961b['bDNME'](isTrue,_0x5f1fca)&&logger[_0x101c4c(0x11c)](_0x101c4c(0x14b)+_0x5008b1);}return _0x5008b1;}catch(_0x4d079b){logger[_0x101c4c(0xcf)](_0x101c4c(0xf2)+util[_0x101c4c(0x157)](_0x4d079b));}}return null;}static[a60_0x11b257(0xb1)](_0x169f11){const _0x57e995=a60_0x11b257,_0x2a9585={};_0x2a9585[_0x57e995(0xdf)]=function(_0x203f97,_0x541f5d){return _0x203f97>_0x541f5d;};const _0x5ae2b0=_0x2a9585;try{if(!fs[_0x57e995(0xb5)](_0x169f11)||!fs[_0x57e995(0xff)](_0x169f11)[_0x57e995(0xf4)]())return'';const _0x241c99=fs[_0x57e995(0x10e)](_0x169f11)['map'](_0x1ea570=>path[_0x57e995(0x154)](_0x169f11,_0x1ea570))['filter'](_0x1a1048=>fs[_0x57e995(0xff)](_0x1a1048)['isFile']()&&path[_0x57e995(0xc4)](_0x1a1048)['startsWith']('binary-'));if(_0x5ae2b0[_0x57e995(0xdf)](_0x241c99[_0x57e995(0xfa)],0x0)){const _0x4b16e2=_0x241c99['map'](_0x30c462=>({'filePath':_0x30c462,'mtime':fs[_0x57e995(0xff)](_0x30c462)[_0x57e995(0x112)]}))[_0x57e995(0x130)]((_0xf217cb,_0x393555)=>{const _0x3eb7d1=_0x57e995;if(!_0xf217cb||!_0xf217cb[_0x3eb7d1(0x112)])return _0x393555;if(_0x5ae2b0[_0x3eb7d1(0xdf)](_0x393555[_0x3eb7d1(0x112)],_0xf217cb[_0x3eb7d1(0x112)]))return _0x393555;return _0xf217cb;},{});return _0x4b16e2?_0x4b16e2[_0x57e995(0x158)]:'';}return'';}catch(_0x5d5df4){return logger['error'](_0x57e995(0x125)+util[_0x57e995(0x157)](_0x5d5df4)),'';}}static ['requestToUpdateCLI']=async(_0x69f925,_0x8b01ad)=>{const _0x3c0df4=a60_0x11b257,_0x148229={'BAWmp':function(_0x5f2c98,_0x3493e0,_0x17c781,_0x41f3e2,_0x4c608d,_0x52ebe2){return _0x5f2c98(_0x3493e0,_0x17c781,_0x41f3e2,_0x4c608d,_0x52ebe2);},'zKFQn':_0x3c0df4(0x12e)},_0x13893f={};_0x13893f['qs']=_0x69f925;const _0x251330=await _0x148229[_0x3c0df4(0x148)](nodeRequest,_0x148229[_0x3c0df4(0xdc)],UPDATED_CLI_ENDPOINT,_0x13893f,_0x8b01ad,BROWSERSTACK_API_URL);return logger[_0x3c0df4(0x101)](_0x3c0df4(0x109)+JSON[_0x3c0df4(0xc5)](_0x251330)),_0x251330;};static[a60_0x11b257(0x147)](_0x4abe19,_0x5709b5=''){const _0x4287e0=a60_0x11b257,_0x541a33={'hpMdt':function(_0x258ec5,_0x48cafb){return _0x258ec5(_0x48cafb);},'giNQx':_0x4287e0(0x14c),'ywkYU':function(_0x5391af,_0x29f5c5){return _0x5391af(_0x29f5c5);},'ZbrYg':function(_0x344b38,_0x3b5546,_0x2a13be,_0x1619ca){return _0x344b38(_0x3b5546,_0x2a13be,_0x1619ca);},'uvtMQ':_0x4287e0(0xcf)};return new Promise((_0x4100f6,_0x3ac0a5)=>{const _0x6da2e7=_0x4287e0,_0x2c64f5={'fIkED':function(_0x4fb708,_0x13da2e){return _0x541a33['ywkYU'](_0x4fb708,_0x13da2e);},'IdkSA':_0x541a33['giNQx']},_0x2cffa2={};_0x2cffa2['cwd']=_0x5709b5,_0x2cffa2[_0x6da2e7(0x132)]=0x1388;const _0x186cc9=_0x541a33[_0x6da2e7(0x106)](exec,_0x4abe19,_0x2cffa2,(_0x12c1ad,_0x38081f,_0x25b78b)=>{const _0x12705d=_0x6da2e7;_0x12c1ad?_0x541a33[_0x12705d(0xf8)](_0x4100f6,_0x25b78b['trim']()||_0x541a33[_0x12705d(0x102)]):_0x541a33['hpMdt'](_0x4100f6,_0x38081f[_0x12705d(0xb0)]());});_0x186cc9['on'](_0x541a33['uvtMQ'],()=>{const _0x339080=_0x6da2e7;_0x2c64f5['fIkED'](_0x4100f6,_0x2c64f5[_0x339080(0xba)]);});});}static [a60_0x11b257(0x13b)]=async(_0x501342,_0x5c3445)=>{const _0x2ae245=a60_0x11b257,_0x318ea4={'ODYMr':_0x2ae245(0xbf),'urcis':function(_0x378d9a,_0x4ed741){return _0x378d9a(_0x4ed741);},'gfnQY':_0x2ae245(0xcf),'TPpXr':'Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','fljLb':function(_0x13b59e,_0x50880d){return _0x13b59e(_0x50880d);},'VFenM':function(_0x51a426,_0x367d7a){return _0x51a426(_0x367d7a);},'jPDNf':_0x2ae245(0x133)};PerformanceTester['start'](PerformanceEvents[_0x2ae245(0xd2)]),logger[_0x2ae245(0x101)](_0x2ae245(0x143)+_0x501342);try{const _0x30fbbd=url[_0x2ae245(0xb4)](_0x501342),_0x3c70ef=path[_0x2ae245(0x154)](_0x5c3445,_0x318ea4['jPDNf']),_0x5d3503=fs[_0x2ae245(0x142)](_0x3c70ef);return new Promise((_0x51aaf7,_0x45a7)=>{const _0x676d30=_0x2ae245,_0xcda4fa={'ZQqzr':_0x318ea4[_0x676d30(0x137)],'MMGwL':function(_0x3607d4,_0x5b4c15){return _0x318ea4['fljLb'](_0x3607d4,_0x5b4c15);},'HoBGQ':function(_0x538a95,_0x2d20ef){const _0x2a1b6b=_0x676d30;return _0x318ea4[_0x2a1b6b(0xaf)](_0x538a95,_0x2d20ef);}};https[_0x676d30(0xcb)](_0x30fbbd,function(_0x4d0327){const _0x1cc763=_0x676d30,_0x3f1eef={'nRfzw':_0x318ea4[_0x1cc763(0xd8)],'WwxQr':function(_0x47ead5,_0x2b1004){const _0x451f83=_0x1cc763;return _0x318ea4[_0x451f83(0x153)](_0x47ead5,_0x2b1004);}},_0x2e54ce=null;_0x4d0327[_0x1cc763(0x13d)](_0x5d3503),_0x4d0327['on'](_0x318ea4['gfnQY'],function(_0x336e5f){const _0x7d7d66=_0x1cc763;logger['error'](util[_0x7d7d66(0x157)](_0xcda4fa['ZQqzr'],_0x336e5f)),PerformanceTester[_0x7d7d66(0xf6)](PerformanceEvents[_0x7d7d66(0xd2)],![],util[_0x7d7d66(0x157)](_0x336e5f)),_0xcda4fa['MMGwL'](_0x45a7,_0x336e5f);}),_0x5d3503['on'](_0x318ea4[_0x1cc763(0xe1)],function(_0x4d8db8){const _0x4067f8=_0x1cc763;logger[_0x4067f8(0xcf)](util[_0x4067f8(0x157)](_0x3f1eef[_0x4067f8(0x108)],_0x4d8db8)),PerformanceTester[_0x4067f8(0xf6)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x4067f8(0x157)](_0x4d8db8)),_0x3f1eef[_0x4067f8(0xca)](_0x45a7,_0x4d8db8);}),CLIUtils['downloadFileStream'](_0x5d3503,_0x2e54ce,_0x3c70ef,_0x5c3445,_0x51aaf7,_0x45a7),PerformanceTester[_0x1cc763(0xf6)](PerformanceEvents[_0x1cc763(0xd2)]);})['on'](_0x318ea4['gfnQY'],function(_0x5d5e31){const _0x65cc0=_0x676d30;logger['error'](_0x65cc0(0x139)+util[_0x65cc0(0x157)](_0x5d5e31)),PerformanceTester[_0x65cc0(0xf6)](PerformanceEvents[_0x65cc0(0xd2)],![],util[_0x65cc0(0x157)](_0x5d5e31)),_0xcda4fa['HoBGQ'](_0x45a7,_0x5d5e31);});});}catch(_0x5b221b){PerformanceTester[_0x2ae245(0xf6)](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x2ae245(0x157)](_0x5b221b)),logger[_0x2ae245(0x101)](_0x2ae245(0xe6)+util[_0x2ae245(0x157)](_0x5b221b));}};static[a60_0x11b257(0xd3)](_0x8b2d72,_0x42c86b,_0x68ebe4,_0x100794,_0x5e9888,_0x2f1add){const _0x2aaf30=a60_0x11b257,_0x50f4df={'xyplf':function(_0x426abe,_0x221284){return _0x426abe(_0x221284);},'OJyVA':_0x2aaf30(0xf6),'Leevu':function(_0x5d0295,_0x3b760d){return _0x5d0295===_0x3b760d;},'cRZeg':_0x2aaf30(0x13f),'gXQPX':function(_0x29c9e3,_0x232e64){return _0x29c9e3(_0x232e64);},'bwHKW':'entry','KQDLU':_0x2aaf30(0xcf),'hldtJ':function(_0x52b1fe,_0x383985){return _0x52b1fe(_0x383985);},'iqwme':_0x2aaf30(0xfb)};_0x8b2d72['on'](_0x50f4df['iqwme'],function(){const _0x445399=_0x2aaf30,_0x3a2c0d={'hpkfS':function(_0x155b1c,_0xebb445){const _0x4e221a=a60_0x3140;return _0x50f4df[_0x4e221a(0xbd)](_0x155b1c,_0xebb445);}},_0x27072b={};_0x27072b[_0x445399(0x12a)]=!![],yauzl[_0x445399(0x11e)](_0x68ebe4,_0x27072b,function(_0x50f92a,_0x36a326){const _0x35ddfa=_0x445399,_0x39424d={'lcDyv':function(_0x55736b,_0x1369b8){const _0x185d76=a60_0x3140;return _0x50f4df[_0x185d76(0xec)](_0x55736b,_0x1369b8);},'wvqML':_0x50f4df['OJyVA'],'NwguE':function(_0x40ed96,_0x3580dd){return _0x50f4df['Leevu'](_0x40ed96,_0x3580dd);},'pxWfb':_0x50f4df[_0x35ddfa(0xf9)]};_0x50f92a&&_0x50f4df['gXQPX'](_0x2f1add,_0x50f92a),_0x36a326[_0x35ddfa(0x149)](),_0x36a326['on'](_0x50f4df[_0x35ddfa(0x156)],_0x96310f=>{const _0x28b821=_0x35ddfa;!_0x42c86b&&(_0x42c86b=_0x96310f[_0x28b821(0x10d)]);if(/\/$/['test'](_0x96310f['fileName']))_0x36a326['readEntry']();else{const _0x417fde=fs[_0x28b821(0x142)](path['join'](_0x100794,_0x96310f[_0x28b821(0x10d)]));_0x36a326[_0x28b821(0x10a)](_0x96310f,function(_0x2e95ce,_0x4b6a75){const _0x4a2bb0=_0x28b821;_0x2e95ce&&_0x39424d[_0x4a2bb0(0x10c)](_0x2f1add,_0x50f92a),_0x4b6a75['on'](_0x39424d[_0x4a2bb0(0x100)],function(){const _0x372d31=_0x4a2bb0;_0x417fde[_0x372d31(0xfb)](),_0x36a326[_0x372d31(0x149)]();}),_0x4b6a75[_0x4a2bb0(0x13d)](_0x417fde);}),_0x39424d['NwguE'](_0x96310f['fileName'],_0x42c86b)&&_0x36a326['close']();}}),_0x36a326['on'](_0x50f4df['KQDLU'],_0x257160=>{const _0x39779b=_0x35ddfa;_0x3a2c0d[_0x39779b(0xe8)](_0x2f1add,_0x257160);}),_0x36a326[_0x35ddfa(0xc7)](_0x50f4df[_0x35ddfa(0xce)],()=>{const _0x4099cf=_0x35ddfa;fs['unlink'](_0x68ebe4,_0x1c4ab0=>{const _0x5cd35a=a60_0x3140;_0x1c4ab0&&logger['warn'](_0x5cd35a(0x11b)+_0x68ebe4);}),fs[_0x4099cf(0x124)](_0x100794+'/'+_0x42c86b,_0x39424d[_0x4099cf(0x11d)],function(_0x60e8f3){const _0x43f0b0=_0x4099cf;_0x60e8f3&&_0x39424d[_0x43f0b0(0x10c)](_0x2f1add,_0x60e8f3),_0x39424d[_0x43f0b0(0x10c)](_0x5e9888,_0x100794+'/'+_0x42c86b);}),_0x36a326[_0x4099cf(0xfb)]();});});});}static[a60_0x11b257(0x107)](){const _0x2fbe42=a60_0x11b257;if(process['env']['BROWSERSTACK_TEST_FRAMEWORK_DETAIL'])return JSON[_0x2fbe42(0xb4)](process[_0x2fbe42(0x123)][_0x2fbe42(0xad)]);return this[_0x2fbe42(0x13e)];}static[a60_0x11b257(0xae)](){const _0x3c3775=a60_0x11b257;if(process[_0x3c3775(0x123)][_0x3c3775(0xb8)])return JSON['parse'](process[_0x3c3775(0x123)][_0x3c3775(0xb8)]);return this[_0x3c3775(0xdd)];}static[a60_0x11b257(0xc2)](_0x4c2b56,_0x225a72){const _0x31c3ea=a60_0x11b257,_0x2d62db={'AgkVJ':'4|1|3|0|2','RLaVx':function(_0x3fbb01,_0x39d311){return _0x3fbb01(_0x39d311);},'QFzaG':function(_0x5981ba,_0x436686){return _0x5981ba(_0x436686);},'uALhl':function(_0x2764a0,_0x6f5b93){return _0x2764a0||_0x6f5b93;}},_0x546859=_0x2d62db['AgkVJ'][_0x31c3ea(0x13c)]('|');let _0x1dcdef=0x0;while(!![]){switch(_0x546859[_0x1dcdef++]){case'0':process[_0x31c3ea(0x123)][_0x31c3ea(0xb8)]=JSON[_0x31c3ea(0xc5)](this['automationFrameworkDetail']);continue;case'1':this[_0x31c3ea(0x13e)]={'name':_0x4c2b56,'version':{[_0x4c2b56]:_0x2d62db[_0x31c3ea(0x111)](getFrameworkVersion,_0x4c2b56)}};continue;case'2':process[_0x31c3ea(0x123)][_0x31c3ea(0xad)]=JSON[_0x31c3ea(0xc5)](this[_0x31c3ea(0x13e)]);continue;case'3':this[_0x31c3ea(0xdd)]={'name':_0x225a72,'version':_0x2d62db['QFzaG'](getFrameworkVersion,_0x225a72)};continue;case'4':_0x2d62db[_0x31c3ea(0xc9)](!_0x4c2b56,!_0x225a72)&&logger['debug'](_0x31c3ea(0x105)+_0x4c2b56+_0x31c3ea(0xb3)+_0x225a72);continue;}break;}}static[a60_0x11b257(0xde)](_0x54d92b,_0x3c817a){return _0x54d92b+':'+_0x3c817a;}static[a60_0x11b257(0xe7)](){return process['pid']+':'+threadId;}static[a60_0x11b257(0xd9)](_0x794447){const _0x5bb083=a60_0x11b257;if(_0x794447[_0x5bb083(0xdb)]&&_0x794447[_0x5bb083(0xdb)][_0x5bb083(0x120)])return!![];return![];}static['shouldSkipSessionStatus'](_0x3c00ad){const _0x34e2ab=a60_0x11b257;if(_0x3c00ad[_0x34e2ab(0xdb)]&&_0x3c00ad['testContextOptions'][_0x34e2ab(0x134)])return!![];return![];}static[a60_0x11b257(0xe0)](_0x3348c1){const _0x523871=a60_0x11b257,_0x34f1ef=new RegExp(TestFrameworkConstants[_0x523871(0xe4)]);return _0x34f1ef[_0x523871(0xcd)](_0x3348c1);}}module[a60_0x11b257(0xef)]=CLIUtils;function a60_0x405c(){const _0x352e1d=['fileName','readdirSync','uvTQq','sEokd','RLaVx','mtime','8199ZefHbf','data','./framework/constants/testFrameworkConstants.js','Setting\x20required\x20permissions\x20to\x20','wrvIW','bDNME','WShJI','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','Failed\x20to\x20delete\x20zip\x20file:\x20','warn','pxWfb','open','./state/automationFrameworkState.js','skipSessionName','getSdkLanguage','./state/testFrameworkState.js','env','chmod','Error\x20while\x20reading\x20CLI\x20path:\x20','Resolved\x20binary\x20path:\x20','homedir','353371MLvfmv','qeIoj','lazyEntries','Folder\x20','YbYDP','../../../package.json','GET','development','reduce','./state/hookState.js','timeout','downloaded_file.zip','skipSessionStatus','SDK_CLI_CHECK_UPDATE','./instances/testFrameworkInstance.js','TPpXr','getSdkVersion','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20','getCLIParamsForDevEnv','downloadLatestBinary','split','pipe','testFrameworkDetail','0755','../utils/constants','setupCliPath','createWriteStream','Downloading\x20SDK\x20binary\x20from:\x20','follow-redirects','BROWSERSTACK_BINARY_URL','platform','runShellCommand','BAWmp','readEntry','RXAGl','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','SHELL_EXECUTE_ERROR','node','119wPaFVc','CLIUtils','gjMDB','1160tkZSVy','wBjyV','urcis','join','../../helpers/utilities','bwHKW','format','filePath','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','getAutomationFrameworkDetail','VFenM','trim','getExistingCliPath','BROWSERSTACK_FILES_DIR',',\x20automationFramework=','parse','existsSync','info','6043020yUOoHE','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','start','IdkSA','Gmdjt','getCliDir','hldtJ','path','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','../../helpers/performance/constants','url','setFrameworkDetail','EfosQ','basename','stringify','.sock','once','cli','uALhl','WwxQr','get','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','test','OJyVA','error','\x20version','Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20','SDK_CLI_DOWNLOAD','downloadFileStream','../../helpers/helper','\x20already\x20exists','../../helpers/performance/performance-tester.js','../../helpers/test-observability/utils.js','ODYMr','shouldSkipSessionName','../../helpers/classLogger.js','testContextOptions','zKFQn','automationFrameworkDetail','getHookRegistryKey','jiSrp','matchHookRegex','gfnQY','isDevelopmentEnv','304505SYNuUp','HOOK_REGEX','tiZuy','Failed\x20to\x20download\x20binary,\x20Exception:\x20','getCurrentInstanceName','hpkfS','4gEBzre','.browserstack','worker_threads','xyplf','Development\x20Cli\x20Path:\x20','aVUxM','exports','807828aLRyjs','Current\x20CLI\x20Path\x20Found:\x20','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','isDirectory','Configuring\x20Cli\x20path.','end','BROWSERSTACK_CLI_ENV','hpMdt','cRZeg','length','close','version','tmpdir','cli_version','statSync','wvqML','debug','giNQx','269002cqnZcW','getWritableDir','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','ZbrYg','getTestFrameworkDetail','nRfzw','response\x20','openReadStream','30678FFWafV','lcDyv'];a60_0x405c=function(){return _0x352e1d;};return a60_0x405c();}