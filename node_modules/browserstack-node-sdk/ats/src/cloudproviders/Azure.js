const a1_0x305718=a1_0x219c;(function(_0x38abd7,_0x115de3){const _0x22329e=a1_0x219c,_0x386b3a=_0x38abd7();while(!![]){try{const _0x1d7f94=parseInt(_0x22329e(0x25b))/0x1*(-parseInt(_0x22329e(0x2c1))/0x2)+-parseInt(_0x22329e(0x2d5))/0x3*(parseInt(_0x22329e(0x1ca))/0x4)+parseInt(_0x22329e(0x172))/0x5+parseInt(_0x22329e(0x2ed))/0x6*(-parseInt(_0x22329e(0x1a1))/0x7)+parseInt(_0x22329e(0x297))/0x8*(parseInt(_0x22329e(0x2fd))/0x9)+parseInt(_0x22329e(0x19d))/0xa*(parseInt(_0x22329e(0x32a))/0xb)+parseInt(_0x22329e(0x285))/0xc;if(_0x1d7f94===_0x115de3)break;else _0x386b3a['push'](_0x386b3a['shift']());}catch(_0x12f2d9){_0x386b3a['push'](_0x386b3a['shift']());}}}(a1_0x14ee,0xc19e2));const fs=require('fs'),path=require(a1_0x305718(0x24d)),yaml=require(a1_0x305718(0x320)),{logger}=require(a1_0x305718(0x2e3)),{CloudProvider}=require(a1_0x305718(0x180)),{deleteRoutingDeps,deleteAgent}=require(a1_0x305718(0x206)),{AZURE,WS_EVENTS,global_registry}=require('../config/constants'),PERMISSIONS=require(a1_0x305718(0x346)),{ClientSecretCredential}=require(a1_0x305718(0x221)),{NetworkManagementClient}=require(a1_0x305718(0x175)),{StorageManagementClient}=require('@azure/arm-storage'),{AuthorizationManagementClient}=require(a1_0x305718(0x1fe)),{ResourceManagementClient}=require(a1_0x305718(0x2c2)),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require('../utils/utilityMethods');function a1_0x219c(_0x2dfc1f,_0x26f9aa){const _0x14eefe=a1_0x14ee();return a1_0x219c=function(_0x219c53,_0x131d43){_0x219c53=_0x219c53-0x141;let _0x442d59=_0x14eefe[_0x219c53];return _0x442d59;},a1_0x219c(_0x2dfc1f,_0x26f9aa);}class AzureCloudProvider extends CloudProvider{constructor(_0x444b2d,_0x23a227,_0x10106b,_0x4eb081){const _0x439198=a1_0x305718,_0x538fc4={};_0x538fc4[_0x439198(0x1e9)]='6|3|7|4|1|5|2|0';const _0x3e4156=_0x538fc4,_0x5c6069=_0x3e4156[_0x439198(0x1e9)][_0x439198(0x334)]('|');let _0x6b12d8=0x0;while(!![]){switch(_0x5c6069[_0x6b12d8++]){case'0':this[_0x439198(0x155)]=null;continue;case'1':this[_0x439198(0x20e)]=null;continue;case'2':this['networkClient']=null;continue;case'3':this[_0x439198(0x2e6)]=null;continue;case'4':this[_0x439198(0x304)]=null;continue;case'5':this[_0x439198(0x2de)]=null;continue;case'6':super(AZURE,_0x444b2d,_0x23a227,_0x10106b,_0x4eb081);continue;case'7':this[_0x439198(0x329)]=null;continue;}break;}}async[a1_0x305718(0x23b)](){const _0x3cf714=a1_0x305718;return await super[_0x3cf714(0x23b)](),this;}[a1_0x305718(0x335)](){const _0x42b40e=a1_0x305718,_0x29d764=new ClientSecretCredential(global_registry[_0x42b40e(0x263)],global_registry[_0x42b40e(0x22e)],global_registry[_0x42b40e(0x28f)]);this[_0x42b40e(0x304)]=new ContainerServiceClient(_0x29d764,global_registry[_0x42b40e(0x17b)]),this[_0x42b40e(0x20e)]=new StorageManagementClient(_0x29d764,global_registry[_0x42b40e(0x17b)]),this['resourceClient']=new ResourceManagementClient(_0x29d764,global_registry['cloudProviderSubscriptionId']),this[_0x42b40e(0x2e1)]=new NetworkManagementClient(_0x29d764,global_registry['cloudProviderSubscriptionId']),this[_0x42b40e(0x155)]=new AuthorizationManagementClient(_0x29d764,global_registry['cloudProviderSubscriptionId']),this[_0x42b40e(0x2e6)]=_0x29d764;}[a1_0x305718(0x14b)](){const _0x32d575=a1_0x305718,_0x3f3f20={};_0x3f3f20[_0x32d575(0x28d)]=function(_0x99f884,_0x1071ab){return _0x99f884+_0x1071ab;},_0x3f3f20['AmWwy']='turboscale',_0x3f3f20[_0x32d575(0x1ae)]=function(_0x412ee4,_0x541dae){return _0x412ee4-_0x541dae;};const _0x8f8221=_0x3f3f20,_0x2e50e7=global_registry[_0x32d575(0x16e)][_0x32d575(0x334)]('-'),_0x4ff2eb=_0x8f8221['bwdWb'](_0x8f8221[_0x32d575(0x264)],_0x2e50e7[_0x8f8221[_0x32d575(0x1ae)](_0x2e50e7['length'],0x1)])[_0x32d575(0x213)](0x0,0x18);return _0x4ff2eb[_0x32d575(0x142)]();}['setCachedCredsInRegistry'](_0x112162){const _0x3f9c69=a1_0x305718,_0x3d1620={};_0x3d1620[_0x3f9c69(0x1dc)]=_0x3f9c69(0x20b);const _0x4bdb64=_0x3d1620,_0x202f9a=_0x4bdb64['IUvjJ'][_0x3f9c69(0x334)]('|');let _0x15e16f=0x0;while(!![]){switch(_0x202f9a[_0x15e16f++]){case'0':global_registry[_0x3f9c69(0x263)]=_0x112162[this[_0x3f9c69(0x330)]][_0x3f9c69(0x2e0)];continue;case'1':this['setClients']();continue;case'2':global_registry[_0x3f9c69(0x22e)]=_0x112162[this[_0x3f9c69(0x330)]][_0x3f9c69(0x324)];continue;case'3':global_registry['cloudProviderResourceGroup']=_0x112162[this['cloudProviderName']][_0x3f9c69(0x16a)];continue;case'4':global_registry[_0x3f9c69(0x28f)]=_0x112162[this[_0x3f9c69(0x330)]]['clientSecret'];continue;case'5':global_registry[_0x3f9c69(0x17b)]=_0x112162[this[_0x3f9c69(0x330)]][_0x3f9c69(0x1be)];continue;}break;}}async[a1_0x305718(0x2f8)](_0x163b20,_0x228b97){const _0x378f48=a1_0x305718,_0x503470={'qdEEr':_0x378f48(0x269),'CTwUm':function(_0x27fda3,_0xbda50f){return _0x27fda3+_0xbda50f;},'Llfsp':_0x378f48(0x344),'AeMdG':function(_0x5f1975,_0x5efa26){return _0x5f1975-_0x5efa26;},'lQmGU':function(_0x2c8b0f,_0x5cc032){return _0x2c8b0f===_0x5cc032;},'UuLjp':function(_0x7348e6,_0x2ae84e,_0x80dc6d){return _0x7348e6(_0x2ae84e,_0x80dc6d);},'YOVjf':_0x378f48(0x1c6),'gFMsv':function(_0x53b4d9,_0x5af9e4){return _0x53b4d9(_0x5af9e4);},'qlzJt':function(_0x2ffc7b,_0x2603a0){return _0x2ffc7b(_0x2603a0);},'NbyUo':function(_0x1a49ea,_0x21d1e7){return _0x1a49ea===_0x21d1e7;},'SMkKY':_0x378f48(0x256),'JaQcr':function(_0xfd652f,_0x14736d){return _0xfd652f(_0x14736d);},'SDvyM':function(_0x56d468,_0x25febe){return _0x56d468!==_0x25febe;},'NCYEB':_0x378f48(0x1ad),'hIhXK':_0x378f48(0x19b),'mvFBK':function(_0x33250d,_0x21930b){return _0x33250d(_0x21930b);},'hvKAY':function(_0x4484c1,_0x4fbd9a){return _0x4484c1===_0x4fbd9a;},'EFiII':_0x378f48(0x249),'gGmum':_0x378f48(0x1ea),'sFeke':function(_0x1e446c,_0x16bfb6){return _0x1e446c===_0x16bfb6;},'ZaOks':_0x378f48(0x20a),'QJRcr':'AbAud','ycaaV':_0x378f48(0x2f0),'nIvJg':_0x378f48(0x247),'Xkaqa':function(_0x755cbc,_0x6022a2){return _0x755cbc<_0x6022a2;},'gttdy':function(_0x3177b3,_0x20c6b8){return _0x3177b3===_0x20c6b8;},'biaHw':_0x378f48(0x2fa),'ZLQrz':_0x378f48(0x311),'QpoaU':function(_0x2490a0,_0x2b678c){return _0x2490a0(_0x2b678c);},'vlMxs':_0x378f48(0x20d),'NfjvA':function(_0x5aaa27,_0x50ea41){return _0x5aaa27(_0x50ea41);},'sgDxU':function(_0x37e21c,_0xfc7e3c){return _0x37e21c<=_0xfc7e3c;},'JNCsY':function(_0x23a748,_0x342028){return _0x23a748>_0x342028;},'SivGm':'SqKyf'},_0x1d7e5f=this[_0x378f48(0x330)][_0x378f48(0x2c6)](),_0x15c8b0=await _0x503470[_0x378f48(0x22f)](_0x163b20,_0x1d7e5f+_0x378f48(0x217)),_0xf1b076=await _0x503470[_0x378f48(0x21b)](_0x163b20,_0x1d7e5f+_0x378f48(0x2f4)),_0x1af156=await _0x503470[_0x378f48(0x21b)](_0x163b20,_0x1d7e5f+_0x378f48(0x143)),_0x5b7440=await _0x503470[_0x378f48(0x21b)](_0x163b20,_0x1d7e5f+_0x378f48(0x1ed));global_registry[_0x378f48(0x22e)]=_0x15c8b0,global_registry[_0x378f48(0x28f)]=_0xf1b076,global_registry[_0x378f48(0x263)]=_0x1af156,global_registry[_0x378f48(0x17b)]=_0x5b7440,this[_0x378f48(0x335)]();const _0x4a3fef=await this[_0x378f48(0x202)](),_0x305ef7=_0x4a3fef['length'];let _0x14ce8d;if(_0x503470[_0x378f48(0x204)](_0x305ef7,0x0))_0x503470[_0x378f48(0x327)](_0x503470[_0x378f48(0x141)],_0x503470[_0x378f48(0x141)])?_0x14ce8d=await _0x503470[_0x378f48(0x17f)](_0x163b20,_0x1d7e5f+_0x378f48(0x205)):_0x4b1a48[_0x378f48(0x30b)]=_0x3ea707;else{if(_0x503470[_0x378f48(0x327)](_0x305ef7,0x1)){if(_0x503470[_0x378f48(0x189)](_0x503470[_0x378f48(0x21a)],_0x503470[_0x378f48(0x1cf)])){const _0x728f7a=await _0x503470[_0x378f48(0x18d)](_0x163b20,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x4a3fef[0x0]+_0x378f48(0x25f));if(_0x503470[_0x378f48(0x204)](_0x728f7a,undefined)||_0x503470[_0x378f48(0x327)](_0x728f7a,null)||!(_0x503470[_0x378f48(0x327)](_0x728f7a[_0x378f48(0x142)](),'y')||_0x503470['hvKAY'](_0x728f7a[_0x378f48(0x142)](),'n'))){if(_0x503470[_0x378f48(0x327)](_0x503470[_0x378f48(0x2bb)],_0x503470[_0x378f48(0x32c)]))return;else console[_0x378f48(0x30b)](_0x503470[_0x378f48(0x1c5)]),process[_0x378f48(0x1bc)](0x1);}_0x503470[_0x378f48(0x204)](_0x728f7a[_0x378f48(0x142)](),'n')&&(_0x503470['sFeke'](_0x503470[_0x378f48(0x1f1)],_0x503470[_0x378f48(0x337)])?(_0x48f1b8['error'](_0x503470[_0x378f48(0x1c5)]),_0x476aff[_0x378f48(0x1bc)](0x1)):process[_0x378f48(0x1bc)](0x0)),_0x14ce8d=_0x4a3fef[0x0];}else{const _0x2fc578=_0xcac13e[_0x378f48(0x16e)][_0x378f48(0x334)]('-'),_0x4444e7=_0x503470[_0x378f48(0x1a4)](_0x503470[_0x378f48(0x2b9)],_0x2fc578[_0x503470[_0x378f48(0x1a3)](_0x2fc578['length'],0x1)])[_0x378f48(0x213)](0x0,0x18);return _0x4444e7[_0x378f48(0x142)]();}}else{if(_0x503470[_0x378f48(0x262)](_0x503470[_0x378f48(0x1e1)],_0x503470[_0x378f48(0x2ec)])){if(_0x503470['lQmGU'](_0x4e56a5['name'],_0x2174e2))return!![];}else{for(let _0x5e1874=0x0;_0x503470[_0x378f48(0x199)](_0x5e1874,_0x4a3fef[_0x378f48(0x257)]);_0x5e1874+=0x1){_0x503470[_0x378f48(0x259)](_0x503470[_0x378f48(0x312)],_0x503470[_0x378f48(0x347)])?_0x503470[_0x378f48(0x1e8)](_0x241b0e,()=>_0x7f79d7(),0x3e8):console[_0x378f48(0x1b1)]('['+_0x503470[_0x378f48(0x1a4)](_0x5e1874,0x1)+']\x20'+_0x4a3fef[_0x5e1874]);}const _0x1db737=await _0x503470['QpoaU'](_0x163b20,_0x503470['vlMxs']),_0x4ef3e5=_0x503470['NfjvA'](Number,_0x1db737);if(_0x503470['qlzJt'](isNaN,_0x4ef3e5)||_0x503470[_0x378f48(0x1d1)](_0x4ef3e5,0x0)||_0x503470[_0x378f48(0x2cf)](_0x4ef3e5,_0x305ef7)){if(_0x503470[_0x378f48(0x262)](_0x503470['SivGm'],_0x503470[_0x378f48(0x19a)]))console[_0x378f48(0x30b)](_0x503470[_0x378f48(0x1c5)]),process['exit'](0x1);else{_0x17e426['info'](_0x503470[_0x378f48(0x31b)]);const _0x2a2140={};_0x2a2140[_0x378f48(0x1e5)]=_0x26e241[_0x378f48(0x23a)],_0x2a2140['message']=_0x503470[_0x378f48(0x31b)],this['webSocketUtils'][_0x378f48(0x258)](this['rws'],_0x2a2140);const _0x5434f5={};_0x5434f5[_0x378f48(0x27e)]=!![];const _0x3f016a={'workloadIdentity':_0x5434f5,..._0x4a4897[_0x378f48(0x146)]};_0x349b6b[_0x378f48(0x146)]=_0x3f016a;}}_0x14ce8d=_0x4a3fef[_0x503470[_0x378f48(0x1a3)](_0x4ef3e5,0x1)];}}}global_registry[_0x378f48(0x1ce)]=_0x14ce8d;const _0x22f63f={};return _0x22f63f[_0x378f48(0x324)]=_0x15c8b0,_0x22f63f[_0x378f48(0x1ff)]=_0xf1b076,_0x22f63f['tenantId']=_0x1af156,_0x22f63f[_0x378f48(0x1be)]=_0x5b7440,_0x22f63f['resourceGroup']=_0x14ce8d,_0x228b97[_0x378f48(0x197)][AZURE]=_0x22f63f,_0x228b97;}async[a1_0x305718(0x202)](){const _0x5c64a2=a1_0x305718,_0x4948c7={};_0x4948c7[_0x5c64a2(0x2dd)]=function(_0x27d1a0,_0x3cf8e4){return _0x27d1a0===_0x3cf8e4;},_0x4948c7['GbHxj']='FoZEm',_0x4948c7[_0x5c64a2(0x1f3)]=function(_0x40855b,_0x5191b0){return _0x40855b===_0x5191b0;},_0x4948c7[_0x5c64a2(0x343)]='UgwPO';const _0x6fb669=_0x4948c7,_0x36d33e=[];try{if(_0x6fb669[_0x5c64a2(0x2dd)](_0x6fb669[_0x5c64a2(0x1ba)],_0x6fb669[_0x5c64a2(0x1ba)])){const _0x429691=await this[_0x5c64a2(0x2de)][_0x5c64a2(0x230)][_0x5c64a2(0x305)]();for await(const _0x107df1 of _0x429691){if(_0x6fb669[_0x5c64a2(0x1f3)](_0x6fb669['juoXI'],_0x6fb669[_0x5c64a2(0x343)]))_0x36d33e[_0x5c64a2(0x287)](_0x107df1[_0x5c64a2(0x2da)]);else return!![];}}else _0x4951f8[_0x5c64a2(0x1bc)](0x0);}catch(_0x3f796f){}return _0x36d33e;}async[a1_0x305718(0x29d)](){const _0x417db1=a1_0x305718;return this['clusterInfo']=await this[_0x417db1(0x304)][_0x417db1(0x162)][_0x417db1(0x21f)](global_registry[_0x417db1(0x1ce)],this['clusterName']),this['clusterInfo'];}async[a1_0x305718(0x2d2)](){const _0xb3cee0=a1_0x305718,_0x5ca646=await this[_0xb3cee0(0x304)][_0xb3cee0(0x162)][_0xb3cee0(0x299)](global_registry['cloudProviderResourceGroup'],this[_0xb3cee0(0x1a7)]),_0x4f8d65=_0x5ca646[_0xb3cee0(0x14f)][0x0]['value'][_0xb3cee0(0x2b2)]();return _0x4f8d65;}[a1_0x305718(0x1d5)](_0x3f74c0){const _0x154bd6=a1_0x305718;return _0x3f74c0[_0x154bd6(0x228)][_0x154bd6(0x1af)][_0x154bd6(0x215)][0x0][_0x154bd6(0x212)];}async[a1_0x305718(0x196)](){const _0x3f94ba=a1_0x305718,_0x216505={};_0x216505[_0x3f94ba(0x2fe)]='No\x20CLI\x20tool\x20required',_0x216505[_0x3f94ba(0x2dc)]=function(_0x3eb154,_0x3e22f5){return _0x3eb154===_0x3e22f5;},_0x216505['NwULN']=_0x3f94ba(0x1d8),_0x216505['MVPnE']=_0x3f94ba(0x2a7),_0x216505[_0x3f94ba(0x244)]=function(_0x401224,_0x17a5c4){return _0x401224!==_0x17a5c4;},_0x216505[_0x3f94ba(0x191)]='TwrZr';const _0x2e1bd5=_0x216505,_0x27a53e=new Array();for await(const _0xd8459b of this[_0x3f94ba(0x304)]['managedClusters'][_0x3f94ba(0x1bb)](global_registry[_0x3f94ba(0x1ce)])){_0x2e1bd5['UggdY'](_0x2e1bd5[_0x3f94ba(0x176)],_0x2e1bd5[_0x3f94ba(0x176)])?_0x27a53e[_0x3f94ba(0x287)](_0xd8459b):_0x367493[_0x3f94ba(0x287)](_0x231cbc);}for await(const _0x26d575 of _0x27a53e){if(_0x2e1bd5[_0x3f94ba(0x2dc)](_0x2e1bd5[_0x3f94ba(0x307)],_0x2e1bd5[_0x3f94ba(0x307)])){if(_0x2e1bd5[_0x3f94ba(0x2dc)](_0x26d575[_0x3f94ba(0x2da)],this[_0x3f94ba(0x1a7)])){if(_0x2e1bd5[_0x3f94ba(0x244)](_0x2e1bd5[_0x3f94ba(0x191)],_0x2e1bd5[_0x3f94ba(0x191)])){const _0x1a4ea5={};_0x1a4ea5['status']=!![],_0x1a4ea5[_0x3f94ba(0x30b)]=null,_0x1a4ea5[_0x3f94ba(0x1b7)]=_0x2e1bd5[_0x3f94ba(0x2fe)];const _0x41e8b4=_0x1a4ea5;return _0x41e8b4;}else return await this[_0x3f94ba(0x29d)](),!![];}}else _0x3c56a0[_0x3f94ba(0x287)](_0x16ab21);}return![];}async[a1_0x305718(0x23e)](_0xc21697=null,_0x517d98=null){const _0x2e4fe9=a1_0x305718,_0x46a571={};_0x46a571[_0x2e4fe9(0x27f)]=_0x2e4fe9(0x1de),_0x46a571[_0x2e4fe9(0x1f7)]=_0x2e4fe9(0x220);const _0x385d9b=_0x46a571,_0xc80fc6=_0x385d9b[_0x2e4fe9(0x27f)]['split']('|');let _0x4643c5=0x0;while(!![]){switch(_0xc80fc6[_0x4643c5++]){case'0':await this[_0x2e4fe9(0x210)](_0xc21697,_0x517d98);continue;case'1':this[_0x2e4fe9(0x26f)]();continue;case'2':return[_0xc21697,_0x517d98];case'3':await this[_0x2e4fe9(0x2af)]();continue;case'4':const _0x3c604d={};_0x3c604d[_0x2e4fe9(0x1e5)]=WS_EVENTS['LOG'],_0x3c604d[_0x2e4fe9(0x1fa)]=_0x385d9b['noABZ'],this[_0x2e4fe9(0x24c)]['sendEventToBackend'](this[_0x2e4fe9(0x16c)],_0x3c604d);continue;case'5':logger[_0x2e4fe9(0x194)](_0x385d9b[_0x2e4fe9(0x1f7)]);continue;}break;}}async['createCluster'](_0xbffec2=null,_0x217423=null){const _0x5c48cb=a1_0x305718,_0x2e7e2d={};_0x2e7e2d[_0x5c48cb(0x188)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster',_0x2e7e2d[_0x5c48cb(0x278)]=_0x5c48cb(0x31e),_0x2e7e2d[_0x5c48cb(0x1eb)]=_0x5c48cb(0x161),_0x2e7e2d[_0x5c48cb(0x248)]=_0x5c48cb(0x18f),_0x2e7e2d[_0x5c48cb(0x145)]=_0x5c48cb(0x272),_0x2e7e2d['jjrah']='true',_0x2e7e2d[_0x5c48cb(0x234)]=_0x5c48cb(0x190),_0x2e7e2d[_0x5c48cb(0x1ac)]=function(_0x2d6eec,_0x1529a9){return _0x2d6eec!==_0x1529a9;},_0x2e7e2d['PgkWC']=function(_0x5ac854,_0x4c2ae4){return _0x5ac854!==_0x4c2ae4;},_0x2e7e2d[_0x5c48cb(0x1c0)]=function(_0x1ca11e,_0x3edfd3){return _0x1ca11e===_0x3edfd3;},_0x2e7e2d['lUezh']=_0x5c48cb(0x1da),_0x2e7e2d['JaAhT']='string',_0x2e7e2d[_0x5c48cb(0x286)]=_0x5c48cb(0x2f2),_0x2e7e2d[_0x5c48cb(0x209)]=_0x5c48cb(0x1f9),_0x2e7e2d['ayDxe']=_0x5c48cb(0x2fb),_0x2e7e2d[_0x5c48cb(0x16f)]=_0x5c48cb(0x26a),_0x2e7e2d[_0x5c48cb(0x2e5)]=_0x5c48cb(0x1d2);const _0x1ef5b1=_0x2e7e2d;let _0x482dd1=await fs[_0x5c48cb(0x29e)](path[_0x5c48cb(0x33b)](__dirname,'..',_0x1ef5b1[_0x5c48cb(0x278)],_0x1ef5b1[_0x5c48cb(0x1eb)],_0x1ef5b1[_0x5c48cb(0x248)]),_0x1ef5b1[_0x5c48cb(0x145)]);_0x482dd1=JSON['parse'](_0x482dd1);const _0x1c61ea={};_0x1c61ea['value']=this[_0x5c48cb(0x1a7)];const _0x368888={};_0x368888[_0x5c48cb(0x30e)]=global_registry[_0x5c48cb(0x153)];const _0x11f132={};_0x11f132[_0x5c48cb(0x30e)]=global_registry['instanceType'];const _0x47f603={};_0x47f603[_0x5c48cb(0x30e)]=global_registry[_0x5c48cb(0x2d1)];const _0x31d7ca={};_0x31d7ca[_0x5c48cb(0x30e)]=global_registry[_0x5c48cb(0x332)]?_0x1ef5b1['jjrah']:_0x1ef5b1[_0x5c48cb(0x234)];const _0x30f51d={};_0x30f51d[_0x5c48cb(0x1a7)]=_0x1c61ea,_0x30f51d[_0x5c48cb(0x30f)]=_0x368888,_0x30f51d[_0x5c48cb(0x23c)]=_0x11f132,_0x30f51d[_0x5c48cb(0x1c8)]=_0x47f603,_0x30f51d[_0x5c48cb(0x332)]=_0x31d7ca;let _0x1cea5e=_0x30f51d;if(_0x1ef5b1[_0x5c48cb(0x1ac)](_0xbffec2,null)&&_0x1ef5b1['PgkWC'](_0x217423,null)){if(_0x1ef5b1['qgHPD'](_0x1ef5b1[_0x5c48cb(0x2f6)],_0x1ef5b1[_0x5c48cb(0x2f6)])){const _0x437df7={};_0x437df7['type']=_0x1ef5b1[_0x5c48cb(0x31f)],_0x437df7[_0x5c48cb(0x322)]={},_0x437df7[_0x5c48cb(0x322)][_0x5c48cb(0x18b)]=_0x1ef5b1[_0x5c48cb(0x286)];const _0x101b42={};_0x101b42[_0x5c48cb(0x1e5)]=_0x1ef5b1[_0x5c48cb(0x31f)],_0x101b42[_0x5c48cb(0x322)]={},_0x101b42[_0x5c48cb(0x322)][_0x5c48cb(0x18b)]=_0x1ef5b1[_0x5c48cb(0x286)],_0x482dd1[_0x5c48cb(0x1d3)]={..._0x482dd1[_0x5c48cb(0x1d3)],'vpcName':_0x437df7,'subnetName':_0x101b42};const _0x42770f={};_0x42770f[_0x5c48cb(0x29c)]=_0x1ef5b1[_0x5c48cb(0x209)],_0x482dd1[_0x5c48cb(0x17d)]=_0x42770f,_0x482dd1[_0x5c48cb(0x2b0)][0x0][_0x5c48cb(0x1b9)]['agentPoolProfiles'][0x0]={..._0x482dd1[_0x5c48cb(0x2b0)][0x0][_0x5c48cb(0x1b9)][_0x5c48cb(0x160)][0x0],'vnetSubnetID':_0x1ef5b1['ayDxe']};const _0x3d9047={};_0x3d9047['value']=_0xbffec2;const _0x4ca4eb={};_0x4ca4eb[_0x5c48cb(0x30e)]=_0x217423[0x0],_0x1cea5e={..._0x1cea5e,'vpcName':_0x3d9047,'subnetName':_0x4ca4eb};}else{_0x56e446[_0x5c48cb(0x194)](_0x1ef5b1['eJOem']);const _0x5dcad2={};_0x5dcad2['type']=_0x29743b[_0x5c48cb(0x23a)],_0x5dcad2[_0x5c48cb(0x1fa)]=_0x1ef5b1[_0x5c48cb(0x188)],this[_0x5c48cb(0x24c)][_0x5c48cb(0x258)](this[_0x5c48cb(0x16c)],_0x5dcad2),_0x307145[_0x5c48cb(0x195)]=![];}}await this['resourceClient'][_0x5c48cb(0x25d)]['beginCreateOrUpdateAndWait'](global_registry[_0x5c48cb(0x1ce)],_0x1ef5b1[_0x5c48cb(0x16f)],{'properties':{'template':_0x482dd1,'mode':_0x1ef5b1[_0x5c48cb(0x2e5)],'parameters':_0x1cea5e}});}async[a1_0x305718(0x2af)](){const _0x273c70=a1_0x305718,_0x59360e={};_0x59360e[_0x273c70(0x198)]=_0x273c70(0x26c),_0x59360e[_0x273c70(0x2c8)]=function(_0x4dd6ef,_0x199e46){return _0x4dd6ef!==_0x199e46;},_0x59360e[_0x273c70(0x282)]=_0x273c70(0x29f),_0x59360e['fQymB']=_0x273c70(0x158),_0x59360e[_0x273c70(0x1fd)]=function(_0x5e69b5,_0x177891){return _0x5e69b5===_0x177891;},_0x59360e['HsqOe']=_0x273c70(0x168),_0x59360e[_0x273c70(0x21d)]=_0x273c70(0x274),_0x59360e[_0x273c70(0x283)]=_0x273c70(0x1f4),_0x59360e[_0x273c70(0x2df)]=_0x273c70(0x2e4),_0x59360e[_0x273c70(0x237)]=_0x273c70(0x319),_0x59360e['eAyFA']=_0x273c70(0x289),_0x59360e[_0x273c70(0x1b2)]=function(_0x4697f7,_0x458e9e){return _0x4697f7===_0x458e9e;},_0x59360e[_0x273c70(0x2ad)]=_0x273c70(0x260),_0x59360e[_0x273c70(0x16b)]=_0x273c70(0x187),_0x59360e[_0x273c70(0x323)]='Creating\x20Azure\x20federated\x20identity',_0x59360e['UZVlN']=_0x273c70(0x2ba);const _0x4a3f5b=_0x59360e,_0x5b28bb=await this[_0x273c70(0x340)]();if(!_0x5b28bb){if(_0x4a3f5b['BytnJ'](_0x4a3f5b[_0x273c70(0x282)],_0x4a3f5b[_0x273c70(0x282)]))_0x26e6b1[_0x273c70(0x288)]['push'](_0x4dfc32);else{const _0x2b07ac={};_0x2b07ac['type']=WS_EVENTS[_0x273c70(0x2b6)],_0x2b07ac[_0x273c70(0x1fa)]=_0x4a3f5b['fQymB'],this['webSocketUtils']['sendEventToBackend'](this[_0x273c70(0x16c)],_0x2b07ac),logger[_0x273c70(0x194)](_0x4a3f5b[_0x273c70(0x1c3)]),await this[_0x273c70(0x203)]();}}else{if(_0x4a3f5b[_0x273c70(0x1fd)](_0x4a3f5b[_0x273c70(0x2cd)],_0x4a3f5b[_0x273c70(0x21d)]))return _0x15bf29[_0x273c70(0x1b7)]=_0x4a3f5b[_0x273c70(0x198)],_0x4de7b2;else logger[_0x273c70(0x194)](_0x4a3f5b[_0x273c70(0x283)]);}const _0x26ddb1=await this[_0x273c70(0x216)]();if(!_0x26ddb1){if(_0x4a3f5b[_0x273c70(0x2c8)](_0x4a3f5b[_0x273c70(0x2df)],_0x4a3f5b[_0x273c70(0x237)])){const _0x32bd3e={};_0x32bd3e['type']=WS_EVENTS[_0x273c70(0x2b6)],_0x32bd3e[_0x273c70(0x1fa)]=_0x4a3f5b[_0x273c70(0x18a)],this['webSocketUtils'][_0x273c70(0x258)](this[_0x273c70(0x16c)],_0x32bd3e),logger[_0x273c70(0x194)](_0x4a3f5b[_0x273c70(0x18a)]),await this[_0x273c70(0x1d9)]();}else{const _0x461f1d=new _0x414bb3(_0x517700[_0x273c70(0x263)],_0x13678a[_0x273c70(0x22e)],_0x3326e8['cloudProviderClientSecret']);this[_0x273c70(0x304)]=new _0x40212c(_0x461f1d,_0x7bd012[_0x273c70(0x17b)]),this[_0x273c70(0x20e)]=new _0x703a33(_0x461f1d,_0x36993a['cloudProviderSubscriptionId']),this[_0x273c70(0x2de)]=new _0x710155(_0x461f1d,_0xcebc35[_0x273c70(0x17b)]),this['networkClient']=new _0x53a82b(_0x461f1d,_0x5740e5['cloudProviderSubscriptionId']),this[_0x273c70(0x155)]=new _0x4c46fd(_0x461f1d,_0x2feac4[_0x273c70(0x17b)]),this[_0x273c70(0x2e6)]=_0x461f1d;}}else _0x4a3f5b['TgXnO'](_0x4a3f5b[_0x273c70(0x2ad)],_0x4a3f5b[_0x273c70(0x2ad)])?logger[_0x273c70(0x194)](_0x4a3f5b['OhIgl']):_0x27bde8[_0x273c70(0x287)](_0x23114b);logger['info'](_0x4a3f5b[_0x273c70(0x323)]),await this['createFederatedAccount'](),logger['info'](_0x4a3f5b[_0x273c70(0x2d3)]);}async[a1_0x305718(0x203)](){const _0x4f904f=a1_0x305718,_0x590f86={};_0x590f86[_0x4f904f(0x32e)]='templates',_0x590f86[_0x4f904f(0x341)]=_0x4f904f(0x161),_0x590f86[_0x4f904f(0x15c)]=_0x4f904f(0x1ee),_0x590f86['UpTTQ']=_0x4f904f(0x272),_0x590f86[_0x4f904f(0x2e9)]=_0x4f904f(0x2d4),_0x590f86[_0x4f904f(0x310)]='Incremental',_0x590f86[_0x4f904f(0x1e7)]=_0x4f904f(0x1cd),_0x590f86['gojra']=_0x4f904f(0x32f),_0x590f86[_0x4f904f(0x184)]=_0x4f904f(0x177),_0x590f86[_0x4f904f(0x24b)]=_0x4f904f(0x1c9);const _0x204bb1=_0x590f86;let _0x574bac=await fs[_0x4f904f(0x29e)](path[_0x4f904f(0x33b)](__dirname,'..',_0x204bb1[_0x4f904f(0x32e)],_0x204bb1[_0x4f904f(0x341)],_0x204bb1[_0x4f904f(0x15c)]),_0x204bb1[_0x4f904f(0x1e3)]);_0x574bac=JSON['parse'](_0x574bac);const _0x2d030b=this[_0x4f904f(0x14b)](),_0x5e3fbe={};_0x5e3fbe[_0x4f904f(0x30e)]=_0x2d030b;const _0x4118b9={};_0x4118b9[_0x4f904f(0x1ab)]=_0x5e3fbe,await this[_0x4f904f(0x2de)]['deployments'][_0x4f904f(0x18e)](global_registry['cloudProviderResourceGroup'],_0x204bb1[_0x4f904f(0x2e9)],{'properties':{'template':_0x574bac,'mode':_0x204bb1[_0x4f904f(0x310)],'parameters':_0x4118b9}});const _0x3ea32d={};_0x3ea32d[_0x4f904f(0x2c5)]=0x3c;const _0x34ffbf={};_0x34ffbf[_0x4f904f(0x19c)]=_0x3ea32d;const _0x3e66e5={};_0x3e66e5[_0x4f904f(0x33e)]=_0x34ffbf;const _0x5e60c={};_0x5e60c['enabled']=!![],_0x5e60c[_0x4f904f(0x2da)]=_0x204bb1[_0x4f904f(0x1e7)],_0x5e60c[_0x4f904f(0x1e5)]=_0x204bb1['gojra'],_0x5e60c[_0x4f904f(0x1aa)]={},_0x5e60c[_0x4f904f(0x1aa)][_0x4f904f(0x236)]=_0x3e66e5,_0x5e60c[_0x4f904f(0x1aa)][_0x4f904f(0x250)]={},_0x5e60c[_0x4f904f(0x1aa)][_0x4f904f(0x250)]['blobTypes']=[_0x204bb1[_0x4f904f(0x184)]];const _0x4b3e53={};_0x4b3e53[_0x4f904f(0x231)]=[_0x5e60c];const _0x4083a0={};_0x4083a0[_0x4f904f(0x166)]=_0x4b3e53;const _0x224988=_0x4083a0;await this[_0x4f904f(0x20e)][_0x4f904f(0x17c)][_0x4f904f(0x316)](global_registry[_0x4f904f(0x1ce)],_0x2d030b,_0x204bb1[_0x4f904f(0x24b)],_0x224988);}async['createManagedIdentity'](){const _0x2081a3=a1_0x305718,_0x41853a={};_0x41853a[_0x2081a3(0x295)]=_0x2081a3(0x31e),_0x41853a[_0x2081a3(0x165)]=_0x2081a3(0x161),_0x41853a['DsTym']=_0x2081a3(0x2ea),_0x41853a[_0x2081a3(0x240)]='utf-8',_0x41853a[_0x2081a3(0x222)]=_0x2081a3(0x255),_0x41853a['jcmTk']='Incremental';const _0x9fe8c7=_0x41853a;let _0x4cf62b=await fs[_0x2081a3(0x29e)](path[_0x2081a3(0x33b)](__dirname,'..',_0x9fe8c7[_0x2081a3(0x295)],_0x9fe8c7[_0x2081a3(0x165)],_0x9fe8c7[_0x2081a3(0x2a4)]),_0x9fe8c7[_0x2081a3(0x240)]);_0x4cf62b=JSON[_0x2081a3(0x27d)](_0x4cf62b),await this['resourceClient'][_0x2081a3(0x25d)][_0x2081a3(0x18e)](global_registry[_0x2081a3(0x1ce)],_0x9fe8c7[_0x2081a3(0x222)],{'properties':{'template':_0x4cf62b,'mode':_0x9fe8c7[_0x2081a3(0x1c4)],'parameters':{'clusterName':{'value':this[_0x2081a3(0x1a7)]}}}});}async[a1_0x305718(0x1b0)](){const _0x11ba5f=a1_0x305718,_0x37540d={};_0x37540d['uCTOp']=_0x11ba5f(0x2b8),_0x37540d[_0x11ba5f(0x144)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x37540d[_0x11ba5f(0x315)]=_0x11ba5f(0x1f9),_0x37540d['ZmZPE']='[variables(\x27vnetSubnetID\x27)]',_0x37540d['xAqUD']=function(_0x54eb0e,_0x2dbade){return _0x54eb0e!==_0x2dbade;},_0x37540d['VAMgM']=_0x11ba5f(0x1b8),_0x37540d[_0x11ba5f(0x348)]=_0x11ba5f(0x225),_0x37540d[_0x11ba5f(0x29b)]=_0x11ba5f(0x241),_0x37540d[_0x11ba5f(0x1cc)]=function(_0x12363e,_0xb622d8){return _0x12363e===_0xb622d8;},_0x37540d['CVUWJ']=_0x11ba5f(0x20c),_0x37540d[_0x11ba5f(0x270)]=_0x11ba5f(0x2bf),_0x37540d[_0x11ba5f(0x313)]='templates',_0x37540d[_0x11ba5f(0x2b3)]=_0x11ba5f(0x161),_0x37540d['jpPvR']=_0x11ba5f(0x272),_0x37540d[_0x11ba5f(0x1e0)]=_0x11ba5f(0x32d),_0x37540d[_0x11ba5f(0x345)]='Incremental';const _0x34de81=_0x37540d;!this[_0x11ba5f(0x329)]&&(_0x34de81[_0x11ba5f(0x219)](_0x34de81[_0x11ba5f(0x245)],_0x34de81[_0x11ba5f(0x245)])?_0x26f559[_0x11ba5f(0x228)]=![]:await this['getClusterInfo']());const _0x45bf72=this['clusterInfo']?.[_0x11ba5f(0x200)]?.['issuerURL'],_0x728d09=[_0x34de81[_0x11ba5f(0x348)],_0x34de81[_0x11ba5f(0x29b)]];for await(const _0x35511b of _0x728d09){if(_0x34de81[_0x11ba5f(0x1cc)](_0x34de81['CVUWJ'],_0x34de81[_0x11ba5f(0x270)])){const _0x28a8eb={};_0x28a8eb[_0x11ba5f(0x1e5)]=_0x34de81[_0x11ba5f(0x201)],_0x28a8eb[_0x11ba5f(0x322)]={},_0x28a8eb[_0x11ba5f(0x322)][_0x11ba5f(0x18b)]=_0x34de81[_0x11ba5f(0x144)];const _0x35a046={};_0x35a046[_0x11ba5f(0x1e5)]=_0x34de81[_0x11ba5f(0x201)],_0x35a046[_0x11ba5f(0x322)]={},_0x35a046[_0x11ba5f(0x322)][_0x11ba5f(0x18b)]=_0x34de81[_0x11ba5f(0x144)];const _0x538b51={..._0x890150[_0x11ba5f(0x1d3)]};_0x538b51[_0x11ba5f(0x252)]=_0x28a8eb,_0x538b51[_0x11ba5f(0x1b6)]=_0x35a046,_0x40d37e['parameters']=_0x538b51;const _0x5978f5={};_0x5978f5['vnetSubnetID']=_0x34de81['CPWgT'],_0x12e869[_0x11ba5f(0x17d)]=_0x5978f5;const _0x36b078={..._0x46ac22[_0x11ba5f(0x2b0)][0x0][_0x11ba5f(0x1b9)][_0x11ba5f(0x160)][0x0]};_0x36b078[_0x11ba5f(0x29c)]=_0x34de81['ZmZPE'],_0x40e0a5[_0x11ba5f(0x2b0)][0x0][_0x11ba5f(0x1b9)][_0x11ba5f(0x160)][0x0]=_0x36b078;const _0x5e5c33={};_0x5e5c33[_0x11ba5f(0x30e)]=_0x3a3aee;const _0x477ad8={};_0x477ad8['value']=_0x4c9e53[0x0];const _0x316cbb={..._0x279498};_0x316cbb['vpcName']=_0x5e5c33,_0x316cbb[_0x11ba5f(0x1b6)]=_0x477ad8,_0x1b6468=_0x316cbb;}else{let _0x5d8e3d=await fs[_0x11ba5f(0x29e)](path[_0x11ba5f(0x33b)](__dirname,'..',_0x34de81[_0x11ba5f(0x313)],_0x34de81[_0x11ba5f(0x2b3)],_0x11ba5f(0x251)+_0x35511b+_0x11ba5f(0x2ce)),_0x34de81['jpPvR']);_0x5d8e3d=JSON[_0x11ba5f(0x27d)](_0x5d8e3d);const _0xb450a1={};_0xb450a1[_0x11ba5f(0x30e)]=_0x45bf72,await this[_0x11ba5f(0x2de)][_0x11ba5f(0x25d)][_0x11ba5f(0x18e)](global_registry[_0x11ba5f(0x1ce)],_0x34de81['tFjLP'],{'properties':{'template':_0x5d8e3d,'mode':_0x34de81[_0x11ba5f(0x345)],'parameters':{'oidcIssuer':_0xb450a1,'gridName':{'value':this[_0x11ba5f(0x179)]},'clusterName':{'value':this['clusterName']}}}});}}}async[a1_0x305718(0x147)](_0x34513b,_0x3f25c5,_0x4ed584,_0x4de53c,_0x3e76d6){const _0x479bd3=a1_0x305718,_0x5e1da3={};_0x5e1da3['EBhgy']=_0x479bd3(0x151),_0x5e1da3[_0x479bd3(0x32b)]=_0x479bd3(0x1ec);const _0x19ba1b=_0x5e1da3,_0x281058={};_0x281058[_0x479bd3(0x1e5)]=WS_EVENTS[_0x479bd3(0x2b6)],_0x281058[_0x479bd3(0x1fa)]=_0x19ba1b[_0x479bd3(0x150)],this[_0x479bd3(0x24c)][_0x479bd3(0x258)](this[_0x479bd3(0x16c)],_0x281058),logger[_0x479bd3(0x194)](_0x19ba1b[_0x479bd3(0x150)]),await this[_0x479bd3(0x226)]();const _0x2d556f={};_0x2d556f['type']=WS_EVENTS['LOG'],_0x2d556f['message']=_0x19ba1b['iXNge'],this[_0x479bd3(0x24c)]['sendEventToBackend'](this[_0x479bd3(0x16c)],_0x2d556f);}async[a1_0x305718(0x226)](){const _0x2c29b7=a1_0x305718,_0x4e9dea={};_0x4e9dea[_0x2c29b7(0x30c)]=function(_0xc05dc6,_0xe0529a){return _0xc05dc6===_0xe0529a;},_0x4e9dea[_0x2c29b7(0x159)]=_0x2c29b7(0x277),_0x4e9dea[_0x2c29b7(0x1df)]=_0x2c29b7(0x167),_0x4e9dea['UlvwJ']=_0x2c29b7(0x31e),_0x4e9dea[_0x2c29b7(0x293)]=_0x2c29b7(0x1a6),_0x4e9dea['juvsX']=_0x2c29b7(0x2db),_0x4e9dea['nPYfC']='utf-8',_0x4e9dea[_0x2c29b7(0x292)]=_0x2c29b7(0x32d),_0x4e9dea[_0x2c29b7(0x1c1)]=_0x2c29b7(0x1d2);const _0xe819a5=_0x4e9dea;if(!this[_0x2c29b7(0x329)]){if(_0xe819a5['bpQab'](_0xe819a5['gnbbh'],_0xe819a5[_0x2c29b7(0x1df)])){if(_0xe819a5[_0x2c29b7(0x30c)](_0x401b03['name'],_0x10d891))return!![];}else await this[_0x2c29b7(0x29d)]();}const _0x178f41=this['clusterInfo']?.[_0x2c29b7(0x200)]?.[_0x2c29b7(0x22d)];let _0x8a7c85=await fs['readFileAsync'](path['join'](__dirname,'..',_0xe819a5[_0x2c29b7(0x2f9)],_0xe819a5['IWYsz'],_0xe819a5[_0x2c29b7(0x22b)]),_0xe819a5['nPYfC']);_0x8a7c85=JSON['parse'](_0x8a7c85);const _0x2e611e={};_0x2e611e[_0x2c29b7(0x30e)]=_0x178f41,await this['resourceClient']['deployments'][_0x2c29b7(0x18e)](global_registry['cloudProviderResourceGroup'],_0xe819a5['encZi'],{'properties':{'template':_0x8a7c85,'mode':_0xe819a5[_0x2c29b7(0x1c1)],'parameters':{'oidcIssuer':_0x2e611e,'namespace':{'value':global_registry[_0x2c29b7(0x2be)]},'clusterName':{'value':this[_0x2c29b7(0x1a7)]}}}});}async[a1_0x305718(0x340)](){const _0x19ed02=a1_0x305718,_0x47659d={};_0x47659d[_0x19ed02(0x25e)]=function(_0x21a0d9,_0x96b54c){return _0x21a0d9===_0x96b54c;},_0x47659d[_0x19ed02(0x1fb)]=_0x19ed02(0x178),_0x47659d[_0x19ed02(0x15a)]=function(_0x8c80c7,_0x485688){return _0x8c80c7!==_0x485688;},_0x47659d[_0x19ed02(0x14c)]=_0x19ed02(0x15d),_0x47659d[_0x19ed02(0x267)]=_0x19ed02(0x1db),_0x47659d[_0x19ed02(0x342)]=function(_0x4114e9,_0x331d76){return _0x4114e9===_0x331d76;},_0x47659d[_0x19ed02(0x2fc)]=_0x19ed02(0x214),_0x47659d[_0x19ed02(0x169)]=_0x19ed02(0x28e),_0x47659d[_0x19ed02(0x18c)]=function(_0x2a9e7,_0x2c4f1e){return _0x2a9e7===_0x2c4f1e;},_0x47659d[_0x19ed02(0x164)]=function(_0x37bfa1,_0x64a2de){return _0x37bfa1!==_0x64a2de;},_0x47659d[_0x19ed02(0x1a2)]='wkAlV',_0x47659d['GqPgb']=_0x19ed02(0x2ae);const _0x5ce65d=_0x47659d,_0x12a801=this[_0x19ed02(0x14b)](),_0x4861b4=new Array();for await(const _0x4c8134 of this[_0x19ed02(0x20e)][_0x19ed02(0x306)][_0x19ed02(0x1bb)](global_registry[_0x19ed02(0x1ce)])){if(_0x5ce65d['RguLB'](_0x5ce65d[_0x19ed02(0x14c)],_0x5ce65d[_0x19ed02(0x267)]))_0x4861b4[_0x19ed02(0x287)](_0x4c8134);else return _0x474d03[_0x19ed02(0x30b)]=_0x2ecf77['error'],_0x4cad3a;}for await(const _0x277287 of _0x4861b4){if(_0x5ce65d[_0x19ed02(0x342)](_0x5ce65d[_0x19ed02(0x2fc)],_0x5ce65d[_0x19ed02(0x169)]))_0x5ce65d[_0x19ed02(0x25e)](_0x2e382d[_0x19ed02(0x2da)],_0x32ff8a)&&(_0x33073a=_0x12724c['id']);else{if(_0x5ce65d['ZFHzS'](_0x277287[_0x19ed02(0x2da)],_0x12a801)){if(_0x5ce65d[_0x19ed02(0x164)](_0x5ce65d['eJgLl'],_0x5ce65d['GqPgb']))return!![];else{_0x34b7d1[_0x19ed02(0x194)](_0x5ce65d[_0x19ed02(0x1fb)]);const _0x299019={};_0x299019['type']=_0xf5e231['RESOURCES'],_0x299019['message']=_0x5ce65d['AHEWW'],this[_0x19ed02(0x24c)][_0x19ed02(0x258)](this[_0x19ed02(0x16c)],_0x299019),_0x48d947[_0x19ed02(0x200)][_0x19ed02(0x27e)]=!![];}}}}return![];}async[a1_0x305718(0x216)](){const _0x5b295b=a1_0x305718,_0x319fc8={};_0x319fc8[_0x5b295b(0x294)]=function(_0xd7809d,_0x3a9c2d){return _0xd7809d+_0x3a9c2d;},_0x319fc8['lecVn']=_0x5b295b(0x16d),_0x319fc8[_0x5b295b(0x2ab)]=_0x5b295b(0x1d4),_0x319fc8[_0x5b295b(0x301)]=function(_0x4075dc,_0x1169e0){return _0x4075dc===_0x1169e0;},_0x319fc8['vTIXF']=_0x5b295b(0x33a),_0x319fc8[_0x5b295b(0x2f5)]=_0x5b295b(0x2ee),_0x319fc8[_0x5b295b(0x185)]=_0x5b295b(0x28c),_0x319fc8[_0x5b295b(0x2a3)]=function(_0x2f9fbc,_0x34a83f){return _0x2f9fbc===_0x34a83f;},_0x319fc8[_0x5b295b(0x181)]=_0x5b295b(0x31d),_0x319fc8[_0x5b295b(0x193)]='dgxdS';const _0x1e795d=_0x319fc8,_0x5621c4=new Array();for await(const _0x4067a2 of this[_0x5b295b(0x2de)][_0x5b295b(0x2b0)]['listByResourceGroup'](global_registry[_0x5b295b(0x1ce)])){_0x1e795d[_0x5b295b(0x301)](_0x1e795d['vTIXF'],_0x1e795d[_0x5b295b(0x2f5)])?_0x349817[_0x5b295b(0x1b1)]('['+_0x1e795d['GCQtF'](_0x3fc252,0x1)+']\x20'+_0xfb319a[_0x4fe0bb]):_0x5621c4[_0x5b295b(0x287)](_0x4067a2);}for await(const _0x2e4d93 of _0x5621c4){if(_0x1e795d[_0x5b295b(0x301)](_0x1e795d[_0x5b295b(0x185)],_0x1e795d[_0x5b295b(0x185)])){if(_0x1e795d[_0x5b295b(0x2a3)](_0x2e4d93[_0x5b295b(0x2da)],_0x5b295b(0x253)+this[_0x5b295b(0x1a7)])){if(_0x1e795d[_0x5b295b(0x2a3)](_0x1e795d[_0x5b295b(0x181)],_0x1e795d[_0x5b295b(0x193)])){const _0x1079de=_0x558da1['includes'](_0x1757f3);_0x4695ca+='\x0a\x09'+_0x28932d+':\x20'+(_0x1079de?_0x1e795d['lecVn']:_0x1e795d[_0x5b295b(0x2ab)]),!_0x1079de&&(_0xc9fb42[_0x5b295b(0x228)]=![]);}else return!![];}}else return!![];}return![];}async['getResourceClientId'](_0x2c81ac,_0x12bc12=0x3){const _0x3e1cfd=a1_0x305718,_0x4409bc={'vvFLc':_0x3e1cfd(0x1d7),'EdhXz':'Storage\x20account\x20already\x20exists,\x20skipping','sZdxi':function(_0x4ea8a4,_0xd6c611){return _0x4ea8a4===_0xd6c611;},'ybKXA':_0x3e1cfd(0x15e),'extXb':function(_0x1112f8,_0xd401f0){return _0x1112f8===_0xd401f0;},'xteYR':function(_0x1ef546,_0x476ada){return _0x1ef546!==_0x476ada;},'AemCK':_0x3e1cfd(0x2d6),'tSEsS':function(_0x1e769f,_0x4e5059,_0x5687cc){return _0x1e769f(_0x4e5059,_0x5687cc);},'gAkfj':function(_0x17ccdc,_0x38788d){return _0x17ccdc===_0x38788d;},'gOzOD':_0x3e1cfd(0x152),'ddgKq':_0x3e1cfd(0x1e4),'bWEMV':_0x3e1cfd(0x2ef),'xsFzm':_0x3e1cfd(0x24a),'bCmkR':_0x3e1cfd(0x2b5),'qNVvO':_0x3e1cfd(0x33d),'izDLD':_0x3e1cfd(0x26e),'RnZnk':_0x3e1cfd(0x338),'Jpnst':'ReVrt','BgSnb':function(_0x301251,_0x2e34e6){return _0x301251<=_0x2e34e6;},'dihys':_0x3e1cfd(0x19e),'ZHUjP':function(_0x349525,_0x2f70b0){return _0x349525-_0x2f70b0;}};try{if(_0x4409bc[_0x3e1cfd(0x300)](_0x4409bc[_0x3e1cfd(0x336)],_0x4409bc[_0x3e1cfd(0x2c3)]))_0x29c3eb[_0x3e1cfd(0x287)](_0x360ee5);else{const _0x118811=new Array();for await(const _0x5d8b7e of this[_0x3e1cfd(0x2de)][_0x3e1cfd(0x2b0)]['listByResourceGroup'](global_registry[_0x3e1cfd(0x1ce)])){if(_0x4409bc[_0x3e1cfd(0x186)](_0x4409bc[_0x3e1cfd(0x183)],_0x4409bc[_0x3e1cfd(0x183)]))_0x118811[_0x3e1cfd(0x287)](_0x5d8b7e);else return!![];}let _0x2fc1c8='';for await(const _0x476a0c of _0x118811){if(_0x4409bc[_0x3e1cfd(0x31c)](_0x4409bc[_0x3e1cfd(0x227)],_0x4409bc['bCmkR'])){if(_0x4409bc[_0x3e1cfd(0x186)](_0x476a0c[_0x3e1cfd(0x2da)],_0x2c81ac)){if(_0x4409bc[_0x3e1cfd(0x31c)](_0x4409bc['qNVvO'],_0x4409bc[_0x3e1cfd(0x1ef)]))return _0x4eb747[_0x3e1cfd(0x1b7)]=_0x4409bc[_0x3e1cfd(0x21e)],_0x5be671;else _0x2fc1c8=_0x476a0c['id'];}}else _0x242c9f[_0x3e1cfd(0x194)](_0x4409bc['EdhXz']);}const _0x1be778=await this['resourceClient'][_0x3e1cfd(0x2b0)][_0x3e1cfd(0x33c)](_0x2fc1c8,_0x4409bc[_0x3e1cfd(0x1f6)]);return _0x1be778[_0x3e1cfd(0x1b9)][_0x3e1cfd(0x324)];}}catch(_0x4d172d){if(_0x4409bc['xteYR'](_0x4409bc[_0x3e1cfd(0x2a8)],_0x4409bc[_0x3e1cfd(0x265)])){if(_0x4409bc[_0x3e1cfd(0x15b)](_0x12bc12,0x0)){if(_0x4409bc['sZdxi'](_0x4409bc[_0x3e1cfd(0x1d0)],_0x4409bc[_0x3e1cfd(0x1d0)]))return logger['error'](_0x3e1cfd(0x23d)+_0x4d172d+':'+_0x4d172d[_0x3e1cfd(0x29a)]),{};else _0x35b763+=_0x4409bc[_0x3e1cfd(0x186)](_0x4b9fdf['length'],0x0)?_0x4409bc['ybKXA']:'',_0x5ac161['debug'](_0x3e1cfd(0x254)+_0x5ed417['stringify'](_0x1fbc06));}return await new Promise(_0x313af8=>{const _0x51e2a6=_0x3e1cfd,_0x54b1b6={'PPoba':function(_0x3e55e0,_0x2c7990){const _0x427bd7=a1_0x219c;return _0x4409bc[_0x427bd7(0x1a9)](_0x3e55e0,_0x2c7990);}};if(_0x4409bc[_0x51e2a6(0x31c)](_0x4409bc[_0x51e2a6(0x2a2)],_0x4409bc[_0x51e2a6(0x2a2)])){if(_0x54b1b6[_0x51e2a6(0x2a0)](_0x250e19['name'],'turboscale-managed-identity-'+this[_0x51e2a6(0x1a7)]))return!![];}else _0x4409bc['tSEsS'](setTimeout,()=>_0x313af8(),0x3e8);}),this['getResourceClientId'](_0x2c81ac,_0x4409bc[_0x3e1cfd(0x326)](_0x12bc12,0x1));}else return _0x150177[_0x3e1cfd(0x30b)](_0x3e1cfd(0x1e6)+_0x82e5be+_0x3e1cfd(0x2ff)+_0xf2741b),![];}}async[a1_0x305718(0x1fc)](){const _0x51da8e=a1_0x305718,_0x30a8ff={};_0x30a8ff[_0x51da8e(0x30a)]=function(_0x232ca8,_0x179481){return _0x232ca8!==_0x179481;},_0x30a8ff[_0x51da8e(0x22a)]=_0x51da8e(0x2a1),_0x30a8ff[_0x51da8e(0x333)]=function(_0x4750d2,_0x480506){return _0x4750d2===_0x480506;},_0x30a8ff['DefWg']=_0x51da8e(0x2f1),_0x30a8ff[_0x51da8e(0x148)]=_0x51da8e(0x2f3),_0x30a8ff[_0x51da8e(0x17a)]=_0x51da8e(0x273);const _0x5d623b=_0x30a8ff;!this[_0x51da8e(0x329)]&&(_0x5d623b[_0x51da8e(0x30a)](_0x5d623b[_0x51da8e(0x22a)],_0x5d623b[_0x51da8e(0x22a)])?_0x44bba9[_0x51da8e(0x30b)]=_0x36b03:await this[_0x51da8e(0x29d)]());const _0x412a53=this[_0x51da8e(0x329)]?.[_0x51da8e(0x1f0)]||{};if(_0x412a53&&_0x5d623b[_0x51da8e(0x333)](_0x412a53[_0x5d623b[_0x51da8e(0x24e)]],_0x5d623b[_0x51da8e(0x148)])){if(_0x5d623b['ALKdL'](_0x5d623b[_0x51da8e(0x17a)],_0x5d623b[_0x51da8e(0x17a)]))_0x2a55d6=_0xd0f528['id'];else return!![];}return![];}async[a1_0x305718(0x2cc)](_0x418be6,_0x429a59){const _0x5c1903=a1_0x305718,_0x44ebf6={'nBtqf':function(_0x12951a,_0x5aecfe){return _0x12951a(_0x5aecfe);},'IXBkA':function(_0x473254,_0x54efa9){return _0x473254(_0x54efa9);},'pVPJP':_0x5c1903(0x276)};await _0x44ebf6[_0x5c1903(0x317)](deleteAgent,_0x418be6),await _0x44ebf6[_0x5c1903(0x157)](deleteRoutingDeps,_0x418be6);const _0x31fb4d=this[_0x5c1903(0x304)];logger[_0x5c1903(0x194)](_0x5c1903(0x1a0)+this['clusterName']),await _0x31fb4d[_0x5c1903(0x162)][_0x5c1903(0x291)](global_registry[_0x5c1903(0x1ce)],this[_0x5c1903(0x1a7)]),logger[_0x5c1903(0x194)](_0x44ebf6[_0x5c1903(0x243)]);}async[a1_0x305718(0x302)](){const _0xc3c0ac=a1_0x305718,_0x110bfb={};_0x110bfb[_0xc3c0ac(0x296)]=_0xc3c0ac(0x261),_0x110bfb[_0xc3c0ac(0x2c0)]=_0xc3c0ac(0x269),_0x110bfb[_0xc3c0ac(0x224)]=function(_0x3205ab,_0x54015a){return _0x3205ab===_0x54015a;},_0x110bfb[_0xc3c0ac(0x2c9)]='XFDKD',_0x110bfb[_0xc3c0ac(0x23f)]=function(_0x24c2df,_0x2b1764){return _0x24c2df&&_0x2b1764;},_0x110bfb['yWPpd']=function(_0x2432f4,_0x14dcce){return _0x2432f4===_0x14dcce;},_0x110bfb[_0xc3c0ac(0x208)]=_0xc3c0ac(0x2a9),_0x110bfb[_0xc3c0ac(0x2bd)]=function(_0x251d63,_0xeab54){return _0x251d63!==_0xeab54;},_0x110bfb[_0xc3c0ac(0x303)]=_0xc3c0ac(0x2d8),_0x110bfb['CCReS']=_0xc3c0ac(0x24f),_0x110bfb[_0xc3c0ac(0x14d)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x110bfb[_0xc3c0ac(0x182)]=function(_0x1e16e5,_0x4b0c8e){return _0x1e16e5===_0x4b0c8e;},_0x110bfb[_0xc3c0ac(0x1f5)]=_0xc3c0ac(0x2e8),_0x110bfb[_0xc3c0ac(0x2cb)]=_0xc3c0ac(0x1c6),_0x110bfb[_0xc3c0ac(0x154)]=function(_0x525513,_0xcea07e){return _0x525513===_0xcea07e;},_0x110bfb[_0xc3c0ac(0x26b)]=_0xc3c0ac(0x1a5),_0x110bfb[_0xc3c0ac(0x2e7)]=_0xc3c0ac(0x1b3);const _0x2b15a9=_0x110bfb;if(!this['clusterInfo']){if(_0x2b15a9[_0xc3c0ac(0x224)](_0x2b15a9[_0xc3c0ac(0x2c9)],_0x2b15a9[_0xc3c0ac(0x2c9)]))await this['getClusterInfo']();else{const _0x303ae8=_0x2b15a9[_0xc3c0ac(0x296)][_0xc3c0ac(0x334)]('|');let _0x20225e=0x0;while(!![]){switch(_0x303ae8[_0x20225e++]){case'0':_0x21a0f2[_0xc3c0ac(0x263)]=_0x2ecbb4[this['cloudProviderName']]['tenantId'];continue;case'1':_0x9f27ee[_0xc3c0ac(0x17b)]=_0x5830fa[this[_0xc3c0ac(0x330)]]['subscriptionId'];continue;case'2':this['setClients']();continue;case'3':_0x57ee79[_0xc3c0ac(0x1ce)]=_0x604f77[this['cloudProviderName']][_0xc3c0ac(0x16a)];continue;case'4':_0x4f4f12[_0xc3c0ac(0x28f)]=_0x3825e5[this[_0xc3c0ac(0x330)]]['clientSecret'];continue;case'5':_0x175b4f[_0xc3c0ac(0x22e)]=_0x322b78[this['cloudProviderName']]['clientId'];continue;}break;}}}const _0x308948=this[_0xc3c0ac(0x329)],_0x29bc2e=this[_0xc3c0ac(0x329)]?.['oidcIssuerProfile']?.[_0xc3c0ac(0x27e)]||![],_0xe416e6=this[_0xc3c0ac(0x329)]?.[_0xc3c0ac(0x146)]?.[_0xc3c0ac(0x328)]?.[_0xc3c0ac(0x27e)]||![],_0x35b9dc=!this['clusterInfo']?.['disableLocalAccounts']||![];if(_0x2b15a9[_0xc3c0ac(0x23f)](_0x29bc2e,_0xe416e6)&&_0x35b9dc){if(_0x2b15a9['yWPpd'](_0x2b15a9[_0xc3c0ac(0x208)],_0x2b15a9['IFVif']))return;else return!![];}if(!_0x29bc2e){if(_0x2b15a9[_0xc3c0ac(0x2bd)](_0x2b15a9[_0xc3c0ac(0x303)],_0x2b15a9[_0xc3c0ac(0x156)])){logger['info'](_0x2b15a9[_0xc3c0ac(0x14d)]);const _0x442b19={};_0x442b19[_0xc3c0ac(0x1e5)]=WS_EVENTS[_0xc3c0ac(0x23a)],_0x442b19[_0xc3c0ac(0x1fa)]=_0x2b15a9['huZbv'],this['webSocketUtils'][_0xc3c0ac(0x258)](this['rws'],_0x442b19),_0x308948[_0xc3c0ac(0x200)][_0xc3c0ac(0x27e)]=!![];}else _0x3b9f70[_0xc3c0ac(0x287)](..._0xa52b2[_0xc3c0ac(0x236)]);}if(!_0xe416e6){if(_0x2b15a9[_0xc3c0ac(0x182)](_0x2b15a9['aFcyQ'],_0x2b15a9[_0xc3c0ac(0x1f5)])){logger[_0xc3c0ac(0x194)](_0x2b15a9[_0xc3c0ac(0x2cb)]);const _0x51f709={};_0x51f709['type']=WS_EVENTS[_0xc3c0ac(0x23a)],_0x51f709[_0xc3c0ac(0x1fa)]=_0x2b15a9[_0xc3c0ac(0x2cb)],this[_0xc3c0ac(0x24c)][_0xc3c0ac(0x258)](this[_0xc3c0ac(0x16c)],_0x51f709);const _0x109249={};_0x109249[_0xc3c0ac(0x27e)]=!![],_0x308948[_0xc3c0ac(0x146)]={'workloadIdentity':_0x109249,..._0x308948[_0xc3c0ac(0x146)]};}else _0x118973[_0xc3c0ac(0x30b)](_0x2b15a9[_0xc3c0ac(0x2c0)]),_0x4af879[_0xc3c0ac(0x1bc)](0x1);}if(!_0x35b9dc){if(_0x2b15a9[_0xc3c0ac(0x154)](_0x2b15a9['kpjbz'],_0x2b15a9[_0xc3c0ac(0x26b)])){logger[_0xc3c0ac(0x194)](_0x2b15a9[_0xc3c0ac(0x2e7)]);const _0x40f083={};_0x40f083[_0xc3c0ac(0x1e5)]=WS_EVENTS[_0xc3c0ac(0x23a)],_0x40f083[_0xc3c0ac(0x1fa)]=_0x2b15a9['EEzbe'],this[_0xc3c0ac(0x24c)][_0xc3c0ac(0x258)](this['rws'],_0x40f083),_0x308948[_0xc3c0ac(0x195)]=![];}else return _0x8a2caa[_0xc3c0ac(0x30b)](_0xc3c0ac(0x23d)+_0x5a47e6+':'+_0x3ce1b7['stack']),{};}await this[_0xc3c0ac(0x304)]['managedClusters'][_0xc3c0ac(0x18e)](global_registry[_0xc3c0ac(0x1ce)],this[_0xc3c0ac(0x1a7)],_0x308948),await this[_0xc3c0ac(0x29d)]();}async['sendAzureInfoToHST'](){const _0x75da51=a1_0x305718,_0x547d3={};_0x547d3[_0x75da51(0x1e2)]=function(_0x4346d0,_0x3b4dcd){return _0x4346d0!==_0x3b4dcd;},_0x547d3[_0x75da51(0x33f)]=_0x75da51(0x19f),_0x547d3[_0x75da51(0x173)]='xZbcZ';const _0x30954c=_0x547d3,_0x51a92a=await this[_0x75da51(0x2e1)][_0x75da51(0x1f2)][_0x75da51(0x30d)](global_registry[_0x75da51(0x1ce)]),_0x26ac97={};_0x26ac97[_0x75da51(0x238)]=global_registry[_0x75da51(0x2f7)],_0x26ac97['accessKey']=global_registry[_0x75da51(0x27b)],_0x26ac97[_0x75da51(0x197)]=AZURE,_0x26ac97[_0x75da51(0x288)]=[];const _0x3cc45d=_0x26ac97;for await(const _0x4fe8fb of _0x51a92a){if(_0x30954c['yYyHE'](_0x30954c[_0x75da51(0x33f)],_0x30954c['gOfHE']))_0x3cc45d[_0x75da51(0x288)]['push'](_0x4fe8fb);else return _0x156a4c[_0x75da51(0x228)][_0x75da51(0x1af)][_0x75da51(0x215)][0x0][_0x75da51(0x212)];}const _0x12deff={};_0x12deff['type']=WS_EVENTS['RESOURCES'],_0x12deff[_0x75da51(0x1fa)]=_0x3cc45d,this[_0x75da51(0x24c)][_0x75da51(0x258)](this['rws'],_0x12deff);}async[a1_0x305718(0x233)](_0x44828c){const _0x3e26d5=a1_0x305718,_0x2fc396={};_0x2fc396[_0x3e26d5(0x331)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x2fc396[_0x3e26d5(0x318)]=function(_0x26b010,_0x5c0316){return _0x26b010!==_0x5c0316;},_0x2fc396[_0x3e26d5(0x2aa)]=_0x3e26d5(0x275),_0x2fc396['TQpTH']=_0x3e26d5(0x2a5),_0x2fc396['MSFBh']=function(_0x42b9db,_0x452dd4){return _0x42b9db===_0x452dd4;},_0x2fc396['JEFsM']='UnbMd',_0x2fc396[_0x3e26d5(0x2b7)]=_0x3e26d5(0x31a),_0x2fc396['FGvQK']=function(_0x1414e0,_0x15a4e0){return _0x1414e0===_0x15a4e0;},_0x2fc396['nytSR']=_0x3e26d5(0x21c),_0x2fc396[_0x3e26d5(0x14a)]=_0x3e26d5(0x2a6),_0x2fc396['rXlfX']=_0x3e26d5(0x149);const _0x17ae4d=_0x2fc396;try{if(_0x17ae4d[_0x3e26d5(0x318)](_0x17ae4d[_0x3e26d5(0x2aa)],_0x17ae4d[_0x3e26d5(0x268)])){const _0x294bb0=await this[_0x3e26d5(0x2e1)][_0x3e26d5(0x1f2)][_0x3e26d5(0x30d)](global_registry[_0x3e26d5(0x1ce)]);for await(const _0x2c401b of _0x294bb0){if(_0x17ae4d['MSFBh'](_0x17ae4d['JEFsM'],_0x17ae4d[_0x3e26d5(0x2b7)]))_0x2f925e[_0x3e26d5(0x287)](_0x250e86[_0x3e26d5(0x2da)]);else{if(_0x17ae4d[_0x3e26d5(0x223)](_0x2c401b['name'],_0x44828c)){if(_0x17ae4d[_0x3e26d5(0x308)](_0x17ae4d['nytSR'],_0x17ae4d[_0x3e26d5(0x2b4)]))return!![];else _0x445226['push'](_0x106c9c);}}}}else return[!![],_0x3a5ac1];}catch(_0x4b9105){if(_0x17ae4d[_0x3e26d5(0x223)](_0x17ae4d['ZKLwB'],_0x17ae4d['rXlfX']))_0x2784d2['info'](_0x17ae4d['HKwvo']);else return logger[_0x3e26d5(0x30b)](_0x3e26d5(0x1e6)+_0x44828c+_0x3e26d5(0x2ff)+_0x4b9105),![];}return![];}async['isSubnetsValid'](_0x2e36d2,_0x16495e){const _0x4f98fe=a1_0x305718,_0x184163={};_0x184163[_0x4f98fe(0x14e)]='No\x20service\x20principal\x20found',_0x184163[_0x4f98fe(0x325)]=function(_0x3b76a7,_0x25ddcb){return _0x3b76a7===_0x25ddcb;},_0x184163[_0x4f98fe(0x15f)]=_0x4f98fe(0x211),_0x184163[_0x4f98fe(0x25c)]=_0x4f98fe(0x2d7),_0x184163[_0x4f98fe(0x1c7)]=function(_0x18a13a,_0x865692){return _0x18a13a===_0x865692;},_0x184163[_0x4f98fe(0x2d0)]=_0x4f98fe(0x279),_0x184163[_0x4f98fe(0x2b1)]=_0x4f98fe(0x309);const _0x381d2f=_0x184163;try{if(_0x381d2f[_0x4f98fe(0x325)](_0x381d2f[_0x4f98fe(0x15f)],_0x381d2f[_0x4f98fe(0x25c)]))throw new _0xd26429(_0x381d2f[_0x4f98fe(0x14e)],_0x4f98fe(0x2ca)+_0xb6e1a2[_0x4f98fe(0x218)](_0x5f139d));else{const _0xc24edc=await this[_0x4f98fe(0x2e1)]['subnets'][_0x4f98fe(0x21f)](global_registry[_0x4f98fe(0x1ce)],_0x16495e,_0x2e36d2[0x0]);if(_0x381d2f[_0x4f98fe(0x1c7)](_0x2e36d2[0x0],_0xc24edc[_0x4f98fe(0x2da)]))return _0x381d2f[_0x4f98fe(0x325)](_0x381d2f[_0x4f98fe(0x2d0)],_0x381d2f[_0x4f98fe(0x2b1)])?(_0x10fa3d['error'](_0x4f98fe(0x170)+_0x667fb3+_0x4f98fe(0x281)+_0x1ef71b),[![],[]]):[!![],_0x2e36d2];}}catch(_0x5d985d){return logger['error'](_0x4f98fe(0x170)+_0x2e36d2+'.\x20Error:\x20'+_0x5d985d),[![],[]];}return[![],[]];}async['isCliToolInstalled'](){const _0x26d548=a1_0x305718,_0x3201bb={};_0x3201bb['fBGmY']=_0x26d548(0x1a8);const _0x3648e1=_0x3201bb,_0x51fc14={};_0x51fc14['status']=!![],_0x51fc14[_0x26d548(0x30b)]=null,_0x51fc14[_0x26d548(0x1b7)]=_0x3648e1['fBGmY'];const _0x1dd96c=_0x51fc14;return _0x1dd96c;}async[a1_0x305718(0x171)](){const _0x53e72a=a1_0x305718,_0x55d815={};_0x55d815['wjIIu']=_0x53e72a(0x266),_0x55d815['JcJio']=_0x53e72a(0x1cb),_0x55d815[_0x53e72a(0x26d)]=_0x53e72a(0x1bd);const _0x34aa1b=_0x55d815,_0x5c2755=await this['cred'][_0x53e72a(0x229)](_0x34aa1b['wjIIu']),_0x58af7f={};_0x58af7f[_0x53e72a(0x2d9)]=_0x34aa1b['JcJio'],_0x58af7f[_0x53e72a(0x239)]={},_0x58af7f[_0x53e72a(0x239)][_0x53e72a(0x1d6)]=_0x53e72a(0x242)+_0x5c2755['token'],_0x58af7f[_0x53e72a(0x239)][_0x53e72a(0x339)]=_0x34aa1b[_0x53e72a(0x26d)];const _0x5d9b5e=_0x58af7f;return _0x5d9b5e;}async['getPrincipalIdFromClientId'](_0x4e2ac1){const _0x426806=a1_0x305718,_0x5d21a5={'sCQtt':function(_0x282220,_0x183e07,_0x58a039){return _0x282220(_0x183e07,_0x58a039);},'rLCfH':function(_0x3790a2,_0x17ac55){return _0x3790a2===_0x17ac55;},'IQgFq':_0x426806(0x321)},_0x5f2a30={};_0x5f2a30[_0x426806(0x25a)]='',_0x5f2a30[_0x426806(0x30b)]=null;const _0x5716f2=_0x5f2a30;try{const _0x548cb3=_0x426806(0x284)+_0x4e2ac1+'\x27',_0x54f0d5=await this[_0x426806(0x171)](),_0x5005a5=await _0x5d21a5[_0x426806(0x1f8)](fetch,_0x548cb3,_0x54f0d5),_0x11f8ee=await _0x5005a5[_0x426806(0x28b)]();if(!_0x11f8ee[_0x426806(0x30e)]||_0x5d21a5[_0x426806(0x314)](_0x11f8ee[_0x426806(0x30e)][_0x426806(0x257)],0x0))throw new Error(_0x5d21a5[_0x426806(0x290)],'Received\x20response\x20-\x20'+JSON[_0x426806(0x218)](_0x11f8ee));_0x5716f2[_0x426806(0x25a)]=_0x11f8ee[_0x426806(0x30e)][0x0]['id'];}catch(_0x58c799){_0x5716f2[_0x426806(0x30b)]=_0x58c799;}return _0x5716f2;}async[a1_0x305718(0x207)](){const _0x288a81=a1_0x305718,_0x40dc68={};_0x40dc68[_0x288a81(0x27a)]=_0x288a81(0x16d),_0x40dc68[_0x288a81(0x17e)]=_0x288a81(0x1d4),_0x40dc68[_0x288a81(0x235)]=function(_0x3b2f34,_0x2fe870){return _0x3b2f34!==_0x2fe870;},_0x40dc68[_0x288a81(0x2c4)]=function(_0x2a192c,_0x5ac132){return _0x2a192c===_0x5ac132;},_0x40dc68['HpqtU']=_0x288a81(0x1d7),_0x40dc68['FXUSS']=function(_0x560cfb,_0x4110f3){return _0x560cfb===_0x4110f3;},_0x40dc68[_0x288a81(0x1b5)]=_0x288a81(0x26c),_0x40dc68['mSDdf']=function(_0x111b18,_0x469f36){return _0x111b18===_0x469f36;},_0x40dc68[_0x288a81(0x28a)]=_0x288a81(0x15e);const _0x544172=_0x40dc68,_0x3dc528={};_0x3dc528[_0x288a81(0x228)]=![],_0x3dc528[_0x288a81(0x30b)]=null,_0x3dc528[_0x288a81(0x1b7)]='';const _0x3f2e6b=_0x3dc528;try{let _0x5015cb='';const _0x29e65a=_0x288a81(0x2ac)+global_registry['cloudProviderSubscriptionId']+_0x288a81(0x246)+global_registry[_0x288a81(0x1ce)],_0x3d58b=await this['getPrincipalIdFromClientId'](global_registry[_0x288a81(0x22e)]);if(_0x544172[_0x288a81(0x235)](_0x3d58b[_0x288a81(0x30b)],null))return _0x3f2e6b['error']=_0x3d58b[_0x288a81(0x30b)],_0x3f2e6b;const _0x22ea6d=_0x288a81(0x1c2)+_0x3d58b[_0x288a81(0x25a)]+'\x27)',_0x15cd4d={};_0x15cd4d[_0x288a81(0x174)]=_0x22ea6d;const _0x2db5c5=await this[_0x288a81(0x155)][_0x288a81(0x232)][_0x288a81(0x1bf)](_0x29e65a,_0x15cd4d),_0x17c38d=[];for await(const _0x5aa285 of _0x2db5c5){_0x17c38d[_0x288a81(0x287)](_0x5aa285);}if(_0x544172[_0x288a81(0x2c4)](_0x17c38d[_0x288a81(0x257)],0x0))return _0x3f2e6b[_0x288a81(0x1b7)]=_0x544172[_0x288a81(0x2e2)],_0x3f2e6b;const _0x2f5f10=[...new Set(_0x17c38d[_0x288a81(0x2eb)](_0x590f82=>_0x590f82[_0x288a81(0x192)]))];if(_0x544172[_0x288a81(0x2bc)](_0x2f5f10[_0x288a81(0x257)],0x0))return _0x3f2e6b[_0x288a81(0x1b7)]=_0x544172['Aqeql'],_0x3f2e6b;const _0x4d1c84=[],_0xcffbc4=[];for(const _0x5e7bc9 of _0x2f5f10){const _0x5782a6=await this[_0x288a81(0x155)]['roleDefinitions']['getById'](_0x5e7bc9);logger[_0x288a81(0x27c)](_0x288a81(0x20f)+_0x5782a6[_0x288a81(0x298)]),_0x4d1c84['push'](_0x5782a6),logger['debug'](_0x288a81(0x163)+JSON[_0x288a81(0x218)](_0x5782a6[_0x288a81(0x271)])),_0x5782a6['permissions'][_0x288a81(0x2c7)](_0x1a43f6=>{_0xcffbc4['push'](..._0x1a43f6['actions']);});}logger[_0x288a81(0x27c)](_0x288a81(0x22c)+JSON[_0x288a81(0x218)](_0xcffbc4)),_0x544172[_0x288a81(0x2c4)](_0xcffbc4[_0x288a81(0x257)],0x0)&&(_0x5015cb+=_0x544172['mSDdf'](_0xcffbc4[_0x288a81(0x257)],0x0)?_0x544172['NQxht']:'',logger['debug'](_0x288a81(0x254)+JSON[_0x288a81(0x218)](_0x4d1c84))),_0x3f2e6b[_0x288a81(0x228)]=!![],Object[_0x288a81(0x1b4)](PERMISSIONS[_0x288a81(0x1dd)])['forEach'](([_0x434929,_0x375c27])=>{const _0x3e2b0e=_0x288a81,_0x4f7a20=_0xcffbc4['includes'](_0x434929);_0x5015cb+='\x0a\x09'+_0x375c27+':\x20'+(_0x4f7a20?_0x544172[_0x3e2b0e(0x27a)]:_0x544172[_0x3e2b0e(0x17e)]),!_0x4f7a20&&(_0x3f2e6b[_0x3e2b0e(0x228)]=![]);}),_0x3f2e6b['data']=_0x5015cb;}catch(_0x140c8b){_0x3f2e6b[_0x288a81(0x30b)]=_0x140c8b;}return _0x3f2e6b;}}function a1_0x14ee(){const _0x385e80=['ELdcX','5|4|0|1|3|2','hvKAY','cloudProviderTenantId','AmWwy','Jpnst','https://graph.microsoft.com/.default','nPrOV','TQpTH','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','turboscale-cluster-deployment','kpjbz','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','PFKCi','2023-01-31','sendAzureInfoToHST','VagkO','permissions','utf-8','PTVby','WWzdS','caDzA','Deleted\x20the\x20cluster\x20successfully','cfUjM','SKRBB','aCuHm','tCpMj','bstackAccesskey','debug','parse','enabled','xCMOq','AzureCloudProvider','.\x20Error:\x20','oDKFV','FKKOu','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','29111544PvHJKa','iBTkF','push','vpcInfo','Creating\x20Azure\x20managed\x20identity','NQxht','json','lFKJB','bwdWb','TJrJC','cloudProviderClientSecret','IQgFq','beginDeleteAndWait','encZi','IWYsz','GCQtF','sWmFn','zPZcA','1376fFjbLs','roleName','listClusterAdminCredentials','stack','hvOFg','vnetSubnetID','getClusterInfo','readFileAsync','iXGBH','PPoba','srvrI','AemCK','gBBsu','DsTym','nLTnL','EYfEW','YbSXM','RnZnk','WYdua','PvsGJ','AVxqa','subscriptions/','ZCHaP','sSXnC','createOtherResources','resources','BGODY','toString','GDFtW','nytSR','NVkuf','LOG','puQMe','string','Llfsp','Created\x20Azure\x20federated\x20identity','EFiII','FXUSS','HtuXc','hubHaNameSpace','BvrZl','rpgrX','2VVYyMn','@azure/arm-resources','ddgKq','cgOAZ','daysAfterCreationGreaterThan','toUpperCase','forEach','BytnJ','QfOuc','Received\x20response\x20-\x20','EVXjd','deleteCluster','HsqOe','.json','JNCsY','rnfGO','maxNodes','getKubeConfigData','UZVlN','turboscale-storageaccount-deployment','50331tqvPgr','LvAye','kZxDx','BgLNN','method','name','federatedidentityuploader.json','UggdY','RgGfr','resourceClient','BEBvv','tenantId','networkClient','HpqtU','../config/logger','IFxcY','gNwVs','cred','EEzbe','xDAQo','jqiME','managedidentity.json','map','nIvJg','2551782hwHpiq','mqQmi','CDWVG','RmCXb','browserstack:managedBy','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','BrowserStack','\x20CLIENT\x20SECRET:\x20','qUNQY','lUezh','bstackUsername','getUserInput','UlvwJ','ooFDF','[variables(\x27vnetSubnetID\x27)]','JQiUD','10863Anoskj','UWBuc','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','gAkfj','qzyiN','updateClusterAlreadyPresent','PnxlI','containerClient','list','storageAccounts','MVPnE','MSFBh','HovFb','ALKdL','error','bpQab','listAll','value','location','yIiQz','DLkST','biaHw','lpdfr','rLCfH','CPWgT','createOrUpdate','nBtqf','hdmbK','eysvg','xlCIH','YOVjf','xteYR','YFTcO','templates','JaAhT','js-yaml','No\x20service\x20principal\x20found','metadata','gFeWx','clientId','IDcQm','ZHUjP','NbyUo','workloadIdentity','clusterInfo','90046vFahgG','iXNge','gGmum','turboscale-federated-deployment','wFoTr','Lifecycle','cloudProviderName','HKwvo','clusterAutoUpgrade','CVLvy','split','setClients','gOzOD','QJRcr','dxhBg','Content-Type','JLuQL','join','getById','VQBFJ','baseBlob','PlCkb','isStorageAccountPresent','XLyfS','ReiHr','juoXI','turboscale','olsoE','../permissions/AZURE.json','ZLQrz','LuNaO','SMkKY','toLowerCase','\x20TENANT\x20ID:\x20','AFmGo','IpeYv','securityProfile','setupHubHa','SnAQT','MHfoF','ZKLwB','getStorageAccountName','HIXNY','huZbv','dqMfs','kubeconfigs','EBhgy','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','OrkqB','clusterRegion','NrtnZ','authClient','CCReS','IXBkA','Creating\x20Azure\x20storage\x20account','gnbbh','RguLB','BgSnb','tnZJY','oPmoe','Action\x20permission\x20list\x20is\x20empty\x0a','whWzQ','agentPoolProfiles','azureresources','managedClusters','Attached\x20permissions\x20:\x20','RbjOX','rArZh','policy','KXUUj','LexST','PVXYm','resourceGroup','OhIgl','rws','allowed','s3Bucket','cXwkr','Cannot\x20find\x20subnets\x20','getHeader','2363935FYhAFs','gOfHE','filter','@azure/arm-network','NwULN','blockBlob','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','gridName','XuAon','cloudProviderSubscriptionId','managementPolicies','variables','ohOvB','JaQcr','./CloudProvider','YMtbY','XXVPU','bWEMV','PlnyV','THKoy','sZdxi','Managed\x20identity\x20already\x20exists,\x20skipping','eJOem','SDvyM','eAyFA','description','ZFHzS','mvFBK','beginCreateOrUpdateAndWait','akscluster.json','false','RRjau','roleDefinitionId','LOQed','info','disableLocalAccounts','isClusterPresent','cloudProvider','WMBGw','Xkaqa','SivGm','KvCnu','delete','1090hpvkAA','tuPBA','DFVbp','Deleting\x20the\x20cluster\x20','21bafSlf','eJgLl','AeMdG','CTwUm','kDmTn','hubharesources','clusterName','No\x20CLI\x20tool\x20required','extXb','definition','storageAccountName','kMrLl','nqhAa','symva','loadBalancer','createFederatedAccount','log','TgXnO','Enabling\x20Local\x20account\x20for\x20the\x20cluster','entries','Aqeql','subnetName','data','plEJZ','properties','GbHxj','listByResourceGroup','exit','application/json','subscriptionId','listForScope','qgHPD','BwAWR','assignedTo(\x27','fQymB','jcmTk','qdEEr','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','tawNm','userMaxNodes','default','92TruVmp','GET','DmiWw','Blob\x20delete\x20lifecycle','cloudProviderResourceGroup','hIhXK','dihys','sgDxU','Incremental','parameters','denied','getGridHostname','Authorization','No\x20attached\x20role\x20for\x20the\x20client\x20key','nnDRB','createManagedIdentity','amfXs','kRWon','IUvjJ','ACTION','1|4|5|0|3|2','PrlNp','tFjLP','ycaaV','yYyHE','UpTTQ','eZAbq','type','Cannot\x20find\x20VPC\x20','YRTZx','UuLjp','MzXnY','CbzkS','yZJZe','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','\x20SUBSCRIPTION\x20ID:\x20','storageaccount.json','qNVvO','tags','ZaOks','virtualNetworks','pZvuT','Storage\x20account\x20already\x20exists,\x20skipping','aFcyQ','izDLD','noABZ','sCQtt','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','message','AHEWW','isBrowserstackCluster','EsFVt','@azure/arm-authorization','clientSecret','oidcIssuerProfile','uCTOp','getResourceGroups','createStorageAccount','lQmGU','\x20RESOURCE\x20GROUP:\x20','../utils/gridComponents','checkAccess','IFVif','AOUaH','qfpvE','2|4|0|5|3|1','pfJqK','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','storageClient','role\x20name\x20attached\x20-\x20','createCluster','limrR','hostname','slice','dEoWx','ingress','isManagedIdentityPresent','\x20CLIENT\x20ID:\x20','stringify','xAqUD','NCYEB','qlzJt','TjMBQ','RGfyg','vvFLc','get','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','@azure/identity','uxpGH','FGvQK','jQvHp','hub','createFederatedAccountForHubHA','xsFzm','status','getToken','qMvpE','juvsX','actionPermission\x20:\x20','issuerURL','cloudProviderClientId','gFMsv','resourceGroups','rules','roleAssignments','isVPCPresent','sVJYd','rSeJa','actions','PRFwP','username','headers','RESOURCES','init','userInstanceType','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','setupNewCluster','TeYgX','ZFdTr','node','Bearer\x20','pVPJP','GKzlX','VAMgM','/resourceGroups/','LrDSE','iBZVb','VnARA','BzUQa','YqqMO','webSocketUtils','path','DefWg','EVvCu','filters','federatedidentity','vpcName','turboscale-managed-identity-','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','turboscale-identity-deployment','UPuys','length','sendEventToBackend','gttdy','principalId','1543807FpnBbn','vrqHA','deployments','xeZty','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20'];a1_0x14ee=function(){return _0x385e80;};return a1_0x14ee();}const a1_0x552689={};a1_0x552689[a1_0x305718(0x280)]=AzureCloudProvider,module['exports']=a1_0x552689;