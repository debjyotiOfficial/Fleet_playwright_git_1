const a17_0x42cf53=a17_0x413e;function a17_0x467f(){const _0x228e6e=['HmOYn','exit','jWQPR','IGSuH','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','split','lkfar','Error\x20Details:\x0a','vGvXn','getUTCFullYear','pre-check-grid-profile-empty','Vxkal','data','sLiBD','debug','faNuD','zuEmD','OZuaQ','eWfTD','CBpCk','aZHDj','Missing\x20required\x20arguments:\x20','MitUe','qNwnL','WebSocket','eURsj','code','clusterName','\x20\x20Stack:\x20','DPPEq','response','getUTCMinutes','myYRj','cidfT','ILNLe','ueLMS','bstackUsername','init','Jczqk','body','grid\x20profile\x20flow\x20','NbRgq','gwPFp','epilogue','pre-check-cluster-args-not-passed','desc','password','TLSv1_2_client_method','Cluster\x20details\x0a-----------------------\x0a','NSGwP','string','`\x20is\x20present\x20in\x20region\x20`','DErOB','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','push','isTrialGridAccessible','grid-profile','YtadT','WavGI','mpuFM','GET','qsczB','N/A','User\x20Access','options','command','FfwCb','delay','fOiav','grid','ynkwz','isTls1_2_SUPPORTED','/packages/cli/get-all-grid-profiles','connectionTimeout','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','vFGTb','HfSuQ','../../utils/utilityMethods','sNkMU','CJaIX','ERROR','SSL\x20Configured','.txt','CqzAf','bstackAccesskey','NgvMQ','Failure','../../cloudproviders/utils','cloud-provider','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','dZQWw','replace','Setting\x20cloud\x20provider\x20as\x20','cluster-name','UzNsK','accessResp','eqQtA','Report\x20saved\x20in\x20','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','===\x20Precheck\x20Report\x20-\x20','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','eakcm','GnfXd','Cluster\x20','Success','\x20===\x0a\x0a','username','Grid\x20profile\x20fetched\x20for\x20pre-check','acycu','parse','PdHzT','1733877nSpbin','JXwXr','gridProfile','SvMQg','EUirF','pTWUm','message','ucIZu','readFileSync','log/report_','vwCut','ylyZL','bNEhq','XAeZb','type','XqkuF','requestId','IuIOJ','uWAWK','dcQpP','MBwlS','error','Message:\x20','185ugasho','5708JMTwRr','Gntoe','\x20error\x20:\x20','DdqWy','https://','rzzfS','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','CCLaZ','pre-check-failed','YEEot','utf-8','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','931693EvZdfe','is\x20already\x20present','HqJBj','HTobT','error\x20stack\x20:\x20','sendEventToBackend','BmJFm','Browserstack','lmoga','clusterRegion','../../utils/instrumentationUtils','\x20data\x20:\x20','LOG','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','`\x20already\x20exists','GfDPm','unable\x20to\x20verify\x20if\x20cluster\x20`','ODiJB','description','208104EhptZI','gefHH','Pre-check\x20running\x20for\x20Cloud\x20-\x20','DlZSB','\x20region\x20-\x20','stack\x20trace\x20','cloud-provider-not-supported','XwhNA','stringify','iYSzw','tduit','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','uuid','KyXmV','laCjh','join','headers','../../utils/webSocketUtils','miuGJ','<UsernamePlaceholder>','info','nTgCk','AXgjH','CLOUD_PROVIDER','oTEXu','header','aRkUG','7811720vnKgvI','qDasg','getUTCMonth','existsSync','\x20\x20Code:\x20','dbOjP','699MCICXR','Status:\x20','FGxRD','AnDel','getUTCHours','1263216HaRIih','checkAccess','IuxTO','reconnecting-websocket','Cluster\x20`','Whitelisted\x20browserstack','SmXeu','cloudProvider','Nupfx','RgIgR','hdHaq','uexaB','region','writeFileSync','getUTCDate','kGvaH','will\x20be\x20created','stack','hdnGv','got','Invalid\x20input.\x20grid\x20profiles:\x20','ezrAA','keczi','argv','xCVCj','rDuva','pre-check-grid-called','pre_check',']\x20status\x20:\x20','help','UVBaZ','rwdhh','kmkjy','tTCJM','1|2|0|3|4','.\x20Please\x20provide\x20all\x20required\x20arguments.','authHeader','usage','forEach','mXXFG','\x20\x20Message:\x20','oJIFn','aEIYn','throwHttpErrors','status','YWfJu','RUDGB','tLKfw','158478Qsxags','lxCJv','10lrbBmd','mCSso','AfbUM','YKibr','kBEqY','includes','LaIUL'];a17_0x467f=function(){return _0x228e6e;};return a17_0x467f();}(function(_0x30d5da,_0x3f33b1){const _0x4e7d6b=a17_0x413e,_0x1cd9e8=_0x30d5da();while(!![]){try{const _0x39fe79=parseInt(_0x4e7d6b(0xd7))/0x1+parseInt(_0x4e7d6b(0x167))/0x2*(parseInt(_0x4e7d6b(0xa2))/0x3)+-parseInt(_0x4e7d6b(0xa7))/0x4+parseInt(_0x4e7d6b(0x166))/0x5*(parseInt(_0x4e7d6b(0x81))/0x6)+parseInt(_0x4e7d6b(0x173))/0x7+-parseInt(_0x4e7d6b(0x9c))/0x8+-parseInt(_0x4e7d6b(0x14f))/0x9*(parseInt(_0x4e7d6b(0xd9))/0xa);if(_0x39fe79===_0x3f33b1)break;else _0x1cd9e8['push'](_0x1cd9e8['shift']());}catch(_0x2de207){_0x1cd9e8['push'](_0x1cd9e8['shift']());}}}(a17_0x467f,0xb8501));const fs=require('fs'),ws=require('ws'),got=require(a17_0x42cf53(0xba)),{v4:uuidv4}=require(a17_0x42cf53(0x8d)),ReconnectingWebSocket=require(a17_0x42cf53(0xaa)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x42cf53(0x12d)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require(a17_0x42cf53(0x137)),webSocketUtils=require(a17_0x42cf53(0x92)),{sendInstrumentationEvent}=require(a17_0x42cf53(0x78));exports[a17_0x42cf53(0x121)]=a17_0x42cf53(0x125),exports[a17_0x42cf53(0x10d)]=a17_0x42cf53(0x142),exports['builder']=function(_0x49928c){const _0x304d15=a17_0x42cf53,_0x37be4b={};_0x37be4b[_0x304d15(0xc0)]=_0x304d15(0x16d),_0x37be4b[_0x304d15(0xb2)]=_0x304d15(0x112),_0x37be4b[_0x304d15(0x11b)]=_0x304d15(0x139),_0x37be4b[_0x304d15(0xf6)]=_0x304d15(0x115),_0x37be4b['dZQWw']=_0x304d15(0x12a),_0x37be4b[_0x304d15(0xe2)]=_0x304d15(0xc4);const _0x4f4f2e=_0x37be4b,_0x3a0149={};_0x3a0149[_0x304d15(0x80)]=_0x4f4f2e[_0x304d15(0xc0)],_0x3a0149[_0x304d15(0x15d)]=_0x4f4f2e[_0x304d15(0xb2)];const _0x41d479={};_0x41d479['description']=_0x4f4f2e[_0x304d15(0x11b)],_0x41d479[_0x304d15(0x15d)]=_0x4f4f2e[_0x304d15(0xb2)];const _0x31b087={};_0x31b087[_0x304d15(0x80)]=_0x4f4f2e[_0x304d15(0xf6)],_0x31b087[_0x304d15(0x15d)]=_0x4f4f2e['uexaB'];const _0x48ace0={};_0x48ace0['description']=_0x4f4f2e[_0x304d15(0x13a)],_0x48ace0[_0x304d15(0x15d)]=_0x4f4f2e[_0x304d15(0xb2)];const _0x3192ad={};return _0x3192ad['cluster-name']=_0x3a0149,_0x3192ad['cloud-provider']=_0x41d479,_0x3192ad[_0x304d15(0xb3)]=_0x31b087,_0x3192ad['grid-profile']=_0x48ace0,_0x49928c[_0x304d15(0xcc)](HELP_HEADER_MESSAGE[_0x304d15(0xc2)])[_0x304d15(0x10b)](HELP_FOOTER_MESSAGE)[_0x304d15(0x120)](_0x3192ad)[_0x304d15(0xc4)](_0x4f4f2e[_0x304d15(0xe2)])[_0x304d15(0xbe)];};async function inputValidation(_0x388c90,_0x299032){const _0x386caf=a17_0x42cf53,_0xfb6a61={'myYRj':_0x386caf(0x13d),'CBpCk':_0x386caf(0x16d),'HfSuQ':_0x386caf(0x112),'VnjOw':_0x386caf(0x139),'kBEqY':_0x386caf(0x115),'WLGMS':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','PshmN':_0x386caf(0xc4),'tTCJM':_0x386caf(0x164),'HWkqG':_0x386caf(0x174),'YWfJu':_0x386caf(0xb7),'pTWUm':_0x386caf(0xe7),'UzNsK':_0x386caf(0x11e),'acycu':function(_0x484139,_0x110c68){return _0x484139+_0x110c68;},'OZuaQ':_0x386caf(0x148),'FfwCb':_0x386caf(0x136),'VPmST':function(_0x4df15d,_0x333688){return _0x4df15d||_0x333688;},'XqkuF':_0x386caf(0xb3),'WavGI':_0x386caf(0x138),'AfbUM':function(_0x56787d,_0x37d14e){return _0x56787d!==_0x37d14e;},'sNkMU':'FLxyt','qDasg':function(_0x483798,_0x2123b0){return _0x483798===_0x2123b0;},'nTgCk':_0x386caf(0x124),'lkfar':_0x386caf(0xef),'XAeZb':_0x386caf(0x126),'GnfXd':_0x386caf(0x7d),'IuIOJ':function(_0x2a4e63,_0x754226){return _0x2a4e63===_0x754226;},'Jczqk':'waUsm','VfamF':'gRHGR','dMspS':function(_0x1f2fb5,_0x3f0152){return _0x1f2fb5>_0x3f0152;},'tduit':function(_0x386f97,_0x213d7f){return _0x386f97===_0x213d7f;},'AnDel':_0x386caf(0xd5),'kmkjy':'Zlfhk','UVBaZ':function(_0x195427,_0x2a16e8,_0x749d31,_0x5afa3b,_0x16454f,_0x38b1cb,_0x33f31f,_0xd3b186){return _0x195427(_0x2a16e8,_0x749d31,_0x5afa3b,_0x16454f,_0x38b1cb,_0x33f31f,_0xd3b186);},'eqQtA':_0x386caf(0xc1),'laCjh':_0x386caf(0x10c),'gwPFp':function(_0x4be337,_0x4938e5){return _0x4be337===_0x4938e5;},'FGxRD':'QTrYG','qNwnL':_0x386caf(0xe4),'keczi':_0x386caf(0x87),'AaDOS':function(_0x13808b,_0x456e3a){return _0x13808b!==_0x456e3a;},'CCLaZ':_0x386caf(0x176),'YtadT':_0x386caf(0xf9),'dbOjP':'qzhUS','JXwXr':_0x386caf(0x133),'sLiBD':_0x386caf(0x11c),'Gntoe':function(_0x213944,_0xca2272,_0x2edfac){return _0x213944(_0xca2272,_0x2edfac);},'PCoWL':function(_0x10444c,_0x18894d,_0x2f9f70,_0x179b4e,_0x10741e,_0x35ad48){return _0x10444c(_0x18894d,_0x2f9f70,_0x179b4e,_0x10741e,_0x35ad48);},'aZHDj':'pre-check','Lqekr':'grid-profile','DErOB':function(_0x519d96,_0x21b2ca){return _0x519d96===_0x21b2ca;},'ylyZL':'DRIqV','DlZSB':_0x386caf(0xdc),'uDrLD':function(_0x2d2fa8,_0x58da74){return _0x2d2fa8(_0x58da74);},'EUirF':function(_0x32a938,_0x1f270b){return _0x32a938===_0x1f270b;},'DPPEq':_0x386caf(0x16a),'hdHaq':function(_0x4ac4fe,_0x2d0d5b,_0x100098,_0x493652,_0x21179a,_0x1f79d7,_0x7c4093,_0x8855e3){return _0x4ac4fe(_0x2d0d5b,_0x100098,_0x493652,_0x21179a,_0x1f79d7,_0x7c4093,_0x8855e3);},'mXXFG':_0x386caf(0xea),'vGvXn':function(_0x1b5618,_0x118fd8){return _0x1b5618!==_0x118fd8;},'esMkj':'kutfm','tLKfw':_0x386caf(0x97),'HqJBj':'tlfjJ','miuGJ':_0x386caf(0x14b),'aEIYn':_0x386caf(0xdf),'vFGTb':'bxyfi','HmOYn':_0x386caf(0x8c),'KyXmV':function(_0x4c9776,_0x5e8df1){return _0x4c9776===_0x5e8df1;},'HcyGd':_0x386caf(0x101),'lmoga':'eHNNt','NgvMQ':function(_0x49f93f,_0x473699,_0x58d512,_0x5dd426,_0x2aa429,_0x3963b1,_0x5dfb4e,_0x57ff5a){return _0x49f93f(_0x473699,_0x58d512,_0x5dd426,_0x2aa429,_0x3963b1,_0x5dfb4e,_0x57ff5a);}};let _0x1c5f83;try{if(_0xfb6a61[_0x386caf(0xdb)](_0xfb6a61['sNkMU'],_0xfb6a61[_0x386caf(0x12e)]))_0x4b49fc[_0x386caf(0xe1)](0x1);else{if(_0x388c90[_0x386caf(0xfb)]||_0x388c90[_0x386caf(0xae)]||_0x388c90[_0x386caf(0xb3)]){if(_0xfb6a61[_0x386caf(0x9d)](_0xfb6a61[_0x386caf(0x96)],_0xfb6a61[_0x386caf(0xe6)]))_0x48bfa7[_0x386caf(0x95)](_0x386caf(0x13c)+_0x53d1e6[_0x386caf(0x98)]+'\x20'),_0x459bfc[_0x386caf(0xae)]=_0x257a56[_0x386caf(0x98)];else{const _0x415552=[];!_0x388c90[_0x386caf(0xfb)]&&(_0xfb6a61[_0x386caf(0x9d)](_0xfb6a61['XAeZb'],_0xfb6a61[_0x386caf(0x15c)])?_0x415552[_0x386caf(0x116)](_0xfb6a61[_0x386caf(0x100)]):_0x34b74e[_0x386caf(0x95)](_0x386caf(0xab)+_0x2f5116[_0x386caf(0xfb)]+'`\x20already\x20exists'));;!_0x388c90['cloudProvider']&&(_0xfb6a61[_0x386caf(0x9d)](_0xfb6a61[_0x386caf(0x146)],_0xfb6a61[_0x386caf(0x146)])?_0x415552[_0x386caf(0x116)](_0xfb6a61[_0x386caf(0x11a)]):_0x522034['push'](_0xfb6a61['myYRj']));;if(!_0x388c90[_0x386caf(0xb3)]){if(_0xfb6a61[_0x386caf(0x160)](_0xfb6a61[_0x386caf(0x106)],_0xfb6a61['VfamF'])){const _0x400b62={};_0x400b62['description']=_0xfb6a61[_0x386caf(0xf3)],_0x400b62[_0x386caf(0x15d)]=_0xfb6a61[_0x386caf(0x12c)];const _0x111418={};_0x111418[_0x386caf(0x80)]=_0xfb6a61['VnjOw'],_0x111418[_0x386caf(0x15d)]=_0xfb6a61[_0x386caf(0x12c)];const _0x163527={};_0x163527[_0x386caf(0x80)]=_0xfb6a61[_0x386caf(0xdd)],_0x163527[_0x386caf(0x15d)]=_0xfb6a61['HfSuQ'];const _0x22c92e={};_0x22c92e[_0x386caf(0x80)]=_0xfb6a61['WLGMS'],_0x22c92e[_0x386caf(0x15d)]=_0xfb6a61['HfSuQ'];const _0x7e7941={};return _0x7e7941[_0x386caf(0x13d)]=_0x400b62,_0x7e7941['cloud-provider']=_0x111418,_0x7e7941['region']=_0x163527,_0x7e7941[_0x386caf(0x118)]=_0x22c92e,_0x2c5a83[_0x386caf(0xcc)](_0x4fe6f4['pre_check'])['epilogue'](_0x4a18c4)[_0x386caf(0x120)](_0x7e7941)['help'](_0xfb6a61['PshmN'])[_0x386caf(0xbe)];}else _0x415552[_0x386caf(0x116)](_0xfb6a61['XqkuF']);};if(_0xfb6a61['dMspS'](_0x415552['length'],0x0)){if(_0xfb6a61[_0x386caf(0x8b)](_0xfb6a61[_0x386caf(0xa5)],_0xfb6a61[_0x386caf(0xc7)])){const _0xec4ba5={};_0xec4ba5[_0x386caf(0x15d)]=_0x38187c['LOG'],_0xec4ba5[_0x386caf(0x155)]=_0xde2d5a,_0x50395a[_0x386caf(0x178)](_0x1d221c,_0xec4ba5,_0xfb6a61[_0x386caf(0xc8)],!![]);}else _0x1c5f83=_0x386caf(0xf5)+_0x415552[_0x386caf(0x90)](',\x20')+_0x386caf(0xca),await _0xfb6a61['UVBaZ'](reportToGalactusAndSendToEDS,_0x388c90,_0x299032,_0x1c5f83,messageTypes[_0x386caf(0x130)],_0xfb6a61[_0x386caf(0x140)],_0xfb6a61[_0x386caf(0x8f)],_0xfb6a61[_0x386caf(0xc8)]),logger[_0x386caf(0x164)](_0x1c5f83),process['exit'](0x1);}!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x386caf(0xde)](_0x388c90['cloudProvider']['toLowerCase']())&&(_0xfb6a61[_0x386caf(0x10a)](_0xfb6a61[_0x386caf(0xa4)],_0xfb6a61[_0x386caf(0xa4)])?(_0x1c5f83=_0xfb6a61[_0x386caf(0xf7)],await _0xfb6a61[_0x386caf(0xc5)](reportToGalactusAndSendToEDS,_0x388c90,_0x299032,_0x1c5f83,messageTypes[_0x386caf(0x130)],_0xfb6a61['eqQtA'],_0xfb6a61['keczi'],_0xfb6a61['tTCJM']),logger[_0x386caf(0x164)](_0x1c5f83),!_0x388c90[_0x386caf(0xae)]&&(_0xfb6a61['AaDOS'](_0xfb6a61[_0x386caf(0x16e)],_0xfb6a61[_0x386caf(0x119)])?(logger[_0x386caf(0x95)]('Setting\x20cloud\x20provider\x20as\x20'+DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']+'\x20'),_0x388c90[_0x386caf(0xae)]=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']):_0x426c75+=_0x386caf(0x147)+_0x14b6a8[_0x386caf(0xfb)]+'\x20'+(_0x4894a4?_0xfb6a61['HWkqG']:_0xfb6a61[_0x386caf(0xd4)])+'\x0a\x0a')):(_0x1889d3[_0x386caf(0x95)]('['+_0x5edca7+_0x386caf(0xc3)+_0x21b3c7[_0x386caf(0xd3)]+_0x386caf(0x79)+_0x242274[_0x386caf(0xec)]+_0x386caf(0x169)+_0x61027e[_0x386caf(0x164)]),_0x3b13a1[_0x386caf(0x164)]&&_0x255f31['error']('error\x20stack\x20:\x20'+_0xc522fa[_0x386caf(0x164)][_0x386caf(0xb8)]))),global_registry['clusterName']=_0x388c90['clusterName'],global_registry[_0x386caf(0xae)]=_0x388c90[_0x386caf(0xae)],global_registry[_0x386caf(0x77)]=_0x388c90[_0x386caf(0xb3)];}}else{if(_0x388c90[_0x386caf(0x151)]){if(_0xfb6a61[_0x386caf(0xdb)](_0xfb6a61[_0x386caf(0xa1)],_0xfb6a61[_0x386caf(0x150)])){global_registry[_0x386caf(0x151)]=_0x388c90['gridProfile'],logger[_0x386caf(0xee)](_0x386caf(0x108)+_0x388c90['gridProfile']);const _0x3f9cd9=_0x386caf(0x16b)+AG_API_URL+_0x386caf(0x128),_0x87d202={};_0x87d202['method']=_0xfb6a61[_0x386caf(0xed)],_0x87d202[_0x386caf(0x91)]=global_registry['authHeader'],_0x87d202[_0x386caf(0xd2)]=![];const _0x2215f3=_0x87d202,_0x1f27f4=await _0xfb6a61[_0x386caf(0x168)](got,_0x3f9cd9,_0x2215f3),_0x283332=await _0xfb6a61['PCoWL'](responseValidation,_0x1f27f4,_0xfb6a61[_0x386caf(0xf4)],_0xfb6a61['Lqekr'],_0x388c90,_0x299032);let _0x2170d9={};if(_0xfb6a61[_0x386caf(0x9d)](_0x283332,0xc8)){if(_0xfb6a61[_0x386caf(0x114)](_0xfb6a61[_0x386caf(0x15a)],_0xfb6a61[_0x386caf(0x84)]))_0x3d1af5[_0x386caf(0x164)](_0x386caf(0x177)+_0x585408[_0x386caf(0x164)][_0x386caf(0xb8)]);else{const _0x5f549c=JSON[_0x386caf(0x14d)](_0x1f27f4[_0x386caf(0x107)]),_0x511bb8=_0x5f549c['find'](_0x41f772=>_0x41f772['name']===_0x388c90[_0x386caf(0x151)])||null;if(_0xfb6a61['uDrLD'](isUndefined,_0x511bb8))_0xfb6a61[_0x386caf(0x153)](_0xfb6a61[_0x386caf(0xfd)],_0xfb6a61['DPPEq'])?(_0x1c5f83=_0x386caf(0xbb)+_0x388c90[_0x386caf(0x151)]+'.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again',await _0xfb6a61[_0x386caf(0xb1)](reportToGalactusAndSendToEDS,_0x388c90,_0x299032,_0x1c5f83,messageTypes[_0x386caf(0x130)],_0xfb6a61[_0x386caf(0x140)],_0xfb6a61[_0x386caf(0xce)],_0xfb6a61[_0x386caf(0xc8)]),logger['error'](_0x1c5f83),process[_0x386caf(0xe1)](0x1)):(_0x3a7a91+=_0xfb6a61[_0x386caf(0x154)],_0x587d08+=_0x386caf(0xcf)+(_0x346794[_0x386caf(0x155)]||_0xfb6a61[_0x386caf(0x13e)])+'\x0a',_0x1c16f2+=_0x386caf(0xa0)+(_0x2cac2d['code']||_0xfb6a61[_0x386caf(0x13e)])+'\x0a',_0x599afb+='\x20\x20Stack:\x20'+(_0x477232[_0x386caf(0xb8)]||_0xfb6a61['UzNsK'])+'\x0a');else{if(_0xfb6a61[_0x386caf(0xe8)](_0xfb6a61['esMkj'],_0xfb6a61[_0x386caf(0xd6)]))_0x2170d9=_0x511bb8;else{const {header:_0x5519f6,response:_0x494d15}=_0x57bcb8,{status:_0x3a4400,data:_0x52fde2,error:_0x5aa1c7}=_0x494d15;_0x408a84+=_0x5519f6+'\x20#'+_0xfb6a61[_0x386caf(0x14c)](_0x5759c0,0x1)+'\x0a',_0x2af844+=_0x386caf(0xa3)+(_0x3a4400?_0xfb6a61[_0x386caf(0xf1)]:_0xfb6a61[_0x386caf(0x122)])+'\x0a',_0xf899b2+=_0x386caf(0x165)+_0xfb6a61['VPmST'](_0x52fde2,_0xfb6a61[_0x386caf(0x13e)])+'\x0a',_0x5aa1c7&&(_0x23e1da+=_0xfb6a61['pTWUm'],_0x4116c9+='\x20\x20Message:\x20'+(_0x5aa1c7[_0x386caf(0x155)]||_0xfb6a61[_0x386caf(0x13e)])+'\x0a',_0x332ad7+=_0x386caf(0xa0)+(_0x5aa1c7['code']||_0xfb6a61[_0x386caf(0x13e)])+'\x0a',_0xfdfeef+=_0x386caf(0xfc)+(_0x5aa1c7['stack']||_0xfb6a61[_0x386caf(0x13e)])+'\x0a'),_0x42e1d9+='\x0a\x0a';}}}}else _0xfb6a61[_0x386caf(0xdb)](_0xfb6a61[_0x386caf(0x175)],_0xfb6a61[_0x386caf(0x175)])?_0x2a1aff[_0x386caf(0x116)](_0xfb6a61[_0x386caf(0x15e)]):process[_0x386caf(0xe1)](0x1);const _0x144f3c={};_0x144f3c[_0x386caf(0x15d)]=WS_EVENTS['LOG'],_0x144f3c[_0x386caf(0x155)]=_0xfb6a61[_0x386caf(0x93)],webSocketUtils[_0x386caf(0x178)](_0x299032,_0x144f3c),global_registry['cloudProvider']=_0x2170d9[_0x386caf(0xae)],global_registry[_0x386caf(0x77)]=_0x2170d9[_0x386caf(0xb3)],global_registry['clusterName']=_0x2170d9['clusterName'];}else _0x4fa52e['push'](_0xfb6a61[_0x386caf(0x11a)]);}else _0xfb6a61[_0x386caf(0x160)](_0xfb6a61[_0x386caf(0xd1)],_0xfb6a61[_0x386caf(0x12b)])?_0x2ce86e=_0x829d2b:(logger[_0x386caf(0x164)](_0xfb6a61[_0x386caf(0xe0)]),process[_0x386caf(0xe1)](0x1));}}}catch(_0x17b5f7){_0xfb6a61[_0x386caf(0x8e)](_0xfb6a61['HcyGd'],_0xfb6a61[_0x386caf(0x76)])?_0x327ac0+=_0x386caf(0x147)+_0x44bcf6[_0x386caf(0xfb)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a':(_0x1c5f83=_0x386caf(0x172)+_0x17b5f7+':\x20'+_0x17b5f7[_0x386caf(0xb8)],logger['error'](_0x1c5f83),await _0xfb6a61[_0x386caf(0x135)](reportToGalactusAndSendToEDS,_0x388c90,_0x299032,_0x1c5f83,messageTypes['ERROR'],_0xfb6a61[_0x386caf(0x140)],_0xfb6a61[_0x386caf(0xbd)],_0xfb6a61['tTCJM']),process[_0x386caf(0xe1)](0x1));}}function printResponse(_0x42a980,_0x3b4f89){const _0x203446=a17_0x42cf53,_0x46f623={};_0x46f623[_0x203446(0xad)]=_0x203446(0x8c),_0x46f623['PdHzT']=function(_0x1c9c42,_0x42dcd0){return _0x1c9c42!==_0x42dcd0;},_0x46f623['IGSuH']='ZliMq',_0x46f623[_0x203446(0x111)]=_0x203446(0x74);const _0x4db549=_0x46f623;logger[_0x203446(0x95)]('['+_0x42a980+_0x203446(0xc3)+_0x3b4f89[_0x203446(0xd3)]+_0x203446(0x79)+_0x3b4f89['data']+_0x203446(0x169)+_0x3b4f89[_0x203446(0x164)]),_0x3b4f89[_0x203446(0x164)]&&(_0x4db549[_0x203446(0x14e)](_0x4db549[_0x203446(0xe3)],_0x4db549[_0x203446(0x111)])?logger['error'](_0x203446(0x177)+_0x3b4f89[_0x203446(0x164)][_0x203446(0xb8)]):(_0x671fea[_0x203446(0x164)](_0x4db549[_0x203446(0xad)]),_0x1a221a[_0x203446(0xe1)](0x1)));}async function generateReport(_0x29ec8a,_0x3218bf){const _0x4b2745=a17_0x42cf53,_0x1bbc1a={'dcQpP':function(_0x1a23d3,_0x3baf7a){return _0x1a23d3+_0x3baf7a;},'pPccJ':_0x4b2745(0x148),'ueLMS':_0x4b2745(0x136),'DhaTM':function(_0x2c7041,_0xcd5afb){return _0x2c7041||_0xcd5afb;},'ucIZu':_0x4b2745(0x11e),'bNEhq':_0x4b2745(0xe7),'IuxTO':_0x4b2745(0x110),'XwhNA':function(_0x1c0324,_0x1913b8){return _0x1c0324!=_0x1913b8;},'Vxkal':_0x4b2745(0x174),'RgIgR':'will\x20be\x20created','xCVCj':function(_0x5a6965){return _0x5a6965();}};let _0x24af93=_0x4b2745(0x143)+global_registry[_0x4b2745(0xae)]+_0x4b2745(0x149);return _0x29ec8a[_0x4b2745(0xcd)]((_0x420da1,_0x4b30b1)=>{const _0x5dd41a=_0x4b2745,{header:_0x3cf69e,response:_0x363212}=_0x420da1,{status:_0x7e6c2c,data:_0xd77e05,error:_0x3fde73}=_0x363212;_0x24af93+=_0x3cf69e+'\x20#'+_0x1bbc1a[_0x5dd41a(0x162)](_0x4b30b1,0x1)+'\x0a',_0x24af93+=_0x5dd41a(0xa3)+(_0x7e6c2c?_0x1bbc1a['pPccJ']:_0x1bbc1a[_0x5dd41a(0x103)])+'\x0a',_0x24af93+='Message:\x20'+_0x1bbc1a['DhaTM'](_0xd77e05,_0x1bbc1a[_0x5dd41a(0x156)])+'\x0a',_0x3fde73&&(_0x24af93+=_0x1bbc1a[_0x5dd41a(0x15b)],_0x24af93+='\x20\x20Message:\x20'+(_0x3fde73[_0x5dd41a(0x155)]||_0x1bbc1a[_0x5dd41a(0x156)])+'\x0a',_0x24af93+='\x20\x20Code:\x20'+(_0x3fde73[_0x5dd41a(0xfa)]||_0x1bbc1a['ucIZu'])+'\x0a',_0x24af93+='\x20\x20Stack:\x20'+(_0x3fde73['stack']||_0x1bbc1a['ucIZu'])+'\x0a'),_0x24af93+='\x0a\x0a';}),_0x24af93+=_0x1bbc1a[_0x4b2745(0xa9)],_0x1bbc1a[_0x4b2745(0x88)](_0x3218bf,null)?_0x24af93+='Cluster\x20'+global_registry[_0x4b2745(0xfb)]+'\x20'+(_0x3218bf?_0x1bbc1a[_0x4b2745(0xeb)]:_0x1bbc1a[_0x4b2745(0xb0)])+'\x0a\x0a':_0x24af93+='Cluster\x20'+global_registry[_0x4b2745(0xfb)]+_0x4b2745(0x7b),_0x24af93+=_0x1bbc1a[_0x4b2745(0xbf)](getSystemMetaData),_0x24af93;}function a17_0x413e(_0x307b5a,_0x11bc54){const _0x467f43=a17_0x467f();return a17_0x413e=function(_0x413e9e,_0x55b0fc){_0x413e9e=_0x413e9e-0x74;let _0x571fa9=_0x467f43[_0x413e9e];return _0x571fa9;},a17_0x413e(_0x307b5a,_0x11bc54);};exports['handler']=async function(_0xf2a7d3){const _0x3ab2a4=a17_0x42cf53,_0x23d81a={'MBwlS':function(_0x2a5409){return _0x2a5409();},'YEEot':function(_0x4fe3f7){return _0x4fe3f7();},'mCSso':_0x3ab2a4(0x144),'hdnGv':function(_0x570f88,_0x2ed002,_0x37a282,_0x19bbcc,_0xa15980,_0x1321d4,_0x3784a8,_0x3b17a7){return _0x570f88(_0x2ed002,_0x37a282,_0x19bbcc,_0xa15980,_0x1321d4,_0x3784a8,_0x3b17a7);},'NbRgq':_0x3ab2a4(0xc1),'rzzfS':'credential-not-found','eakcm':_0x3ab2a4(0x164),'ODiJB':function(_0xf5e606,_0x16bf06,_0x50a858,_0x6548ab,_0x3278d9,_0x4e8979,_0xac6048){return _0xf5e606(_0x16bf06,_0x50a858,_0x6548ab,_0x3278d9,_0x4e8979,_0xac6048);},'ILNLe':function(_0x24f72c){return _0x24f72c();},'oJIFn':_0x3ab2a4(0x94),'gAZED':'<PasswordPlaceholder>','uWAWK':function(_0x48af9e,_0x225bd7,_0x3e7f55){return _0x48af9e(_0x225bd7,_0x3e7f55);},'NmOxC':'dummy-grid','JVeyQ':'toolInstalledResp','knklt':_0x3ab2a4(0xc9),'lxCJv':function(_0x2e6635,_0x17b6f7,_0x8fba94){return _0x2e6635(_0x17b6f7,_0x8fba94);},'oTEXu':_0x3ab2a4(0x13f),'zuEmD':function(_0x4e1fa3){return _0x4e1fa3();},'Nupfx':function(_0x2fd126,_0x312668,_0x24d95a){return _0x2fd126(_0x312668,_0x24d95a);},'ezrAA':_0x3ab2a4(0x117),'CJaIX':function(_0x4a1aa2,_0x388460){return _0x4a1aa2(_0x388460);},'gCIzO':_0x3ab2a4(0x10f),'rwdhh':function(_0x70ee68,_0x3d38c9,_0x27a490){return _0x70ee68(_0x3d38c9,_0x27a490);},'eWfTD':_0x3ab2a4(0x127),'aRkUG':'Tool\x20Installed','qsczB':_0x3ab2a4(0x11f),'kGvaH':_0x3ab2a4(0xac),'gefHH':_0x3ab2a4(0x131),'vwCut':function(_0x1643e3,_0x37454b,_0x490df5){return _0x1643e3(_0x37454b,_0x490df5);},'iYSzw':function(_0x49a519,_0x50b073){return _0x49a519+_0x50b073;},'ugZhG':_0x3ab2a4(0x171),'SvMQg':_0x3ab2a4(0x16f)};let _0x354033,_0x3685ba;try{global_registry[_0x3ab2a4(0x15f)]=_0x23d81a[_0x3ab2a4(0x163)](uuidv4);!fs[_0x3ab2a4(0x9f)](_0x23d81a[_0x3ab2a4(0x170)](getCredentialsPath))&&(_0x3685ba=_0x23d81a[_0x3ab2a4(0xda)],logger['error'](_0x3685ba),await _0x23d81a[_0x3ab2a4(0xb9)](reportToGalactusAndSendToEDS,_0xf2a7d3,_0x354033,_0x3685ba,messageTypes[_0x3ab2a4(0x130)],_0x23d81a['NbRgq'],_0x23d81a[_0x3ab2a4(0x16c)],_0x23d81a[_0x3ab2a4(0x145)]),process[_0x3ab2a4(0xe1)](0x1));_0x23d81a['ODiJB'](sendInstrumentationEvent,_0xf2a7d3,_0x23d81a[_0x3ab2a4(0x109)],messageTypes['INFO'],null,null,_0xf2a7d3);const _0x362a03=JSON[_0x3ab2a4(0x14d)](fs[_0x3ab2a4(0x157)](_0x23d81a[_0x3ab2a4(0x102)](getCredentialsPath)));global_registry[_0x3ab2a4(0x104)]=_0x362a03['Browserstack'][_0x3ab2a4(0x14a)],global_registry[_0x3ab2a4(0x134)]=_0x362a03['Browserstack'][_0x3ab2a4(0x10e)];const _0x3e1786=WS_ENDPOINT[_0x3ab2a4(0x13b)](_0x23d81a[_0x3ab2a4(0xd0)],_0x362a03[_0x3ab2a4(0x75)][_0x3ab2a4(0x14a)])[_0x3ab2a4(0x13b)](_0x23d81a['gAZED'],_0x362a03[_0x3ab2a4(0x75)]['password']),_0x1e99b3={};_0x1e99b3[_0x3ab2a4(0xf8)]=ws,_0x1e99b3[_0x3ab2a4(0x129)]=0x36ee80,_0x354033=new ReconnectingWebSocket(_0x3e1786,[],_0x1e99b3),global_registry[_0x3ab2a4(0xcb)]=_0x23d81a[_0x3ab2a4(0x161)](getAuthHeader,global_registry['bstackUsername'],global_registry['bstackAccesskey']),await _0x23d81a['uWAWK'](inputValidation,_0xf2a7d3,_0x354033),logger[_0x3ab2a4(0x95)](_0x3ab2a4(0x83)+global_registry['cloudProvider']+_0x3ab2a4(0x85)+global_registry[_0x3ab2a4(0x77)]);let _0x4b127f=await _0x23d81a[_0x3ab2a4(0x7f)](getCloudProviderObjectWithOutInit,global_registry[_0x3ab2a4(0xae)],global_registry[_0x3ab2a4(0xfb)],_0x23d81a['NmOxC'],_0x354033,webSocketUtils,_0xf2a7d3);const _0x17bf8a=await _0x4b127f['isCliToolInstalled']();_0x23d81a[_0x3ab2a4(0x161)](printResponse,_0x23d81a['JVeyQ'],_0x17bf8a),_0x4b127f=await _0x4b127f[_0x3ab2a4(0x105)]();let _0x2c723d=![];try{_0x2c723d=await _0x4b127f['isClusterPresent']();}catch(_0x40f3ca){const _0x2d8fa0=_0x23d81a['knklt'][_0x3ab2a4(0xe5)]('|');let _0x4ac2f9=0x0;while(!![]){switch(_0x2d8fa0[_0x4ac2f9++]){case'0':logger[_0x3ab2a4(0x164)](_0x3685ba);continue;case'1':_0x3685ba=_0x3ab2a4(0x7e)+global_registry[_0x3ab2a4(0xfb)]+_0x3ab2a4(0x113)+global_registry[_0x3ab2a4(0x77)]+'`\x20,error\x20:\x20'+_0x40f3ca;continue;case'2':_0x2c723d=null;continue;case'3':_0x3685ba+='\x0a'+JSON[_0x3ab2a4(0x89)](_0x40f3ca['stack']);continue;case'4':await _0x23d81a[_0x3ab2a4(0xb9)](reportToGalactusAndSendToEDS,_0xf2a7d3,_0x354033,_0x3685ba,messageTypes[_0x3ab2a4(0x130)],_0x23d81a[_0x3ab2a4(0x109)],'cluster-check-failed-'+global_registry['cloudProvider'],_0x23d81a[_0x3ab2a4(0x145)]);continue;}break;}}_0x2c723d&&logger['info']('Cluster\x20`'+global_registry[_0x3ab2a4(0xfb)]+_0x3ab2a4(0x7c));const _0x1c3906=await _0x4b127f[_0x3ab2a4(0xa8)]();_0x23d81a[_0x3ab2a4(0xd8)](printResponse,_0x23d81a[_0x3ab2a4(0x99)],_0x1c3906);const _0x3e4c12=await _0x23d81a[_0x3ab2a4(0xf0)](curlRequest);_0x23d81a[_0x3ab2a4(0xaf)](printResponse,_0x23d81a[_0x3ab2a4(0xbc)],_0x3e4c12);const _0x173bff=await _0x23d81a[_0x3ab2a4(0x12f)](isTlsSupported,_0x23d81a['gCIzO']);_0x23d81a[_0x3ab2a4(0xc6)](printResponse,_0x23d81a[_0x3ab2a4(0xf2)],_0x173bff);const _0x4fe7f4={};_0x4fe7f4[_0x3ab2a4(0x9a)]=_0x23d81a[_0x3ab2a4(0x9b)],_0x4fe7f4['response']=_0x17bf8a;const _0x3e69ff={};_0x3e69ff[_0x3ab2a4(0x9a)]=_0x23d81a[_0x3ab2a4(0x11d)],_0x3e69ff[_0x3ab2a4(0xfe)]=_0x1c3906;const _0x1d1f41={};_0x1d1f41[_0x3ab2a4(0x9a)]=_0x23d81a[_0x3ab2a4(0xb6)],_0x1d1f41['response']=_0x3e4c12;const _0xf4f330={};_0xf4f330['header']=_0x23d81a[_0x3ab2a4(0x82)],_0xf4f330[_0x3ab2a4(0xfe)]=_0x173bff;const _0x5152b2=[_0x4fe7f4,_0x3e69ff,_0x1d1f41,_0xf4f330],_0x184dc2=await _0x23d81a[_0x3ab2a4(0x159)](generateReport,_0x5152b2,_0x2c723d),_0x586a48=new Date(),_0x352f0c=_0x586a48[_0x3ab2a4(0xe9)]()+'_'+_0x23d81a[_0x3ab2a4(0x8a)](_0x586a48[_0x3ab2a4(0x9e)](),0x1)+'_'+_0x586a48[_0x3ab2a4(0xb5)]()+'_'+_0x586a48[_0x3ab2a4(0xa6)]()+'_'+_0x586a48[_0x3ab2a4(0xff)](),_0x24bdcf=_0x3ab2a4(0x158)+_0x352f0c+_0x3ab2a4(0x132);fs[_0x3ab2a4(0xb4)](_0x24bdcf,_0x184dc2,_0x23d81a['ugZhG']),logger[_0x3ab2a4(0x95)](_0x3ab2a4(0x141)+_0x24bdcf),process[_0x3ab2a4(0xe1)](0x0);}catch(_0x2b5bc7){let _0x15013c='Failed\x20in\x20pre-check!\x20Error:\x20'+_0x2b5bc7+'\x20';logger[_0x3ab2a4(0x164)](_0x15013c),_0x15013c+='\x0a'+JSON['stringify'](_0x2b5bc7[_0x3ab2a4(0xb8)]),logger['debug'](_0x3ab2a4(0x86)+_0x2b5bc7[_0x3ab2a4(0xb8)]);if(_0x354033){const _0x4ac20d={};_0x4ac20d['type']=WS_EVENTS[_0x3ab2a4(0x7a)],_0x4ac20d[_0x3ab2a4(0x155)]=_0x15013c,webSocketUtils[_0x3ab2a4(0x178)](_0x354033,_0x4ac20d,_0x23d81a[_0x3ab2a4(0x145)],!![]);}await webSocketUtils[_0x3ab2a4(0x123)](0x7d0);const _0x1b3bc1={};_0x1b3bc1['error']=_0x15013c,await _0x23d81a[_0x3ab2a4(0x7f)](sendInstrumentationEvent,_0xf2a7d3,_0x23d81a[_0x3ab2a4(0x109)],messageTypes['ERROR'],_0x23d81a[_0x3ab2a4(0x152)],_0x1b3bc1,_0xf2a7d3),process[_0x3ab2a4(0xe1)](0x1);}};