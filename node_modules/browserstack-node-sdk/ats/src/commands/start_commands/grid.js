function a19_0x189e(){const _0x4481ff=['WrvDO','unauthorised','grid','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','Skip\x20insecure\x20cert\x20verification.','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','desc','help','argv','WHaUy','stringify','type','info','username','UYLKR','builder','ERROR','command','description','INFO','default','evfEi','grid-id','UgulM','connectionTimeout','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','kskwb','statusCode','server-error','skipTlsCertVerify','../../utils/gridComponents','../../utils/createk8sClient','debug','Grid\x20started','error','bstackUsername','<PasswordPlaceholder>','body','invalid-grid-id','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','ZKHZL','14vcVOft','init-not-called','wvbtR','jbJli','JfWAz','reconnecting-websocket','clusterName','replace','password','19756HDMUwS','Adding\x20Websocket\x20listeners','95nRtIPp','6451272rSWbYc','123xEHDBb','addListeners','bstackAccesskey','4164yoLGvc','OCkGF','WebSocket','Starting\x20grid\x20','message','qVyLV','UIHYq','388712puZZAx','Start\x20an\x20existing\x20Automation\x20grid.','name','usage','readFileSync','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','user','options','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','bWQhz','286356EKSWon','Browserstack','../../utils/instrumentationUtils','Njujf','bWuQe','81237efKEhs','105pIimcL','boolean','nqLjZ','exit','80684jtGEtF','region','../../utils/utilityMethods','10687860PFjAmz','gridId','existsSync','cloudProvider','jedos','stack','oIDmd'];a19_0x189e=function(){return _0x4481ff;};return a19_0x189e();}const a19_0x82ae23=a19_0x4a0f;(function(_0x5344f3,_0x51cdda){const _0x25a1d2=a19_0x4a0f,_0x2ad563=_0x5344f3();while(!![]){try{const _0x457ac4=-parseInt(_0x25a1d2(0x8a))/0x1*(-parseInt(_0x25a1d2(0xc2))/0x2)+parseInt(_0x25a1d2(0xcf))/0x3*(-parseInt(_0x25a1d2(0x8f))/0x4)+parseInt(_0x25a1d2(0xcd))/0x5*(-parseInt(_0x25a1d2(0x85))/0x6)+-parseInt(_0x25a1d2(0x8b))/0x7*(-parseInt(_0x25a1d2(0x7b))/0x8)+-parseInt(_0x25a1d2(0xce))/0x9+parseInt(_0x25a1d2(0x92))/0xa+parseInt(_0x25a1d2(0xcb))/0xb*(parseInt(_0x25a1d2(0xd2))/0xc);if(_0x457ac4===_0x51cdda)break;else _0x2ad563['push'](_0x2ad563['shift']());}catch(_0x4d7713){_0x2ad563['push'](_0x2ad563['shift']());}}}(a19_0x189e,0x838ff));function a19_0x4a0f(_0x5c7204,_0x5b2e36){const _0x189e15=a19_0x189e();return a19_0x4a0f=function(_0x4a0f25,_0x356bae){_0x4a0f25=_0x4a0f25-0x75;let _0x5dcec1=_0x189e15[_0x4a0f25];return _0x5dcec1;},a19_0x4a0f(_0x5c7204,_0x5b2e36);}const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x82ae23(0xc7)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require('../../config/constants'),{logger}=require('../../config/logger'),{getCredentialsPath,getGridDetails}=require(a19_0x82ae23(0x91)),{scaleUpHubDeployment}=require(a19_0x82ae23(0xb7)),{sendInstrumentationEvent}=require(a19_0x82ae23(0x87)),webSocketUtils=require('../../utils/webSocketUtils'),{createK8sClient}=require(a19_0x82ae23(0xb8)),{getCloudProviderObject}=require('../../cloudproviders/utils');exports[a19_0x82ae23(0xaa)]=a19_0x82ae23(0x9b),exports[a19_0x82ae23(0x9f)]=a19_0x82ae23(0x7c),exports[a19_0x82ae23(0xa8)]=function(_0x2fa2d0){const _0x4bf6c8=a19_0x82ae23,_0x482a2c={};_0x482a2c[_0x4bf6c8(0xb0)]=_0x4bf6c8(0xc0),_0x482a2c['bWuQe']='string',_0x482a2c[_0x4bf6c8(0xc1)]=_0x4bf6c8(0x9d),_0x482a2c['qVyLV']=_0x4bf6c8(0x8c),_0x482a2c[_0x4bf6c8(0xc5)]='help';const _0x5d8a15=_0x482a2c,_0x560df8={};_0x560df8[_0x4bf6c8(0xab)]=_0x5d8a15[_0x4bf6c8(0xb0)],_0x560df8[_0x4bf6c8(0xa4)]=_0x5d8a15[_0x4bf6c8(0x89)];const _0x13b9eb={};_0x13b9eb[_0x4bf6c8(0xab)]=_0x5d8a15['ZKHZL'],_0x13b9eb[_0x4bf6c8(0xa4)]=_0x5d8a15[_0x4bf6c8(0x79)],_0x13b9eb[_0x4bf6c8(0xad)]=![];const _0x22b65a={};return _0x22b65a[_0x4bf6c8(0xaf)]=_0x560df8,_0x22b65a['skip-tls-cert-verify']=_0x13b9eb,_0x2fa2d0[_0x4bf6c8(0x7e)](HELP_HEADER_MESSAGE['start'])['epilogue'](HELP_FOOTER_MESSAGE)[_0x4bf6c8(0x82)](_0x22b65a)[_0x4bf6c8(0xa0)](_0x5d8a15['jbJli'])[_0x4bf6c8(0xa1)];},exports['handler']=async function(_0x27cbf1){const _0x5dbc44=a19_0x82ae23,_0x1a3356={'nqLjZ':_0x5dbc44(0xb2),'JfWAz':function(_0x593aa1){return _0x593aa1();},'avRqJ':_0x5dbc44(0x83),'Njujf':function(_0xa90c32,_0xea941d,_0x524d60,_0x31008a,_0x133d53,_0x146b1f,_0xf71929){return _0xa90c32(_0xea941d,_0x524d60,_0x31008a,_0x133d53,_0x146b1f,_0xf71929);},'jedos':'start-grid-called','WrvDO':_0x5dbc44(0xc3),'RfvWw':function(_0x32bf33){return _0x32bf33();},'bWQhz':'<UsernamePlaceholder>','wvbtR':_0x5dbc44(0xbd),'LYDiW':_0x5dbc44(0xcc),'boFdW':function(_0x32d6e5,_0x24037a,_0x93005d,_0x511602){return _0x32d6e5(_0x24037a,_0x93005d,_0x511602);},'OCkGF':function(_0x5e4593,_0x59d9a1,_0x56c4b4){return _0x5e4593(_0x59d9a1,_0x56c4b4);},'UYLKR':function(_0xbdc636,_0x484b0a,_0x3808cb){return _0xbdc636(_0x484b0a,_0x3808cb);},'WHaUy':_0x5dbc44(0xba),'evfEi':function(_0x37bc4e,_0x4c57f3){return _0x37bc4e===_0x4c57f3;},'kskwb':_0x5dbc44(0x80),'UIHYq':_0x5dbc44(0x9a),'oIDmd':_0x5dbc44(0xbf),'ZqQzc':_0x5dbc44(0xb5)};let _0x34a345;try{!_0x27cbf1[_0x5dbc44(0x93)]&&(logger[_0x5dbc44(0xbb)](_0x1a3356[_0x5dbc44(0x8d)]),process[_0x5dbc44(0x8e)](0x1));!fs[_0x5dbc44(0x94)](_0x1a3356[_0x5dbc44(0xc6)](getCredentialsPath))&&(logger[_0x5dbc44(0xbb)](_0x1a3356['avRqJ']),await _0x1a3356[_0x5dbc44(0x88)](sendInstrumentationEvent,_0x27cbf1,_0x1a3356[_0x5dbc44(0x96)],messageTypes[_0x5dbc44(0xa9)],_0x1a3356[_0x5dbc44(0x99)],null,_0x27cbf1),process[_0x5dbc44(0x8e)](0x1));logger[_0x5dbc44(0xa5)](_0x5dbc44(0x77)+_0x27cbf1[_0x5dbc44(0x93)]),await _0x1a3356[_0x5dbc44(0x88)](sendInstrumentationEvent,_0x27cbf1,_0x1a3356[_0x5dbc44(0x96)],messageTypes[_0x5dbc44(0xac)],null,null,_0x27cbf1);const _0xd62598=JSON['parse'](fs[_0x5dbc44(0x7f)](_0x1a3356['RfvWw'](getCredentialsPath)));global_registry[_0x5dbc44(0xbc)]=_0xd62598[_0x5dbc44(0x86)]['username'],global_registry[_0x5dbc44(0xd1)]=_0xd62598[_0x5dbc44(0x86)][_0x5dbc44(0xca)];const _0x38f924=WS_ENDPOINT[_0x5dbc44(0xc9)](_0x1a3356[_0x5dbc44(0x84)],_0xd62598['Browserstack']['username'])[_0x5dbc44(0xc9)](_0x1a3356[_0x5dbc44(0xc4)],_0xd62598[_0x5dbc44(0x86)]['password']),_0x1eb902={};_0x1eb902[_0x5dbc44(0x76)]=ws,_0x1eb902[_0x5dbc44(0xb1)]=0x36ee80,_0x34a345=new ReconnectingWebSocket(_0x38f924,[],_0x1eb902),logger[_0x5dbc44(0xb9)](_0x1a3356['LYDiW']),webSocketUtils[_0x5dbc44(0xd0)](_0x34a345,_0x27cbf1[_0x5dbc44(0x81)],_0x27cbf1[_0x5dbc44(0xca)]);const [_0x4d38ba,_0x1e0600]=await _0x1a3356['boFdW'](getGridDetails,_0xd62598[_0x5dbc44(0x86)][_0x5dbc44(0xa6)],_0xd62598[_0x5dbc44(0x86)][_0x5dbc44(0xca)],_0x27cbf1[_0x5dbc44(0x93)]);if(_0x1e0600){const _0x23a539=_0x1e0600[_0x5dbc44(0xa5)];global_registry[_0x5dbc44(0x95)]=_0x23a539['cloudProvider'],global_registry['clusterRegion']=_0x23a539[_0x5dbc44(0x90)],global_registry[_0x5dbc44(0xc8)]=_0x23a539[_0x5dbc44(0xc8)];const _0x6cafce=await _0x1a3356[_0x5dbc44(0x88)](getCloudProviderObject,_0x23a539[_0x5dbc44(0x95)],_0x23a539['clusterName'],_0x23a539[_0x5dbc44(0x7d)],_0x34a345,webSocketUtils,_0x27cbf1),[_0x316399,_0x2e05df,_0x280cb3,_0x24a559,_0x114e41,_0x2c945b]=await _0x1a3356[_0x5dbc44(0x75)](createK8sClient,_0x6cafce,_0x27cbf1[_0x5dbc44(0xb6)]);await _0x1a3356[_0x5dbc44(0xa7)](scaleUpHubDeployment,_0x2e05df,_0x23a539['name']),logger['info'](_0x1a3356[_0x5dbc44(0xa2)]),process[_0x5dbc44(0x8e)](0x0);}_0x1a3356[_0x5dbc44(0xae)](_0x4d38ba[_0x5dbc44(0xb4)],0x191)&&(logger[_0x5dbc44(0xbb)](_0x1a3356[_0x5dbc44(0xb3)]),await _0x1a3356[_0x5dbc44(0x88)](sendInstrumentationEvent,_0x27cbf1,_0x1a3356[_0x5dbc44(0x96)],messageTypes[_0x5dbc44(0xa9)],_0x1a3356[_0x5dbc44(0x7a)],null,_0x27cbf1),process['exit'](0x1)),_0x1a3356[_0x5dbc44(0xae)](_0x4d38ba[_0x5dbc44(0xb4)],0x190)&&(logger[_0x5dbc44(0xbb)](JSON['parse'](_0x4d38ba[_0x5dbc44(0xbe)])[_0x5dbc44(0x78)]),await _0x1a3356[_0x5dbc44(0x88)](sendInstrumentationEvent,_0x27cbf1,_0x1a3356[_0x5dbc44(0x96)],messageTypes[_0x5dbc44(0xa9)],_0x1a3356[_0x5dbc44(0x98)],null,_0x27cbf1),process[_0x5dbc44(0x8e)](0x1)),logger['error'](_0x5dbc44(0x9c)+JSON[_0x5dbc44(0xa3)](_0x4d38ba)),await _0x1a3356[_0x5dbc44(0x88)](sendInstrumentationEvent,_0x27cbf1,_0x1a3356[_0x5dbc44(0x96)],messageTypes[_0x5dbc44(0xa9)],_0x1a3356['ZqQzc'],_0x4d38ba,_0x27cbf1),process[_0x5dbc44(0x8e)](0x1);}catch(_0x5788cf){const _0x50adda=_0x5dbc44(0x9e)+_0x5788cf+'\x20\x0a'+JSON['stringify'](_0x5788cf[_0x5dbc44(0x97)])+'\x20';logger['error'](_0x50adda),process[_0x5dbc44(0x8e)](0x1);}};