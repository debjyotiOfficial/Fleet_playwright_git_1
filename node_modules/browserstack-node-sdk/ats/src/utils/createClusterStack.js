const a27_0x50701a=a27_0x427d;(function(_0x13024a,_0x3168d3){const _0x214c2f=a27_0x427d,_0x530792=_0x13024a();while(!![]){try{const _0x167367=-parseInt(_0x214c2f(0x165))/0x1*(-parseInt(_0x214c2f(0x112))/0x2)+-parseInt(_0x214c2f(0xd5))/0x3+parseInt(_0x214c2f(0x118))/0x4*(-parseInt(_0x214c2f(0x11f))/0x5)+-parseInt(_0x214c2f(0x150))/0x6+-parseInt(_0x214c2f(0xeb))/0x7+parseInt(_0x214c2f(0x15f))/0x8*(-parseInt(_0x214c2f(0x13f))/0x9)+-parseInt(_0x214c2f(0x12a))/0xa*(-parseInt(_0x214c2f(0x157))/0xb);if(_0x167367===_0x3168d3)break;else _0x530792['push'](_0x530792['shift']());}catch(_0x5863f0){_0x530792['push'](_0x530792['shift']());}}}(a27_0x1e2e,0x66aae));function a27_0x427d(_0x23392c,_0x1a52da){const _0x1e2e71=a27_0x1e2e();return a27_0x427d=function(_0x427dfc,_0x5e64cd){_0x427dfc=_0x427dfc-0xaf;let _0x12c380=_0x1e2e71[_0x427dfc];return _0x12c380;},a27_0x427d(_0x23392c,_0x1a52da);}const fs=require('fs'),path=require(a27_0x50701a(0xfb)),Promise=require(a27_0x50701a(0xd1)),yaml=require(a27_0x50701a(0xca)),{CLOUDFORMATION_SCHEMA}=require(a27_0x50701a(0xee)),AWS=require(a27_0x50701a(0xd2))[a27_0x50701a(0x12c)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x50701a(0xc5)),{logger}=require(a27_0x50701a(0x167)),{isBucketPresent}=require(a27_0x50701a(0xd2));Promise['promisifyAll'](fs);const mergeTemplates=(_0x1a83ec,_0x50a74c)=>{const _0x360b66=a27_0x50701a,_0xab641b={};_0xab641b[_0x360b66(0x13e)]=function(_0x259c10,_0x37166c){return _0x259c10!==_0x37166c;},_0xab641b['MTSKd']=_0x360b66(0x104),_0xab641b[_0x360b66(0x13b)]=_0x360b66(0xcb),_0xab641b[_0x360b66(0x15e)]=_0x360b66(0xde);const _0x4b5b2c=_0xab641b;Object[_0x360b66(0x10a)](_0x50a74c)[_0x360b66(0x136)](_0xc4035b=>{const _0xb79f67=_0x360b66,_0x46aea7={'iBLBy':function(_0x47f191,_0x2eec96){const _0x235128=a27_0x427d;return _0x4b5b2c[_0x235128(0x13e)](_0x47f191,_0x2eec96);},'ovIOu':_0x4b5b2c['MTSKd'],'VXflb':_0x4b5b2c[_0xb79f67(0x13b)]};if(_0x4b5b2c[_0xb79f67(0x13e)](_0x4b5b2c['Jeksx'],_0x4b5b2c['Jeksx']))_0x34e7bf[_0x4136a6][_0x423616]=_0x1725da[_0x57e678];else{var _0x7107a5=_0x50a74c[_0xc4035b];Object[_0xb79f67(0x10a)](_0x7107a5)[_0xb79f67(0x136)](_0x2132eb=>{const _0x24af4a=_0xb79f67;_0x46aea7[_0x24af4a(0xe6)](_0x46aea7['ovIOu'],_0x46aea7[_0x24af4a(0xb9)])?_0x1a83ec[_0xc4035b][_0x2132eb]=_0x7107a5[_0x2132eb]:_0x29d7fb['Resources'][_0x56e071][_0x24af4a(0x121)]&&_0x1c75dd[_0x24af4a(0x116)][_0x3dbcd7][_0x24af4a(0x121)][_0x24af4a(0x166)]&&_0x4205bc['Resources'][_0x4ca728]['Properties']['Tags'][_0x24af4a(0xc9)](..._0x13606a);});}});},addVPCData=async(_0x5d62a1,_0x303fa5)=>{const _0x56c2ad=a27_0x50701a,_0x5756a6={'kjEXa':'VPC','kCxES':function(_0x422c42,_0x328ff9){return _0x422c42(_0x328ff9);},'gfvLw':function(_0x551016,_0x4b1f1b){return _0x551016!==_0x4b1f1b;},'QyxGq':'aHmOU','yykGy':_0x56c2ad(0xe3),'QQPlg':'vpc-import.yaml','aysHh':_0x56c2ad(0xd4),'XRqtI':function(_0xf29fea,_0x431e47,_0x47c92b){return _0xf29fea(_0x431e47,_0x47c92b);},'ZxLEX':_0x56c2ad(0xd7),'WorNT':function(_0xbd1138,_0x1ee5fa){return _0xbd1138!==_0x1ee5fa;},'TkTJr':'OSIVO','SXEVK':_0x56c2ad(0xc1),'GAGBc':_0x56c2ad(0xf8),'UUvhu':function(_0x3108ae,_0x4c2ec1,_0x224f5f){return _0x3108ae(_0x4c2ec1,_0x224f5f);},'JLlpC':_0x56c2ad(0x10d)};if(_0x303fa5){if(_0x5756a6[_0x56c2ad(0x156)](_0x5756a6['QyxGq'],_0x5756a6[_0x56c2ad(0xe1)])){const _0x1ac5e0={};_0x1ac5e0['ParameterKey']=_0x5756a6[_0x56c2ad(0x126)],_0x1ac5e0[_0x56c2ad(0xe4)]=_0x17e282,_0xbff0c[_0x56c2ad(0x16a)][_0x56c2ad(0xc9)](_0x1ac5e0);}else{const _0x2bce34=await fs[_0x56c2ad(0xd3)](path[_0x56c2ad(0xb3)](__dirname,'..',_0x5756a6['yykGy'],_0x5756a6['QQPlg']),_0x5756a6[_0x56c2ad(0x148)]),_0x56a568={};_0x56a568[_0x56c2ad(0x12d)]=CLOUDFORMATION_SCHEMA;const _0x15c3e8=yaml[_0x56c2ad(0x107)](_0x2bce34,_0x56a568);_0x5756a6[_0x56c2ad(0x14e)](mergeTemplates,_0x5d62a1,_0x15c3e8),_0x5d62a1[_0x56c2ad(0x155)][_0x5756a6[_0x56c2ad(0x10f)]][_0x56c2ad(0x117)][0x0][_0x56c2ad(0x16a)][_0x56c2ad(0xc9)](_0x5756a6['kjEXa']);}}else{if(_0x5756a6['WorNT'](_0x5756a6['TkTJr'],_0x5756a6[_0x56c2ad(0x13a)])){const _0x28bbfd=await fs[_0x56c2ad(0xd3)](path['join'](__dirname,'..',_0x5756a6[_0x56c2ad(0x132)],_0x5756a6[_0x56c2ad(0x146)]),_0x5756a6['aysHh']),_0x2f444b={};_0x2f444b[_0x56c2ad(0x12d)]=CLOUDFORMATION_SCHEMA;const _0x59d90d=yaml[_0x56c2ad(0x107)](_0x28bbfd,_0x2f444b);_0x5756a6[_0x56c2ad(0xfd)](mergeTemplates,_0x5d62a1,_0x59d90d),_0x5d62a1[_0x56c2ad(0x155)][_0x5756a6[_0x56c2ad(0x10f)]][_0x56c2ad(0x117)][0x0][_0x56c2ad(0x16a)]['push'](_0x5756a6[_0x56c2ad(0xc7)]);}else{const _0x3789c6={'ZgFEf':function(_0x4b7da6,_0x4c8b36){const _0x44a930=_0x56c2ad;return _0x5756a6[_0x44a930(0x152)](_0x4b7da6,_0x4c8b36);}};let _0x5817a9=0x1;_0x5a5cdb['forEach'](_0x558fa4=>{const _0x520151=_0x56c2ad;_0x4b7f37[_0x520151(0x16a)][_0x520151(0xc9)]({'ParameterKey':_0x520151(0x15c)+_0x3789c6[_0x520151(0xd8)](_0x271005,_0x5817a9)['padStart'](0x2,'0'),'ParameterValue':_0x558fa4[_0x520151(0x14d)]}),_0x5817a9+=0x1;});}}},addS3Data=async _0x7a7481=>{const _0x28a9cb=a27_0x50701a,_0x49ca63={'bbvcc':_0x28a9cb(0xe3),'NMbnR':'s3-create.yaml','JIzYh':_0x28a9cb(0xd4),'VJZZH':function(_0x44100a,_0x8eaf0f){return _0x44100a(_0x8eaf0f);},'eBEpx':function(_0x596cc0,_0x4b7bbf){return _0x596cc0===_0x4b7bbf;},'EszcM':_0x28a9cb(0x135),'oojxF':'CczEg','coJEE':function(_0x1d6ec7,_0x419bca,_0x3f44e8){return _0x1d6ec7(_0x419bca,_0x3f44e8);}},_0xc6657b=await fs['readFileAsync'](path['join'](__dirname,'..',_0x49ca63[_0x28a9cb(0xf6)],_0x49ca63[_0x28a9cb(0xc4)]),_0x49ca63[_0x28a9cb(0x114)]),_0xfbe8e6={};_0xfbe8e6[_0x28a9cb(0x12d)]=CLOUDFORMATION_SCHEMA;const _0x1dbcf3=yaml['load'](_0xc6657b,_0xfbe8e6),_0x32ff00=await _0x49ca63[_0x28a9cb(0xc8)](isBucketPresent,global_registry['s3Bucket']);_0x49ca63['eBEpx'](_0x32ff00,![])&&(_0x49ca63[_0x28a9cb(0x16b)](_0x49ca63[_0x28a9cb(0xf4)],_0x49ca63[_0x28a9cb(0x131)])?_0x3e041[_0x28a9cb(0x10a)](_0x39fff7)['forEach'](_0x1ffb55=>{const _0x25e943=_0x28a9cb;var _0x5d3359=_0xfae4b8[_0x1ffb55];_0x5e74e6['keys'](_0x5d3359)[_0x25e943(0x136)](_0x2b4571=>{_0x4bb83f[_0x1ffb55][_0x2b4571]=_0x5d3359[_0x2b4571];});}):_0x49ca63[_0x28a9cb(0xf9)](mergeTemplates,_0x7a7481,_0x1dbcf3));},addSubnetData=async(_0x370d4f,_0x5a4d1a)=>{const _0x1853ae=a27_0x50701a,_0x588649={'rtnAW':function(_0x225598,_0x492c07){return _0x225598(_0x492c07);},'kEmeT':_0x1853ae(0x142),'gnOUy':'AWS::CloudFormation::Interface','IpSfR':function(_0x51e2fb,_0x372c1b){return _0x51e2fb(_0x372c1b);},'JMJPI':function(_0x5872a8,_0x51c65c){return _0x5872a8(_0x51c65c);},'edzPq':'Fn::Join','OVbxG':function(_0x5be09a,_0x22fc57){return _0x5be09a!==_0x22fc57;},'vZJlU':_0x1853ae(0x128),'nLcpu':_0x1853ae(0x14a),'kPePT':_0x1853ae(0x101),'rPYMz':function(_0x1b6c9a,_0x427921){return _0x1b6c9a(_0x427921);},'HeLpP':function(_0x4992d6,_0xa1c003){return _0x4992d6===_0xa1c003;},'Jwhoi':_0x1853ae(0xf2),'xbpjt':'VxUIb','pySaE':'CFTemplates','BPfox':'subnet-import.yaml','AkMjy':_0x1853ae(0xd4),'DUTPh':function(_0x5cfb9a,_0x45d817,_0x505ce7){return _0x5cfb9a(_0x45d817,_0x505ce7);},'EvTQo':function(_0x4b95db,_0x4ad988){return _0x4b95db===_0x4ad988;},'ZpgaL':'JMnfg','jhiTb':'FbSpd','XuQWz':_0x1853ae(0x137),'TjZFt':function(_0x50ff96,_0x1b2cb1,_0x2f5a00){return _0x50ff96(_0x1b2cb1,_0x2f5a00);},'YVjPb':_0x1853ae(0x15d),'jyshS':_0x1853ae(0x10e),'vCDSN':_0x1853ae(0xea),'SyBeD':_0x1853ae(0xd0),'QYooT':'Subnet02Block','tSATw':_0x1853ae(0xd9)};if(_0x5a4d1a){if(_0x588649[_0x1853ae(0x122)](_0x588649[_0x1853ae(0xdb)],_0x588649[_0x1853ae(0x110)]))_0x4d6e27[_0x1853ae(0x16a)][_0x1853ae(0xc9)]({'ParameterKey':_0x1853ae(0x15c)+_0x588649[_0x1853ae(0x12b)](_0x18919e,_0x2ac0cb)[_0x1853ae(0x159)](0x2,'0'),'ParameterValue':_0x4634a8[_0x1853ae(0x14d)]}),_0x3ffe46+=0x1;else{const _0x350ad7=await fs[_0x1853ae(0xd3)](path[_0x1853ae(0xb3)](__dirname,'..',_0x588649[_0x1853ae(0x11d)],_0x588649[_0x1853ae(0x109)]),_0x588649[_0x1853ae(0xbb)]),_0x4e0dfd={};_0x4e0dfd[_0x1853ae(0x12d)]=CLOUDFORMATION_SCHEMA;const _0xc5c8ee=yaml[_0x1853ae(0x107)](_0x350ad7,_0x4e0dfd);_0x588649['DUTPh'](mergeTemplates,_0x370d4f,_0xc5c8ee);let _0x50c0d8=0x1;_0x5a4d1a[_0x1853ae(0x136)](_0x149cdd=>{const _0x90fc79=_0x1853ae;if(_0x588649[_0x90fc79(0x125)](_0x588649[_0x90fc79(0xe7)],_0x588649['nLcpu'])){const _0x19b1ef=_0x588649['kPePT'][_0x90fc79(0x10b)]('|');let _0x94b111=0x0;while(!![]){switch(_0x19b1ef[_0x94b111++]){case'0':_0x370d4f['Resources'][_0x90fc79(0x108)][_0x90fc79(0x121)][_0x90fc79(0xb2)][_0x90fc79(0x111)][_0x90fc79(0xc9)]({'Ref':_0x90fc79(0x15c)+_0x588649[_0x90fc79(0x12b)](String,_0x50c0d8)[_0x90fc79(0x159)](0x2,'0')});continue;case'1':_0x370d4f[_0x90fc79(0x116)][_0x90fc79(0xcf)][_0x90fc79(0x121)]['Subnets'][_0x90fc79(0xc9)]({'Ref':_0x90fc79(0x15c)+_0x588649['rPYMz'](String,_0x50c0d8)[_0x90fc79(0x159)](0x2,'0')});continue;case'2':_0x50c0d8+=0x1;continue;case'3':_0x370d4f[_0x90fc79(0x116)][_0x90fc79(0xfc)]['Properties'][_0x90fc79(0xe8)][_0x90fc79(0xc9)]({'Ref':_0x90fc79(0x15c)+_0x588649[_0x90fc79(0xce)](String,_0x50c0d8)[_0x90fc79(0x159)](0x2,'0')});continue;case'4':_0x370d4f[_0x90fc79(0x155)][_0x588649[_0x90fc79(0xb8)]][_0x90fc79(0x117)][0x0][_0x90fc79(0x16a)][_0x90fc79(0xc9)](_0x90fc79(0x15c)+_0x588649[_0x90fc79(0xaf)](String,_0x50c0d8)['padStart'](0x2,'0'));continue;case'5':_0x370d4f['Outputs'][_0x90fc79(0x111)][_0x90fc79(0x115)][_0x588649[_0x90fc79(0x147)]][0x1]['push']({'Ref':'Subnet'+_0x588649[_0x90fc79(0xaf)](String,_0x50c0d8)[_0x90fc79(0x159)](0x2,'0')});continue;}break;}}else{const _0x1ef8a7=_0x588649['kEmeT']['split']('|');let _0x583a57=0x0;while(!![]){switch(_0x1ef8a7[_0x583a57++]){case'0':_0x1180cf+=0x1;continue;case'1':_0xb4b423[_0x90fc79(0x155)][_0x588649[_0x90fc79(0xb8)]][_0x90fc79(0x117)][0x0][_0x90fc79(0x16a)][_0x90fc79(0xc9)](_0x90fc79(0x15c)+_0x588649[_0x90fc79(0x124)](_0x4f0981,_0x5762ad)[_0x90fc79(0x159)](0x2,'0'));continue;case'2':_0x32a660[_0x90fc79(0x116)]['NodeGroupWindows'][_0x90fc79(0x121)][_0x90fc79(0xe8)][_0x90fc79(0xc9)]({'Ref':_0x90fc79(0x15c)+_0x588649[_0x90fc79(0x12b)](_0x3278e5,_0x4d9283)[_0x90fc79(0x159)](0x2,'0')});continue;case'3':_0x58e2ed['Resources'][_0x90fc79(0x108)]['Properties']['ResourcesVpcConfig'][_0x90fc79(0x111)][_0x90fc79(0xc9)]({'Ref':'Subnet'+_0x588649[_0x90fc79(0xaf)](_0x3ccc10,_0x2e2c05)[_0x90fc79(0x159)](0x2,'0')});continue;case'4':_0x469f36[_0x90fc79(0x116)][_0x90fc79(0xfc)][_0x90fc79(0x121)][_0x90fc79(0xe8)]['push']({'Ref':_0x90fc79(0x15c)+_0x588649[_0x90fc79(0x12b)](_0x3bfbfa,_0x1fc5b1)['padStart'](0x2,'0')});continue;case'5':_0x488f6e[_0x90fc79(0xed)][_0x90fc79(0x111)]['Value'][_0x588649[_0x90fc79(0x147)]][0x1]['push']({'Ref':_0x90fc79(0x15c)+_0x588649[_0x90fc79(0x12b)](_0x3258fc,_0x1141fe)['padStart'](0x2,'0')});continue;}break;}}});}}else{if(_0x588649['EvTQo'](_0x588649[_0x1853ae(0xbe)],_0x588649[_0x1853ae(0x143)])){var _0x3ad265=_0x42af94[_0x2fb65f];_0x20e79d[_0x1853ae(0x10a)](_0x3ad265)['forEach'](_0x41a649=>{_0x528833[_0x503b5b][_0x41a649]=_0x3ad265[_0x41a649];});}else{const _0x8f6cb7=await fs[_0x1853ae(0xd3)](path[_0x1853ae(0xb3)](__dirname,'..',_0x588649[_0x1853ae(0x11d)],_0x588649['XuQWz']),_0x588649[_0x1853ae(0xbb)]),_0x3c9493={};_0x3c9493[_0x1853ae(0x12d)]=CLOUDFORMATION_SCHEMA;const _0x191a35=yaml[_0x1853ae(0x107)](_0x8f6cb7,_0x3c9493);_0x588649[_0x1853ae(0x15a)](mergeTemplates,_0x370d4f,_0x191a35),_0x370d4f[_0x1853ae(0x116)]['EKSCluster'][_0x1853ae(0xda)][_0x1853ae(0xc9)](_0x588649[_0x1853ae(0x13c)],_0x588649[_0x1853ae(0x169)],_0x588649[_0x1853ae(0xcd)]);const _0x238427={};_0x238427[_0x1853ae(0xcc)]=_0x588649[_0x1853ae(0x13c)];const _0x4c24e4={};_0x4c24e4[_0x1853ae(0xcc)]=_0x588649[_0x1853ae(0x169)];const _0x462245={};_0x462245[_0x1853ae(0xcc)]=_0x588649[_0x1853ae(0xcd)],_0x370d4f[_0x1853ae(0x116)][_0x1853ae(0x108)]['Properties']['ResourcesVpcConfig'][_0x1853ae(0x111)]=[_0x238427,_0x4c24e4,_0x462245],_0x370d4f[_0x1853ae(0x155)][_0x588649[_0x1853ae(0xb8)]]['ParameterGroups'][0x0][_0x1853ae(0x16a)]['push'](_0x588649['SyBeD'],_0x588649['QYooT'],_0x588649[_0x1853ae(0x158)]);const _0x2b6555={};_0x2b6555[_0x1853ae(0xcc)]=_0x588649[_0x1853ae(0x13c)];const _0x58bfc4={};_0x58bfc4[_0x1853ae(0xcc)]=_0x588649[_0x1853ae(0x169)];const _0x30f820={};_0x30f820[_0x1853ae(0xcc)]=_0x588649['vCDSN'],_0x370d4f[_0x1853ae(0x116)][_0x1853ae(0xfc)][_0x1853ae(0x121)][_0x1853ae(0xe8)]=[_0x2b6555,_0x58bfc4,_0x30f820];const _0x5f5280={};_0x5f5280[_0x1853ae(0xcc)]=_0x588649['YVjPb'];const _0x1b957b={};_0x1b957b[_0x1853ae(0xcc)]=_0x588649['jyshS'];const _0x47797f={};_0x47797f[_0x1853ae(0xcc)]=_0x588649[_0x1853ae(0xcd)],_0x370d4f[_0x1853ae(0x116)][_0x1853ae(0xcf)][_0x1853ae(0x121)]['Subnets']=[_0x5f5280,_0x1b957b,_0x47797f],_0x370d4f[_0x1853ae(0xed)]['SubnetIds'][_0x1853ae(0x115)][_0x588649[_0x1853ae(0x147)]][0x1]=[{'Ref':_0x588649[_0x1853ae(0x13c)]},{'Ref':_0x588649[_0x1853ae(0x169)]},{'Ref':_0x588649[_0x1853ae(0xcd)]}];}}},addTags=async(_0x411db7,_0x6d52de,_0x5293c2)=>{const _0x20f1f0=a27_0x50701a,_0x50719a={};_0x50719a['muRvv']=_0x20f1f0(0xfc),_0x50719a[_0x20f1f0(0xe5)]='NodeGroupWindows',_0x50719a[_0x20f1f0(0x15b)]=function(_0x4692c2,_0xe1d255){return _0x4692c2!==_0xe1d255;},_0x50719a['MHIio']=_0x20f1f0(0xd6),_0x50719a['oGRwd']='nFsfM',_0x50719a[_0x20f1f0(0x161)]=_0x20f1f0(0x138),_0x50719a[_0x20f1f0(0x14f)]=_0x20f1f0(0xf0),_0x50719a['qOjWO']=_0x20f1f0(0xf5);const _0x2d03b6=_0x50719a;for(const _0x223590 in _0x411db7['Resources']){if(_0x2d03b6[_0x20f1f0(0x15b)](_0x2d03b6['mGXZI'],_0x2d03b6[_0x20f1f0(0x14f)])){if(_0x411db7[_0x20f1f0(0x116)][_0x223590][_0x20f1f0(0x121)]&&_0x411db7['Resources'][_0x223590][_0x20f1f0(0x121)][_0x20f1f0(0x166)]){if(_0x2d03b6[_0x20f1f0(0x15b)](_0x2d03b6[_0x20f1f0(0x119)],_0x2d03b6['qOjWO'])){for(const _0x697447 in _0x826316['Resources']){_0x5acd4b[_0x20f1f0(0x116)][_0x697447][_0x20f1f0(0x121)]&&_0x24f60d[_0x20f1f0(0x116)][_0x697447][_0x20f1f0(0x121)]['Tags']&&_0x1ff96a[_0x20f1f0(0x116)][_0x697447][_0x20f1f0(0x121)][_0x20f1f0(0x166)][_0x20f1f0(0xc9)](..._0x4a6aec);}const _0x44c6ce={};_0x473456['forEach'](_0x4f1158=>{const _0x9cb58f=_0x20f1f0;_0x44c6ce[_0x4f1158[_0x9cb58f(0x154)]]=_0x4f1158[_0x9cb58f(0x115)];}),_0x5ea304[_0x20f1f0(0x116)][_0x2d03b6[_0x20f1f0(0x144)]][_0x20f1f0(0x121)]['Tags']=_0x44c6ce,_0x57bbab[_0x20f1f0(0x116)][_0x2d03b6['koJoU']][_0x20f1f0(0x121)][_0x20f1f0(0x166)]=_0x44c6ce;}else _0x411db7[_0x20f1f0(0x116)][_0x223590][_0x20f1f0(0x121)][_0x20f1f0(0x166)][_0x20f1f0(0xc9)](..._0x5293c2);}}else _0xbde8a6['Resources'][_0x21709f][_0x20f1f0(0x121)][_0x20f1f0(0x166)][_0x20f1f0(0xc9)](..._0x51e232);}const _0x3980b0={};_0x5293c2[_0x20f1f0(0x136)](_0x51f49d=>{const _0x1dd0e1=_0x20f1f0;_0x2d03b6[_0x1dd0e1(0x15b)](_0x2d03b6[_0x1dd0e1(0xbc)],_0x2d03b6[_0x1dd0e1(0x162)])?_0x3980b0[_0x51f49d[_0x1dd0e1(0x154)]]=_0x51f49d[_0x1dd0e1(0x115)]:_0x71c5ed[_0x2fad4f[_0x1dd0e1(0x154)]]=_0x4ed5e4[_0x1dd0e1(0x115)];}),_0x411db7[_0x20f1f0(0x116)][_0x2d03b6[_0x20f1f0(0x144)]][_0x20f1f0(0x121)][_0x20f1f0(0x166)]=_0x3980b0,_0x411db7['Resources'][_0x2d03b6[_0x20f1f0(0xe5)]][_0x20f1f0(0x121)][_0x20f1f0(0x166)]=_0x3980b0;};function a27_0x1e2e(){const _0x1cab4b=['load','EKSCluster','BPfox','keys','split','stackCreateComplete','VpcBlock','Subnet02','ZxLEX','xbpjt','SubnetIds','1677098KBHXND','-Windows-NodeGroup','JIzYh','Value','Resources','ParameterGroups','132324ArksnM','qOjWO','oarjY','kdkvY','gVfYS','pySaE','NodeAutoScalingGroupMinSize','25XmMXwI','instanceType','Properties','HeLpP','Capabilities','IpSfR','OVbxG','kjEXa','XeuXw','PQhMf','msoVR','2345560MYaVtc','rtnAW','awsObj','schema','NodeAutoScalingGroupMinSizeWindows','FtkCn','GzIDv','oojxF','yykGy','ClusterName','gqXMS','NbKDD','forEach','subnet-create.yaml','YNIeq','NodeGroupNameWindows','SXEVK','oMEHx','YVjPb','NodeImageId','jzQXT','9783jPKBKC','NodeAutoScalingGroupDesiredSizeWindows','CAPABILITY_NAMED_IAM','3|1|4|2|5|0','jhiTb','muRvv','LEeIu','GAGBc','edzPq','aysHh','false','aNwZR','ClusterAutoUpgrade','NodeInstanceType','value','XRqtI','DZcTQ','479046yvUuVW','LMTWP','kCxES','BYEJR','Key','Metadata','gfvLw','33bOSYjU','tSATw','padStart','TjZFt','ldjRU','Subnet','Subnet01','Jeksx','1240Yeqiav','wKrSx','mGXZI','oGRwd','WlQpE','OPvbu','1TxXEsz','Tags','../config/logger','StackId','jyshS','Parameters','eBEpx','JMJPI','toString','stringify','ResourcesVpcConfig','join','createClusterStack','-NodeGroup','lmnyS','TemplateBody','gnOUy','VXflb','true','AkMjy','MHIio','bHmBh','ZpgaL','gbIEI','iSNGa','etfmR','atytc','aws-eks-cluster-dep.yaml','NMbnR','../config/constants','NgcxM','JLlpC','VJZZH','push','js-yaml','TuNdZ','Ref','vCDSN','rPYMz','NodeGroupWindows','Subnet01Block','bluebird','./AWSUtils','readFileAsync','utf-8','490878GUMxxb','gbZEx','AWS::CloudFormation::Interface','ZgFEf','Subnet03Block','DependsOn','Jwhoi','StackName','eyICM','uykpo','GIljw','NodeAutoScalingGroupMaxSize','QyxGq','createStack','CFTemplates','ParameterValue','koJoU','iBLBy','vZJlU','Subnets','SkgvK','Subnet03','3810338WHrcnY','browserstack:creationDate','Outputs','js-yaml-cloudformation-schema','Dperi','czuvx','s3Bucket','KZtfe','UQlYf','EszcM','EOJvN','bbvcc','Oyhli','vpc-create.yaml','coJEE','DELETE','path','NodeGroup','UUvhu','promise','fQxus','zqdKl','0|4|3|1|5|2','debug','NodeGroupName','VaRiR','VPC','ParameterKey'];a27_0x1e2e=function(){return _0x1cab4b;};return a27_0x1e2e();}exports[a27_0x50701a(0xb4)]=async(_0x5769f7,_0x359411,_0x18dd07,_0x4d31b4=null,_0x48699d=null,_0x5dfb19)=>{const _0x30687c=a27_0x50701a,_0x4df786={'Dperi':function(_0x52b05a,_0x1b047d,_0x12f79e){return _0x52b05a(_0x1b047d,_0x12f79e);},'bHmBh':function(_0x3e5b19,_0x175f22){return _0x3e5b19(_0x175f22);},'OPvbu':'browserstack:cluster','sLtkq':_0x30687c(0xec),'oarjY':'2010-05-15','gVfYS':_0x30687c(0xe3),'LEeIu':_0x30687c(0xc3),'fQxus':_0x30687c(0xd4),'SkgvK':function(_0x407588,_0x4e47a5,_0x4a7042){return _0x407588(_0x4e47a5,_0x4a7042);},'eEloD':function(_0x5f044a,_0xd58d60,_0x2d9dd6,_0x389ed4){return _0x5f044a(_0xd58d60,_0x2d9dd6,_0x389ed4);},'gbIEI':_0x30687c(0xfa),'eyICM':_0x30687c(0x133),'LMTWP':_0x30687c(0x103),'KUwHx':_0x30687c(0x11e),'UQlYf':_0x30687c(0x12e),'Oyhli':_0x30687c(0x140),'WlQpE':_0x30687c(0xe0),'NgcxM':_0x30687c(0x13d),'lmnyS':_0x30687c(0x14c),'JPpcl':'S3BucketName','kdkvY':_0x30687c(0x139),'dXBld':_0x30687c(0x14b),'XeuXw':_0x30687c(0xba),'KvtVL':_0x30687c(0x149),'FtkCn':_0x30687c(0x141),'GzIDv':function(_0x32c36a,_0x3b1d5c){return _0x32c36a!=_0x3b1d5c;},'zqdKl':function(_0x130524,_0x5272be){return _0x130524!==_0x5272be;},'atytc':_0x30687c(0x153),'qnHVS':_0x30687c(0xc0),'msoVR':_0x30687c(0x105),'GIljw':function(_0x88df05,_0x2fbf4b){return _0x88df05!==_0x2fbf4b;},'gqXMS':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','wKrSx':_0x30687c(0x10c)},_0x2baf3b=COMMON_HST_TAGS,_0x1d86b1={};_0x1d86b1[_0x30687c(0x154)]=_0x4df786[_0x30687c(0x164)],_0x1d86b1[_0x30687c(0x115)]=_0x5769f7,_0x2baf3b[_0x30687c(0xc9)](_0x1d86b1),_0x2baf3b[_0x30687c(0xc9)]({'Key':_0x4df786['sLtkq'],'Value':new Date()['valueOf']()[_0x30687c(0xb0)]()});const _0x537901={};_0x537901['apiVersion']=_0x4df786[_0x30687c(0x11a)];const _0x8dd330=new AWS['CloudFormation'](_0x537901),_0x5daa7b=await fs['readFileAsync'](path[_0x30687c(0xb3)](__dirname,'..',_0x4df786[_0x30687c(0x11c)],_0x4df786[_0x30687c(0x145)]),_0x4df786[_0x30687c(0xff)]),_0x1f52ae={};_0x1f52ae[_0x30687c(0x12d)]=CLOUDFORMATION_SCHEMA;const _0x5f009f=yaml[_0x30687c(0x107)](_0x5daa7b,_0x1f52ae);await _0x4df786['Dperi'](addVPCData,_0x5f009f,_0x4d31b4),await _0x4df786[_0x30687c(0xbd)](addS3Data,_0x5f009f),await _0x4df786[_0x30687c(0xe9)](addSubnetData,_0x5f009f,_0x48699d),await _0x4df786['eEloD'](addTags,_0x5f009f,_0x5769f7,_0x2baf3b);const _0x2ebe34=JSON[_0x30687c(0xb1)](_0x5f009f),_0x2f318a={};_0x2f318a[_0x30687c(0xdc)]=CLUSTER_DEP_STACK_NAME+'-'+_0x5769f7,_0x2f318a['OnFailure']=_0x4df786[_0x30687c(0xbf)],_0x2f318a[_0x30687c(0xb7)]=_0x2ebe34,_0x2f318a[_0x30687c(0x16a)]=[{'ParameterKey':_0x4df786[_0x30687c(0xdd)],'ParameterValue':_0x5769f7},{'ParameterKey':_0x4df786[_0x30687c(0x151)],'ParameterValue':_0x5769f7+_0x30687c(0xb5)},{'ParameterKey':_0x4df786['KUwHx'],'ParameterValue':''+_0x359411},{'ParameterKey':_0x4df786[_0x30687c(0xf3)],'ParameterValue':'0'},{'ParameterKey':_0x4df786[_0x30687c(0xf7)],'ParameterValue':'1'},{'ParameterKey':_0x4df786[_0x30687c(0x163)],'ParameterValue':''+_0x18dd07},{'ParameterKey':_0x4df786[_0x30687c(0xc6)],'ParameterValue':global_registry['ami']},{'ParameterKey':_0x4df786[_0x30687c(0xb6)],'ParameterValue':global_registry[_0x30687c(0x120)]},{'ParameterKey':_0x4df786['JPpcl'],'ParameterValue':global_registry[_0x30687c(0xf1)]},{'ParameterKey':_0x4df786[_0x30687c(0x11b)],'ParameterValue':_0x5769f7+_0x30687c(0x113)},{'ParameterKey':_0x4df786['dXBld'],'ParameterValue':_0x5dfb19?_0x4df786[_0x30687c(0x127)]:_0x4df786['KvtVL']}],_0x2f318a[_0x30687c(0x123)]=[_0x4df786[_0x30687c(0x12f)]],_0x2f318a[_0x30687c(0x166)]=_0x2baf3b;const _0x124b68=_0x2f318a;if(_0x4df786[_0x30687c(0x130)](_0x4d31b4,null)&&_0x4df786['zqdKl'](_0x4d31b4,undefined)){if(_0x4df786[_0x30687c(0x100)](_0x4df786[_0x30687c(0xc2)],_0x4df786['qnHVS'])){const _0x331fdb={};_0x331fdb[_0x30687c(0x106)]=_0x4df786[_0x30687c(0x129)],_0x331fdb['ParameterValue']=_0x4d31b4,_0x124b68[_0x30687c(0x16a)][_0x30687c(0xc9)](_0x331fdb);}else _0x4df786[_0x30687c(0xef)](_0x394e17,_0x5db988,_0x1a3922);}if(_0x4df786[_0x30687c(0x130)](_0x48699d,null)&&_0x4df786[_0x30687c(0xdf)](_0x48699d,undefined)){let _0xb14ef0=0x1;_0x48699d['forEach'](_0x125056=>{const _0xe02662=_0x30687c;_0x124b68[_0xe02662(0x16a)][_0xe02662(0xc9)]({'ParameterKey':'Subnet'+_0x4df786[_0xe02662(0xbd)](String,_0xb14ef0)[_0xe02662(0x159)](0x2,'0'),'ParameterValue':_0x125056[_0xe02662(0x14d)]}),_0xb14ef0+=0x1;});}const _0x4bae7e=await _0x8dd330[_0x30687c(0xe2)](_0x124b68)[_0x30687c(0xfe)]();logger[_0x30687c(0x102)](_0x4df786[_0x30687c(0x134)]);const _0xb6acd7={};return _0xb6acd7['StackName']=_0x4bae7e[_0x30687c(0x168)],_0x8dd330['waitFor'](_0x4df786[_0x30687c(0x160)],_0xb6acd7)['promise']();};