const a33_0x301647=a33_0x51e7;(function(_0x22bd3a,_0x2bc49d){const _0x3a5f85=a33_0x51e7,_0x3117ff=_0x22bd3a();while(!![]){try{const _0x6056df=-parseInt(_0x3a5f85(0x22b))/0x1+parseInt(_0x3a5f85(0xec))/0x2*(-parseInt(_0x3a5f85(0x280))/0x3)+-parseInt(_0x3a5f85(0x218))/0x4+parseInt(_0x3a5f85(0x18e))/0x5*(parseInt(_0x3a5f85(0x17b))/0x6)+parseInt(_0x3a5f85(0x226))/0x7+parseInt(_0x3a5f85(0x24c))/0x8*(parseInt(_0x3a5f85(0x12f))/0x9)+-parseInt(_0x3a5f85(0x1ba))/0xa*(-parseInt(_0x3a5f85(0x21e))/0xb);if(_0x6056df===_0x2bc49d)break;else _0x3117ff['push'](_0x3117ff['shift']());}catch(_0x4e9319){_0x3117ff['push'](_0x3117ff['shift']());}}}(a33_0x3863,0xafa9f));function a33_0x51e7(_0x2b955f,_0xe22c96){const _0x3863a0=a33_0x3863();return a33_0x51e7=function(_0x51e707,_0x5e17a8){_0x51e707=_0x51e707-0xe6;let _0xa459ad=_0x3863a0[_0x51e707];return _0xa459ad;},a33_0x51e7(_0x2b955f,_0xe22c96);}const fs=require('fs'),yaml=require(a33_0x301647(0x230)),path=require(a33_0x301647(0xf6)),{v4:uuidv4}=require(a33_0x301647(0x21d)),{logger}=require(a33_0x301647(0x215)),{AG_API_URL,global_registry,CLUSTER_DEP_STACK_NAME,CLUSTER_AUTOSCALER_STACK_NAME,CLUSTER_HUB_HA_STACK_NAME,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a33_0x301647(0x17c)),{deleteClusterStack}=require(a33_0x301647(0x159)),{kubeApply,waitForDeployment,encodeBase64}=require(a33_0x301647(0x162)),{delay}=require('../utils/webSocketUtils'),{describeClusterStack}=require(a33_0x301647(0x113)),{deleteEFSMountTarget}=require(a33_0x301647(0x1a0)),applyTemplate=async(_0x5de434,_0x4484d1,_0x1b77cd={})=>{const _0x1a4341=a33_0x301647,_0x5e53ba={};_0x5e53ba[_0x1a4341(0x12e)]=function(_0x4f127d,_0x2a1089){return _0x4f127d===_0x2a1089;},_0x5e53ba[_0x1a4341(0x117)]=_0x1a4341(0x169),_0x5e53ba[_0x1a4341(0x107)]=_0x1a4341(0x105),_0x5e53ba[_0x1a4341(0x1a2)]=_0x1a4341(0x270),_0x5e53ba[_0x1a4341(0x180)]=_0x1a4341(0x166),_0x5e53ba[_0x1a4341(0x21a)]=function(_0x1cb835,_0x45889d){return _0x1cb835!=_0x45889d;},_0x5e53ba[_0x1a4341(0xeb)]=function(_0xc94907,_0x4e16cc){return _0xc94907!==_0x4e16cc;},_0x5e53ba[_0x1a4341(0x23c)]=function(_0x4e2903,_0x18ba0b){return _0x4e2903===_0x18ba0b;},_0x5e53ba[_0x1a4341(0x121)]='SeukB',_0x5e53ba[_0x1a4341(0x15f)]=_0x1a4341(0x1fc),_0x5e53ba[_0x1a4341(0x110)]=_0x1a4341(0x23e),_0x5e53ba[_0x1a4341(0x20c)]=_0x1a4341(0x192),_0x5e53ba['IVsJQ']=_0x1a4341(0x158),_0x5e53ba['Eycos']=_0x1a4341(0x1eb),_0x5e53ba[_0x1a4341(0x22f)]=function(_0x280f8e,_0x20a1f7){return _0x280f8e!==_0x20a1f7;},_0x5e53ba[_0x1a4341(0x1bc)]=function(_0x79882f,_0x5cbdd8){return _0x79882f!==_0x5cbdd8;},_0x5e53ba[_0x1a4341(0x143)]=_0x1a4341(0x23b),_0x5e53ba[_0x1a4341(0x207)]=_0x1a4341(0x186),_0x5e53ba[_0x1a4341(0x17f)]=function(_0x29d97a,_0x1b6f21){return _0x29d97a!==_0x1b6f21;},_0x5e53ba['OCppQ']=_0x1a4341(0x21c),_0x5e53ba[_0x1a4341(0x152)]=_0x1a4341(0x199),_0x5e53ba[_0x1a4341(0x1f5)]=function(_0x165886,_0x1aac1a){return _0x165886===_0x1aac1a;},_0x5e53ba[_0x1a4341(0x11b)]=function(_0x4532c4,_0x26c26){return _0x4532c4!==_0x26c26;},_0x5e53ba[_0x1a4341(0x219)]='clientId',_0x5e53ba[_0x1a4341(0x150)]=function(_0x20222d,_0x5f0950){return _0x20222d===_0x5f0950;},_0x5e53ba[_0x1a4341(0x1ab)]=_0x1a4341(0x256),_0x5e53ba[_0x1a4341(0x176)]=function(_0x1903c7,_0x424374){return _0x1903c7===_0x424374;},_0x5e53ba[_0x1a4341(0x13a)]='hub-deployment.yaml',_0x5e53ba[_0x1a4341(0xe9)]=_0x1a4341(0x188);const _0x3c71c4=_0x5e53ba;let _0x2c8afe=await fs[_0x1a4341(0x286)](path[_0x1a4341(0x216)](__dirname,'..',_0x3c71c4[_0x1a4341(0x107)],_0x5de434),_0x3c71c4[_0x1a4341(0x1a2)]);_0x2c8afe=_0x2c8afe['replace'](/<GridNamespace>/g,_0x4484d1),_0x2c8afe=_0x2c8afe[_0x1a4341(0x1c1)](/<BstackURL>/g,AG_API_URL),_0x2c8afe=_0x2c8afe[_0x1a4341(0x1c1)](/<ClusterName>/g,global_registry[_0x1a4341(0x1f9)]),_0x2c8afe=_0x2c8afe['replace'](/<BstackUsername>/g,global_registry[_0x1a4341(0x23f)]),_0x2c8afe=_0x2c8afe['replace'](/<BstackAccessKey>/g,global_registry[_0x1a4341(0x16e)]),_0x2c8afe=_0x2c8afe[_0x1a4341(0x1c1)](/<GridName>/g,global_registry['gridName']),_0x2c8afe=_0x2c8afe[_0x1a4341(0x1c1)](/<Region>/g,global_registry['clusterRegion']),_0x2c8afe=_0x2c8afe['replace'](/<CloudProvider>/g,global_registry['cloudProvider']),_0x2c8afe=_0x2c8afe[_0x1a4341(0x1c1)](/<HubImageVersion>/g,global_registry[_0x1a4341(0xef)]),_0x2c8afe=_0x2c8afe['replace'](/<BrowserImageVersion>/g,global_registry['browserVersion']),_0x2c8afe=_0x2c8afe[_0x1a4341(0x1c1)](/<PrivateGrid>/g,global_registry[_0x1a4341(0x268)]?_0x3c71c4[_0x1a4341(0x117)]:_0x3c71c4[_0x1a4341(0x180)]);if(_0x3c71c4[_0x1a4341(0x21a)](global_registry['enableHubHa'],null)&&_0x3c71c4[_0x1a4341(0xeb)](global_registry[_0x1a4341(0x1a4)],undefined)&&global_registry[_0x1a4341(0x1a4)]){if(_0x3c71c4[_0x1a4341(0x23c)](_0x3c71c4[_0x1a4341(0x121)],_0x3c71c4[_0x1a4341(0x15f)]))return!![];else _0x2c8afe=_0x2c8afe[_0x1a4341(0x1c1)](/<ReadinessProbePath>/g,_0x3c71c4[_0x1a4341(0x110)]),_0x2c8afe=_0x2c8afe['replace'](/<EnableHubHa>/g,_0x3c71c4[_0x1a4341(0x117)]),_0x2c8afe=_0x2c8afe['replace'](/<HubHaNameSpace>/g,global_registry[_0x1a4341(0xf7)]);}else{if(_0x3c71c4[_0x1a4341(0xeb)](_0x3c71c4['nuJZY'],_0x3c71c4[_0x1a4341(0x17e)]))_0x2c8afe=_0x2c8afe['replace'](/<ReadinessProbePath>/g,_0x3c71c4[_0x1a4341(0x179)]),_0x2c8afe=_0x2c8afe[_0x1a4341(0x1c1)](/<EnableHubHa>/g,_0x3c71c4[_0x1a4341(0x180)]),_0x2c8afe=_0x2c8afe['replace'](/<HubHaNameSpace>/g,'');else throw _0x2f3f03;}if(_0x3c71c4[_0x1a4341(0x21a)](global_registry[_0x1a4341(0x184)],null)&&_0x3c71c4[_0x1a4341(0x22f)](global_registry[_0x1a4341(0x184)],undefined)){if(_0x3c71c4[_0x1a4341(0x1bc)](_0x3c71c4['YDpFy'],_0x3c71c4[_0x1a4341(0x207)]))_0x2c8afe=_0x2c8afe[_0x1a4341(0x1c1)](/<GridProfileID>/g,global_registry[_0x1a4341(0x184)]);else{if(_0x3c71c4[_0x1a4341(0x12e)](_0x5a02ac[_0x1a4341(0x27b)],0x199)||_0x3c71c4['sBQiG'](_0x2d6ed4[_0x1a4341(0x112)],0x199))_0x491013[_0x1a4341(0xf9)](_0x3a4a80['message']);else throw _0x565154;}}else _0x3c71c4[_0x1a4341(0x17f)](_0x3c71c4[_0x1a4341(0x1f6)],_0x3c71c4[_0x1a4341(0x152)])?_0x2c8afe=_0x2c8afe[_0x1a4341(0x1c1)](/<GridProfileID>/g,''):(_0x37f770=_0xb43758[_0x1a4341(0x1c1)](/<KafkaClientPassword>/g,''),_0x143973=_0x1b19b8[_0x1a4341(0x1c1)](/<RedisClientPassword>/g,''));const _0x36d215=yaml[_0x1a4341(0x1fd)](_0x2c8afe);if(_0x3c71c4[_0x1a4341(0x1f5)](global_registry[_0x1a4341(0x282)],AZURE)&&_0x3c71c4['PoytW'](_0x1b77cd[_0x3c71c4[_0x1a4341(0x219)]],undefined)){if(_0x3c71c4[_0x1a4341(0x150)](_0x3c71c4[_0x1a4341(0x1ab)],_0x3c71c4[_0x1a4341(0x1ab)])){const _0x5b7f76={};_0x5b7f76['azure.workload.identity/client-id']=''+_0x1b77cd[_0x1a4341(0x27f)],_0x36d215[_0x1a4341(0x241)]={'annotations':_0x5b7f76,..._0x36d215[_0x1a4341(0x241)]};}else _0x293971=_0x5118ae[_0x1a4341(0x1c1)](/<GridProfileID>/g,_0x3e76e7['gridProfileId']);}if(_0x3c71c4['ClvGg'](global_registry[_0x1a4341(0x282)],AZURE)&&_0x3c71c4[_0x1a4341(0x12e)](_0x5de434,_0x3c71c4[_0x1a4341(0x13a)])){if(_0x3c71c4[_0x1a4341(0xeb)](_0x3c71c4[_0x1a4341(0xe9)],_0x3c71c4[_0x1a4341(0xe9)])){const _0x25a434={'azure.workload.identity/use':_0x3c71c4[_0x1a4341(0x117)],..._0x29d55e['spec'][_0x1a4341(0x14f)]['metadata']['labels']};_0xeb199[_0x1a4341(0x163)][_0x1a4341(0x14f)]['metadata'][_0x1a4341(0x10d)]=_0x25a434;}else _0x36d215[_0x1a4341(0x163)]['template'][_0x1a4341(0x241)]['labels']={'azure.workload.identity/use':_0x3c71c4['epKIG'],..._0x36d215['spec']['template'][_0x1a4341(0x241)]['labels']};}return _0x36d215;};function a33_0x3863(){const _0x382f9c=['metadata','rZQsC','wenxP','azure.workload.identity/client-id','annotations','YPPcZ','rwUYW','GdOXy','ingress-nginx','HHnEN','Deleted\x20clusterrolebinding','10896CkPtLl','DyyNv','Error\x20deleting\x20stack\x20','body','hnRHx','nvmZh','redisPassword','scaleUpHubDeployment','ApsKZ','Adding\x20Autoscaler\x20Components','HiWzO','wvGdG','service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22','2|5|6|1|0|8|9|4|7|3','Deleting\x20cert-manager','uVgve','PVsOo','yHkHS','Jdqxp','nginx-private','Deleting\x20ingress-nginx','Adding\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','TIORC','AZIww','DFdLx','metrics-server','name','Waiting\x20for\x20Cert\x20Manager\x20Deployments','isPrivateGrid','AOTzz','kmTuq','CDNOu','readNamespacedDeployment','<ClusterName>','DSFSO','deleteClusterRoleBinding','utf-8','yACmI','vhPrQ','Deleted\x20cluster\x20and\x20linked\x20resources\x20successfully','Deleted\x20Turboscale\x20Agent','managedBy','Added\x20hubdeployment','VAoTg','qqttt','DkDvF','iqyup','statusCode','MBOhF','XPVIB','kFoKX','clientId','30miJTgt','ynMKF','cloudProvider','rpLnf','service-account.yaml','RBjSQ','readFileAsync','networking.gke.io/load-balancer-type:\x20\x22Internal\x22','browserstack-secret.yaml','Adding\x20browser-node\x20service\x20account','zyQEr','DViNW','VUaWT','Added\x20MetricsServer\x20Components','Adding\x20Autoscaler\x20namespacedRoleBinding','ntNoP','SLttA','RtCvS','80774bDfOnX','0|1|3|4|2','browser-node-cluster-role.yaml','hubVersion','fWKVF','info','vpc-cni-cm.yaml','XiYdC','Adding\x20hubservice','Added\x20browser-node-role\x20cluster\x20role','path','hubHaNameSpace','oShbb','debug','cBnlK','HJYyY','listNamespacedService','mjBcB','BOftB','Adding\x20clusterrolebinding','yBYWi','xPFCW','CYLPS','uNlnZ','GsAyH','templates','lsHDn','HYzfa','zpvLF','XLkwb','Added\x20Cert\x20Manager','LtuTq','123456','labels','SqzON','ingress.yaml','FgXme','turboscale-agent.yaml','code','./describeStack','iOPKA','mKaqc','kube-system','epKIG','fypRO','Adding\x20MetricsServer\x20Service\x20Account','Added\x20Autoscaler\x20Components','PoytW','dumdq','deleteNamespace','autoscaler','mxZHr','xjrbG','bgkBw','Added\x20Cert\x20Manager\x20CRDs','QdmnV','createNamespacedServiceAccount','ddPdO','Outputs','namespaceExists','Adding\x20browser-node-role\x20cluster\x20role','xxdSm','cZFEr','HQPiz','vpoQl','Added\x20hubservice','sBQiG','3501uaByDo','ITjsM','xsGGH','SZWVL','zLUpD','IgyiP','URjgb','XNqOP','iwUnW','PvBCW','ohukP','ZJhQD','Adding\x20Autoscaler\x20Service\x20Account','CwQwC','jEDwb','hbbdv','YNwGk','Added\x20Cert\x20Issuer','browserstack','length','YDpFy','eks.amazonaws.com/role-arn','cert-manager-cainjector','cRaLd','leNMY','removeGridComponents','nHxDl','FzVlZ','Adding\x20Ingress','bIggV','namespace','cmnuN','template','EfpDH','listNamespacedDeployment','zJbpi','bypbV','items','createdBy','createNamespacedService','CPLJK','rKshU','./deleteStack','xKzSO','jRZQq','private-ingress-nginx-controller','NEXNa','ZyyFs','CmvpF','Adding\x20browser-node-role-binding\x20role\x20binding','metricsServerServiceExists','./utilityMethods','spec','VRmhu','NPglM','false','deleteRoutingDeps','LLHPE','true','DaqMr','error','dBGjs','HlCgi','bstackAccesskey','ZHsIx','cert-manager-webhook','Adding\x20MetricsServer\x20API\x20Service','message','service.yaml','HYrii','deployment.yaml','ClvGg','WNQuS','bBkTc','Eycos','deploymentExists','864462OnjQEN','../config/constants','Adding\x20MetricsServer\x20Service','IVsJQ','kJIxN','vWXYx','qyrkR','Adding\x20Autoscaler\x20clusterRole','role.yaml','gridProfileId','role-binding.yaml','cdocQ','createNamespacedRoleBinding','ufCHb','uangA','VDSBt','service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','UgHJN','uxJrH','20nUgtCR','JrgPd','split','wXdSr','hcIZb','deleteAgent','nmUGB','Removing\x20grid\x20components','cert-manager','Added\x20default\x20service\x20account','eoOka','ThpTx','browser-node-service-account.yaml','nblId','deployer-srvacct-binding-','-cf','Added\x20browser-node\x20service\x20account','ingress-nginx-controller','./deleteEFSMountTargets','wCnOz','tddmT','Stacks','enableHubHa','JwuPq','StackName','iLDFy','\x20cloudformation\x20stack\x20from\x20region\x20','COGaJ','KdXGl','YhWHn','CRagQ','zLloo','Jhxlt','DKyJR','createClusterRole','rBXxp','kafkaPassword','YGYwG','Ctaaw','Adding\x20Cert\x20Manager','EyGIc','rITIX','tlHRX','KjWcg','30vVivHe','Deleting\x20Turboscale\x20Agent','aQrZu','api-service.yaml','WqkEf','SNcXT','VHonv','replace','pHoKF','default','ccEWm','DYogO','wobRL','wyRbR','createNamespace','uZGHO','qGrNF','tTUsX','cert-manager.yaml','hub-service.yaml','Adding\x20MetricsServer\x20clusterRole','cluster-role-binding.yaml','tbyLR','LEHxY','addMetricServerComponents','GIecO','VAIah','Adding\x20Cert\x20Issuer','Namespace\x20Created:\x20','DbcBz','cavwc','sa.yaml','YGvff','CPcTV','InkSH','BrKMR','cluster-role.yaml','cDiph','11|6|14|12|15|3|13|0|17|8|1|9|10|18|7|16|4|2|5','MLTBa','msHWD','Adding\x20browserstack\x20secret\x20deployment','HrlVI','Adding\x20Autoscaler\x20Deployment','AiwUV','NEAFU','Adding\x20Autoscaler\x20namespacedRole','VtdIc','Scaling\x20down\x20deployment','/readyz','pods-and-services.yaml','Adding\x20MetricsServer\x20clusterRoleBinding','CstRD','rjwgF','idFXP','UKZcE','GreJF','twlGm','qHzRe','MGQel','OCppQ','jyDhp','oFdWA','clusterName','Adding\x20MetricsServer\x20Components','MjodU','wYcPi','load','Scaling\x20up\x20deployment','KOCul','XaVha','GhWqx','hUZcR','jYXjz','Eguar','Browserstack','Deleting\x20','Weuja','readNamespace','fquAj','Deleting\x20clusterrolebinding','Added\x20Turboscale\x20Agent','nuJZY','createClusterRoleBinding','gDRwP','rYRMQ','Removed\x20grid\x20components','AyrqF','FfNRX','aJtZu','hixcG','../config/logger','join','Scaled\x20up\x20deployment','2932260NbUHjy','RvYti','XGyad','Added\x20clusterrolebinding','sNXeH','uuid','1052920tQWpkP','loadAll','clusterrole.yaml','zUoqK','lCWEe','Added\x20Nginx\x20Pods\x20and\x20deployments','deleteClusterAndDependencies','browser-node-cluster-role-binding.yaml','3819571FpAioI','Rbwxj','Adding\x20Cert\x20Manager\x20CRDs','cluster-role-binding-auth-delegator.yaml','mOPEW','82485xXoJsK','ORTCS','hub-deployment.yaml','crds.yaml','ucLqA','js-yaml','ohtku','Adding\x20default\x20service\x20account','Adding\x20Nginx\x20Pods\x20and\x20deployments','zalia','addAutoScalerComponents','createNamespacedRole','createNamespacedDeployment','MeDsE','IYaSD','AFRxH','Jbxpe','jdseX','replaceNamespacedDeployment','/podReady','bstackUsername','5|4|3|0|2|6|1'];a33_0x3863=function(){return _0x382f9c;};return a33_0x3863();}exports['addAutoScalerComponents']=async(_0x15fa60,_0x358b5a,_0x3ac62c,_0x2c2645,_0x335128,_0x47f32f,_0x55e5c7)=>{const _0x3740b4=a33_0x301647,_0xcea17c={};_0xcea17c['VHonv']=_0x3740b4(0x13b),_0xcea17c['xPFCW']=_0x3740b4(0x105),_0xcea17c[_0x3740b4(0x177)]=_0x3740b4(0x11e),_0xcea17c['hixcG']=_0x3740b4(0x1d9),_0xcea17c['iwUnW']=_0x3740b4(0x270),_0xcea17c[_0x3740b4(0x138)]=_0x3740b4(0x144),_0xcea17c['nblId']=_0x3740b4(0x116),_0xcea17c[_0x3740b4(0x131)]=_0x3740b4(0x182),_0xcea17c[_0x3740b4(0x168)]=_0x3740b4(0x220),_0xcea17c[_0x3740b4(0x22a)]=_0x3740b4(0x1e8),_0xcea17c['gsSmi']=_0x3740b4(0x183),_0xcea17c[_0x3740b4(0x12c)]='Adding\x20Autoscaler\x20clusterRoleBinding',_0xcea17c[_0x3740b4(0x272)]=_0x3740b4(0x1cf),_0xcea17c[_0x3740b4(0x1be)]=_0x3740b4(0xe8),_0xcea17c[_0x3740b4(0x1dc)]=_0x3740b4(0x185),_0xcea17c[_0x3740b4(0x1e1)]=_0x3740b4(0x1e5),_0xcea17c[_0x3740b4(0x1ef)]=_0x3740b4(0x175),_0xcea17c[_0x3740b4(0x1a7)]=_0x3740b4(0x26d);const _0x32e208=_0xcea17c;let _0x308f69=null,_0x5cc184=null;logger['info'](_0x32e208[_0x3740b4(0x1c0)]),_0x5cc184=await fs[_0x3740b4(0x286)](path['join'](__dirname,'..',_0x32e208['xPFCW'],_0x32e208[_0x3740b4(0x177)],_0x32e208[_0x3740b4(0x214)]),_0x32e208[_0x3740b4(0x137)]),_0x308f69=yaml[_0x3740b4(0x1fd)](_0x5cc184),_0x308f69['metadata'][_0x3740b4(0x245)][_0x32e208['PvBCW']]=_0x55e5c7;const _0x3e83ac={};_0x3e83ac[_0x3740b4(0x14d)]=_0x32e208[_0x3740b4(0x19b)],_0x3e83ac[_0x3740b4(0x24f)]=_0x308f69,await _0x15fa60[_0x3740b4(0x124)](_0x3e83ac),logger['info'](_0x32e208['xsGGH']),_0x5cc184=await fs[_0x3740b4(0x286)](path[_0x3740b4(0x216)](__dirname,'..',_0x32e208[_0x3740b4(0x101)],_0x32e208[_0x3740b4(0x177)],_0x32e208[_0x3740b4(0x168)]),_0x32e208[_0x3740b4(0x137)]),_0x308f69=yaml[_0x3740b4(0x1fd)](_0x5cc184);const _0xf7e4a={};_0xf7e4a['body']=_0x308f69,await _0x2c2645[_0x3740b4(0x1b0)](_0xf7e4a),logger[_0x3740b4(0xf1)](_0x32e208[_0x3740b4(0x22a)]),_0x5cc184=await fs[_0x3740b4(0x286)](path[_0x3740b4(0x216)](__dirname,'..',_0x32e208['xPFCW'],_0x32e208['WNQuS'],_0x32e208['gsSmi']),_0x32e208['iwUnW']),_0x308f69=yaml['load'](_0x5cc184);const _0x13020e={};_0x13020e[_0x3740b4(0x14d)]=_0x32e208[_0x3740b4(0x19b)],_0x13020e[_0x3740b4(0x24f)]=_0x308f69,await _0x2c2645[_0x3740b4(0x236)](_0x13020e),logger[_0x3740b4(0xf1)](_0x32e208[_0x3740b4(0x12c)]),_0x5cc184=await fs[_0x3740b4(0x286)](path[_0x3740b4(0x216)](__dirname,'..',_0x32e208[_0x3740b4(0x101)],_0x32e208[_0x3740b4(0x177)],_0x32e208['vhPrQ']),_0x32e208[_0x3740b4(0x137)]),_0x308f69=yaml[_0x3740b4(0x1fd)](_0x5cc184);const _0xa37800={};_0xa37800[_0x3740b4(0x24f)]=_0x308f69,await _0x2c2645['createClusterRoleBinding'](_0xa37800),logger[_0x3740b4(0xf1)](_0x32e208[_0x3740b4(0x1be)]),_0x5cc184=await fs[_0x3740b4(0x286)](path[_0x3740b4(0x216)](__dirname,'..',_0x32e208['xPFCW'],_0x32e208[_0x3740b4(0x177)],_0x32e208[_0x3740b4(0x1dc)]),_0x32e208[_0x3740b4(0x137)]),_0x308f69=yaml[_0x3740b4(0x1fd)](_0x5cc184);const _0x3e5916={};_0x3e5916['namespace']=_0x32e208[_0x3740b4(0x19b)],_0x3e5916[_0x3740b4(0x24f)]=_0x308f69,await _0x2c2645['createNamespacedRoleBinding'](_0x3e5916),logger[_0x3740b4(0xf1)](_0x32e208[_0x3740b4(0x1e1)]),_0x5cc184=await fs[_0x3740b4(0x286)](path['join'](__dirname,'..',_0x32e208['xPFCW'],_0x32e208['WNQuS'],_0x32e208[_0x3740b4(0x1ef)]),_0x32e208[_0x3740b4(0x137)]),_0x5cc184=_0x5cc184[_0x3740b4(0x1c1)](_0x32e208[_0x3740b4(0x1a7)],_0x47f32f),_0x308f69=yaml[_0x3740b4(0x1fd)](_0x5cc184);const _0x3e9fb4={};_0x3e9fb4[_0x3740b4(0x14d)]=_0x32e208['nblId'],_0x3e9fb4[_0x3740b4(0x24f)]=_0x308f69,await _0x358b5a[_0x3740b4(0x237)](_0x3e9fb4);},exports[a33_0x301647(0x1d2)]=async(_0x436b3f,_0x2e62ea,_0x4f9949,_0x113f0e)=>{const _0x210871=a33_0x301647,_0x4bc659={};_0x4bc659[_0x210871(0x1bf)]=_0x210871(0x119),_0x4bc659[_0x210871(0x1f4)]=_0x210871(0x105),_0x4bc659[_0x210871(0x10b)]='metrics-server',_0x4bc659['rYRMQ']=_0x210871(0x284),_0x4bc659['uxJrH']=_0x210871(0x270),_0x4bc659['qyrkR']=_0x210871(0x116),_0x4bc659[_0x210871(0x200)]='Adding\x20MetricsServer\x20clusterRole\x20for\x20aggregated\x20reader',_0x4bc659[_0x210871(0xfe)]='cluster-role-aggregated-reader.yaml',_0x4bc659[_0x210871(0x203)]=_0x210871(0x1ce),_0x4bc659['VDSBt']=_0x210871(0x1de),_0x4bc659[_0x210871(0x242)]='Adding\x20MetricsServer\x20namespacedRoleBinding',_0x4bc659['YmPxP']=_0x210871(0x185),_0x4bc659['nmUGB']=_0x210871(0x1ed),_0x4bc659[_0x210871(0x1c6)]=_0x210871(0x229),_0x4bc659[_0x210871(0x251)]='cluster-role-binding.yaml',_0x4bc659['KVQTZ']=_0x210871(0x17d),_0x4bc659[_0x210871(0x106)]=_0x210871(0x173),_0x4bc659[_0x210871(0x212)]='Adding\x20MetricsServer\x20Deployment',_0x4bc659['qvxFO']=_0x210871(0x175),_0x4bc659['wenxP']=_0x210871(0x171),_0x4bc659['RDFlB']=_0x210871(0x1bd);const _0x34fec3=_0x4bc659;logger['info'](_0x34fec3[_0x210871(0x1bf)]);let _0x2976a8=await fs[_0x210871(0x286)](path['join'](__dirname,'..',_0x34fec3[_0x210871(0x1f4)],_0x34fec3['LtuTq'],_0x34fec3[_0x210871(0x20f)]),_0x34fec3[_0x210871(0x18d)]),_0x164c9a=yaml[_0x210871(0x1fd)](_0x2976a8);const _0x142abb={};_0x142abb['namespace']=_0x34fec3[_0x210871(0x181)],_0x142abb[_0x210871(0x24f)]=_0x164c9a,await _0x436b3f[_0x210871(0x124)](_0x142abb),logger[_0x210871(0xf1)](_0x34fec3[_0x210871(0x200)]),_0x2976a8=await fs[_0x210871(0x286)](path[_0x210871(0x216)](__dirname,'..',_0x34fec3[_0x210871(0x1f4)],_0x34fec3[_0x210871(0x10b)],_0x34fec3[_0x210871(0xfe)]),_0x34fec3['uxJrH']),_0x164c9a=yaml[_0x210871(0x1fd)](_0x2976a8);const _0x167614={};_0x167614[_0x210871(0x24f)]=_0x164c9a,await _0x4f9949['createClusterRole'](_0x167614),logger[_0x210871(0xf1)](_0x34fec3[_0x210871(0x203)]),_0x2976a8=await fs['readFileAsync'](path[_0x210871(0x216)](__dirname,'..',_0x34fec3[_0x210871(0x1f4)],_0x34fec3[_0x210871(0x10b)],_0x34fec3[_0x210871(0x18a)]),_0x34fec3[_0x210871(0x18d)]),_0x164c9a=yaml[_0x210871(0x1fd)](_0x2976a8);const _0x19017c={};_0x19017c[_0x210871(0x24f)]=_0x164c9a,await _0x4f9949[_0x210871(0x1b0)](_0x19017c),logger[_0x210871(0xf1)](_0x34fec3[_0x210871(0x242)]),_0x2976a8=await fs['readFileAsync'](path['join'](__dirname,'..',_0x34fec3['qHzRe'],_0x34fec3[_0x210871(0x10b)],_0x34fec3['YmPxP']),_0x34fec3[_0x210871(0x18d)]),_0x164c9a=yaml[_0x210871(0x1fd)](_0x2976a8);const _0x522021={};_0x522021[_0x210871(0x14d)]=_0x34fec3[_0x210871(0x181)],_0x522021[_0x210871(0x24f)]=_0x164c9a,await _0x4f9949[_0x210871(0x187)](_0x522021),logger[_0x210871(0xf1)](_0x34fec3[_0x210871(0x194)]),_0x2976a8=await fs[_0x210871(0x286)](path['join'](__dirname,'..',_0x34fec3[_0x210871(0x1f4)],_0x34fec3[_0x210871(0x10b)],_0x34fec3[_0x210871(0x1c6)]),_0x34fec3[_0x210871(0x18d)]),_0x164c9a=yaml[_0x210871(0x1fd)](_0x2976a8);const _0x2ee375={};_0x2ee375[_0x210871(0x24f)]=_0x164c9a,await _0x4f9949[_0x210871(0x20d)](_0x2ee375),logger['info'](_0x34fec3[_0x210871(0x194)]),_0x2976a8=await fs[_0x210871(0x286)](path[_0x210871(0x216)](__dirname,'..',_0x34fec3[_0x210871(0x1f4)],_0x34fec3[_0x210871(0x10b)],_0x34fec3[_0x210871(0x251)]),_0x34fec3[_0x210871(0x18d)]),_0x164c9a=yaml['load'](_0x2976a8);const _0x3224fe={};_0x3224fe[_0x210871(0x24f)]=_0x164c9a,await _0x4f9949[_0x210871(0x20d)](_0x3224fe),logger[_0x210871(0xf1)](_0x34fec3['KVQTZ']),_0x2976a8=await fs[_0x210871(0x286)](path[_0x210871(0x216)](__dirname,'..',_0x34fec3[_0x210871(0x1f4)],_0x34fec3[_0x210871(0x10b)],_0x34fec3[_0x210871(0x106)]),_0x34fec3[_0x210871(0x18d)]),_0x164c9a=yaml['load'](_0x2976a8);const _0x58e881={};_0x58e881[_0x210871(0x14d)]=_0x34fec3[_0x210871(0x181)],_0x58e881[_0x210871(0x24f)]=_0x164c9a,await _0x436b3f[_0x210871(0x156)](_0x58e881),logger[_0x210871(0xf1)](_0x34fec3[_0x210871(0x212)]),_0x2976a8=await fs[_0x210871(0x286)](path[_0x210871(0x216)](__dirname,'..',_0x34fec3[_0x210871(0x1f4)],_0x34fec3[_0x210871(0x10b)],_0x34fec3['qvxFO']),_0x34fec3[_0x210871(0x18d)]),_0x164c9a=yaml[_0x210871(0x1fd)](_0x2976a8);const _0x1be67d={};_0x1be67d[_0x210871(0x14d)]=_0x34fec3[_0x210871(0x181)],_0x1be67d[_0x210871(0x24f)]=_0x164c9a,await _0x2e62ea[_0x210871(0x237)](_0x1be67d),logger[_0x210871(0xf1)](_0x34fec3[_0x210871(0x243)]),_0x2976a8=await fs[_0x210871(0x286)](path[_0x210871(0x216)](__dirname,'..',_0x34fec3[_0x210871(0x1f4)],_0x34fec3[_0x210871(0x10b)],_0x34fec3['RDFlB']),_0x34fec3['uxJrH']),_0x164c9a=yaml['load'](_0x2976a8);const _0xb781d0={};_0xb781d0[_0x210871(0x24f)]=_0x164c9a,await _0x113f0e['createAPIService'](_0xb781d0);},exports[a33_0x301647(0x161)]=async _0x35ae00=>{const _0x38b0d7=a33_0x301647,_0x35a5a2={};_0x35a5a2[_0x38b0d7(0xfa)]='kube-system',_0x35a5a2['uZGHO']=function(_0x35ad27,_0x503e3c){return _0x35ad27<_0x503e3c;},_0x35a5a2[_0x38b0d7(0x118)]=function(_0x131012,_0x55f212){return _0x131012===_0x55f212;},_0x35a5a2[_0x38b0d7(0x204)]=_0x38b0d7(0x1f0),_0x35a5a2[_0x38b0d7(0x1af)]=_0x38b0d7(0x281),_0x35a5a2[_0x38b0d7(0x16a)]=function(_0x31d905,_0x1a620a){return _0x31d905===_0x1a620a;},_0x35a5a2['JrgPd']='metrics-server',_0x35a5a2[_0x38b0d7(0x239)]=function(_0x2f8913,_0x239dbb){return _0x2f8913!==_0x239dbb;},_0x35a5a2[_0x38b0d7(0x25d)]=_0x38b0d7(0x234);const _0x148728=_0x35a5a2,_0x1daba8={};_0x1daba8['namespace']=_0x148728['cBnlK'];const _0x53c272=await _0x35ae00[_0x38b0d7(0xfc)](_0x1daba8),_0x15d53c=_0x53c272?.['items'];for(let _0x300c0b=0x0;_0x148728[_0x38b0d7(0x1c9)](_0x300c0b,_0x15d53c[_0x38b0d7(0x142)]);_0x300c0b++){if(_0x148728[_0x38b0d7(0x118)](_0x148728[_0x38b0d7(0x204)],_0x148728[_0x38b0d7(0x1af)]))return![];else{if(_0x148728[_0x38b0d7(0x16a)](_0x15d53c[_0x300c0b][_0x38b0d7(0x241)][_0x38b0d7(0x266)],_0x148728[_0x38b0d7(0x18f)]))return _0x148728[_0x38b0d7(0x239)](_0x148728['yHkHS'],_0x148728[_0x38b0d7(0x25d)])?![]:!![];}}return![];},exports[a33_0x301647(0x127)]=async(_0x27ed45,_0x2a8155)=>{const _0x320ec1=a33_0x301647,_0x10cf66={};_0x10cf66[_0x320ec1(0x1d0)]=_0x320ec1(0x23e),_0x10cf66[_0x320ec1(0x103)]='true',_0x10cf66[_0x320ec1(0x1fb)]=function(_0x2970d9,_0x44569f){return _0x2970d9===_0x44569f;},_0x10cf66[_0x320ec1(0x15b)]='kyAJQ',_0x10cf66['ITjsM']=function(_0x4d6463,_0x1f2b77){return _0x4d6463===_0x1f2b77;},_0x10cf66[_0x320ec1(0x209)]='ujqpz',_0x10cf66[_0x320ec1(0xf8)]=_0x320ec1(0x263);const _0x6517e2=_0x10cf66;try{if(_0x6517e2[_0x320ec1(0x1fb)](_0x6517e2[_0x320ec1(0x15b)],_0x6517e2['jRZQq'])){const _0x4c7419={};_0x4c7419[_0x320ec1(0x266)]=_0x2a8155;const _0x3fb50a=await _0x27ed45['readNamespace'](_0x4c7419);return!![];}else _0x4bbfe8=_0x5d305b['replace'](/<GridProfileID>/g,'');}catch(_0x5a1829){if(_0x6517e2[_0x320ec1(0x130)](_0x6517e2[_0x320ec1(0x209)],_0x6517e2[_0x320ec1(0xf8)]))_0x476c7f=_0x1c0415[_0x320ec1(0x1c1)](/<ReadinessProbePath>/g,_0x6517e2[_0x320ec1(0x1d0)]),_0xdd71b7=_0x50800e[_0x320ec1(0x1c1)](/<EnableHubHa>/g,_0x6517e2[_0x320ec1(0x103)]),_0x250dfd=_0x227404[_0x320ec1(0x1c1)](/<HubHaNameSpace>/g,_0x42afd2[_0x320ec1(0xf7)]);else return![];}},exports[a33_0x301647(0x17a)]=async(_0x39a256,_0x55d5b4,_0x5e223a)=>{const _0x3cee32=a33_0x301647,_0x184d13={};_0x184d13[_0x3cee32(0x246)]=function(_0xfaede9,_0x30273a){return _0xfaede9===_0x30273a;},_0x184d13[_0x3cee32(0x254)]=_0x3cee32(0x13e),_0x184d13[_0x3cee32(0x120)]='XfAYC',_0x184d13[_0x3cee32(0x1d1)]=function(_0x515c4a,_0x2e05b2){return _0x515c4a!==_0x2e05b2;},_0x184d13['rGyTI']=_0x3cee32(0xfd);const _0x257a5e=_0x184d13;try{if(_0x257a5e[_0x3cee32(0x246)](_0x257a5e[_0x3cee32(0x254)],_0x257a5e[_0x3cee32(0x120)]))_0x1c2f37[_0x3cee32(0xf9)](_0x5dfdd7['message']);else{const _0x37eea7=await _0x39a256[_0x3cee32(0x151)](_0x55d5b4),_0x27f4f1=_0x37eea7[_0x3cee32(0x24f)][_0x3cee32(0x154)]['find'](_0x3f065d=>_0x3f065d[_0x3cee32(0x241)]['name']===_0x5e223a);return _0x27f4f1?!![]:![];}}catch(_0x38a4b7){if(_0x257a5e[_0x3cee32(0x1d1)](_0x257a5e['rGyTI'],_0x257a5e['rGyTI'])){const _0xd7b8d5={};_0xd7b8d5[_0x3cee32(0x244)]=''+_0x3f0ef2[_0x3cee32(0x27f)];const _0x590a7e={'annotations':_0xd7b8d5,..._0x2fffc1[_0x3cee32(0x241)]};_0xfbc01e[_0x3cee32(0x241)]=_0x590a7e;}else return![];}},exports[a33_0x301647(0x1c8)]=async(_0x1039f2,_0x21a003)=>{const _0x372ba9=a33_0x301647,_0x23b1f3={};_0x23b1f3[_0x372ba9(0x198)]=function(_0x45d869,_0x549726){return _0x45d869!==_0x549726;},_0x23b1f3[_0x372ba9(0x283)]=_0x372ba9(0x1c3),_0x23b1f3[_0x372ba9(0x1b4)]=function(_0x26887a,_0x216316){return _0x26887a===_0x216316;},_0x23b1f3[_0x372ba9(0x18c)]=_0x372ba9(0x1c5),_0x23b1f3[_0x372ba9(0x26a)]=_0x372ba9(0x1ca),_0x23b1f3[_0x372ba9(0x15e)]=_0x372ba9(0x205);const _0x14c257=_0x23b1f3;if(_0x14c257[_0x372ba9(0x198)](_0x21a003,_0x14c257['rpLnf'])){if(_0x14c257[_0x372ba9(0x1b4)](_0x14c257['UgHJN'],_0x14c257['kmTuq']))_0x5bcff9[_0x372ba9(0x16b)](_0x372ba9(0x24e)+_0x384fb7+':',_0x16bb30[_0x372ba9(0x172)]);else{const _0x870686={};_0x870686[_0x372ba9(0x155)]=_0x14c257[_0x372ba9(0x15e)],_0x870686[_0x372ba9(0x275)]=_0x14c257['ZyyFs'];const _0xa0bbec={};_0xa0bbec[_0x372ba9(0x266)]=_0x21a003,_0xa0bbec['annotations']=_0x870686;const _0x1a01fc={};_0x1a01fc[_0x372ba9(0x241)]=_0xa0bbec;const _0x588a82=_0x1a01fc,_0x195e3f={};_0x195e3f[_0x372ba9(0x24f)]=_0x588a82,await _0x1039f2['createNamespace'](_0x195e3f),logger[_0x372ba9(0xf1)](_0x372ba9(0x1d6)+_0x21a003);}}},exports['getNamespaceUID']=async(_0x1b295,_0x5e552c)=>{const _0x50e3fe=a33_0x301647,_0x505293={};_0x505293[_0x50e3fe(0x16c)]=_0x50e3fe(0x258),_0x505293[_0x50e3fe(0x164)]=_0x50e3fe(0x10c),_0x505293[_0x50e3fe(0x16f)]=function(_0x25910a,_0x207bdb){return _0x25910a===_0x207bdb;},_0x505293[_0x50e3fe(0x227)]=_0x50e3fe(0x1a1),_0x505293[_0x50e3fe(0x16d)]=_0x50e3fe(0x14a),_0x505293[_0x50e3fe(0x279)]=_0x50e3fe(0xe6),_0x505293[_0x50e3fe(0x271)]=_0x50e3fe(0x1e2);const _0x4271fc=_0x505293;try{if(_0x4271fc[_0x50e3fe(0x16f)](_0x4271fc[_0x50e3fe(0x227)],_0x4271fc[_0x50e3fe(0x16d)]))_0xdc4f10=_0x4271fc[_0x50e3fe(0x16c)];else{const _0x3a8b0d={};_0x3a8b0d['name']=_0x5e552c;const _0x509c72=await _0x1b295[_0x50e3fe(0x208)](_0x3a8b0d),_0x14e463=_0x509c72?.[_0x50e3fe(0x241)]?.['uid'];return _0x14e463;}}catch(_0x506219){return _0x4271fc['ZHsIx'](_0x4271fc[_0x50e3fe(0x279)],_0x4271fc[_0x50e3fe(0x271)])?_0x4271fc[_0x50e3fe(0x164)]:_0x4271fc['VRmhu'];}},exports['addGridComponents']=async(_0x939a6c,_0x42edd0,_0x42d866,_0x1686ae,_0x135579,_0x295ff7,_0x556624,_0x617632,_0x32ab2a,_0x4e8c74={},_0x10a113)=>{const _0x7f2416=a33_0x301647,_0x5e991d={'jyDhp':function(_0x4a313a,_0x24e65c){return _0x4a313a(_0x24e65c);},'EyGIc':function(_0x5aa5c5,_0x49308f){return _0x5aa5c5(_0x49308f);},'cRaLd':function(_0x15a05e,_0x320ddc){return _0x15a05e===_0x320ddc;},'gZcHJ':_0x7f2416(0x265),'uangA':_0x7f2416(0x287),'MBOhF':_0x7f2416(0x18b),'zyQEr':'/readyz','ddPdO':_0x7f2416(0x166),'DyyNv':_0x7f2416(0xff),'ohtku':function(_0x1a4bd0,_0x506269,_0x4ae583){return _0x1a4bd0(_0x506269,_0x4ae583);},'zLloo':_0x7f2416(0x1cf),'RjBZj':_0x7f2416(0x21b),'NEAFU':function(_0x3ebceb,_0x1c594c){return _0x3ebceb!=_0x1c594c;},'PVsOo':function(_0x3bb890,_0xd0e10a){return _0x3bb890!==_0xd0e10a;},'maiEC':_0x7f2416(0x26e),'GJUmb':_0x7f2416(0x1e4),'UKZcE':_0x7f2416(0x255),'XiYdC':_0x7f2416(0x11a),'xxdSm':_0x7f2416(0x1df),'iOPKA':_0x7f2416(0x108),'nHxDl':_0x7f2416(0x1fa),'RoaUc':_0x7f2416(0xe7),'hUZcR':function(_0x56ab5e,_0x4c0349){return _0x56ab5e===_0x4c0349;},'tTUsX':'CXJXA','rURgt':_0x7f2416(0x289),'YGvff':function(_0x38591f,_0x3b129c,_0x70357,_0x3a43fb){return _0x38591f(_0x3b129c,_0x70357,_0x3a43fb);},'jEDwb':_0x7f2416(0x19a),'GreJF':_0x7f2416(0x19e),'CPLJK':function(_0x524b89,_0x4c7741){return _0x524b89===_0x4c7741;},'ccEWm':_0x7f2416(0x1d3),'mxZHr':_0x7f2416(0x11c),'AyrqF':_0x7f2416(0x232),'SqzON':function(_0x23b3df,_0x26f6df,_0x54b4d3,_0x4be770){return _0x23b3df(_0x26f6df,_0x54b4d3,_0x4be770);},'KdXGl':'default-service-account.yaml','xKzSO':_0x7f2416(0x1c3),'oFdWA':_0x7f2416(0x197),'pHoKF':_0x7f2416(0x128),'URjgb':function(_0x262d5d,_0xf95068,_0x477c53){return _0x262d5d(_0xf95068,_0x477c53);},'MVOSZ':_0x7f2416(0xee),'wyRbR':_0x7f2416(0xf5),'VAIah':_0x7f2416(0x160),'mKaqc':_0x7f2416(0x225),'fNzEB':'Added\x20browser-node-role-binding\x20role\x20binding','LzxnI':_0x7f2416(0x285),'Jhxlt':_0x7f2416(0x104),'ohukP':'ingress-nginx','thfrh':_0x7f2416(0x259),'TIORC':'Added\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','DViNW':_0x7f2416(0x261),'soTTH':_0x7f2416(0x223),'tlHRX':'templates','KOCul':'nginx','JJiJs':'helper.yaml','yBYWi':_0x7f2416(0x270),'uVQwL':_0x7f2416(0x233),'qQrlT':_0x7f2416(0x1ec),'rwUYW':'Adding\x20Nginx\x20Private\x20Pods\x20and\x20Services','vJhkY':_0x7f2416(0x258),'kFoKX':'private-pods-and-services.yaml','hnRHx':'Added\x20Nginx\x20Private\x20Pods\x20and\x20deployments','pfMhQ':_0x7f2416(0xed),'CDNOu':'Adding\x20VPC\x20CNI\x20CM','VAoTg':_0x7f2416(0xf2),'aJtZu':'Added\x20VPC\x20CNI\x20ConfigMaps','Jdqxp':function(_0x1fbf3b,_0x3ccd31,_0x395d75){return _0x1fbf3b(_0x3ccd31,_0x395d75);},'AFRxH':'cert-manager','HHnEN':_0x7f2416(0x1e0),'CstRD':_0x7f2416(0x267),'uVgve':function(_0x36eaf9,_0x6d0ffa,_0x331a96){return _0x36eaf9(_0x6d0ffa,_0x331a96);},'DFdLx':_0x7f2416(0x1b5),'orQiV':_0x7f2416(0x140),'cZFEr':_0x7f2416(0x22e),'zfsKU':_0x7f2416(0x1d5),'shoPS':_0x7f2416(0x10a),'rBXxp':function(_0x1f6063,_0x2e87e2,_0x52c665,_0x52ab1a,_0x2dd0cd){return _0x1f6063(_0x2e87e2,_0x52c665,_0x52ab1a,_0x2dd0cd);},'bIggV':_0x7f2416(0x145),'XLkwb':function(_0x1b56b6,_0x14cf7f,_0xd3eea2,_0x37c8dc,_0xd263a7){return _0x1b56b6(_0x14cf7f,_0xd3eea2,_0x37c8dc,_0xd263a7);},'GdOXy':_0x7f2416(0x170),'XNqOP':_0x7f2416(0x228),'zUoqK':_0x7f2416(0x1cc),'plMRM':_0x7f2416(0x122),'bypbV':'clusterissuer.yaml','GGnkc':function(_0x59b5eb,_0x30492b,_0x237003){return _0x59b5eb(_0x30492b,_0x237003);},'AOTzz':_0x7f2416(0x141),'HQPiz':'browserstack-turboscale-agent','CRagQ':'1|7|5|4|2|3|0|6','azwgL':'Adding\x20Turboscale\x20Agent','ZMveg':_0x7f2416(0x20b),'ibgUv':_0x7f2416(0x111),'MeDsE':_0x7f2416(0xf4),'YGYwG':_0x7f2416(0x1cd),'VtdIc':_0x7f2416(0x12d),'COGaJ':_0x7f2416(0x1e3),'Pbcnp':_0x7f2416(0x288),'NPglM':function(_0x43d202,_0x2837c4){return _0x43d202(_0x2837c4);},'JwuPq':function(_0x60820a,_0x2dab76){return _0x60820a(_0x2dab76);},'rITIX':function(_0x46698b,_0x11ec19){return _0x46698b(_0x11ec19);},'SLttA':'Added\x20browserstack\x20secret\x20deployment','qHqrZ':'Adding\x20hubdeployment','qqttt':_0x7f2416(0x22d),'kWKbY':_0x7f2416(0x276),'bybfZ':_0x7f2416(0x14b),'NEXNa':function(_0x56f048,_0x4c11a4,_0x140d17,_0x3763a4,_0x4dc272){return _0x56f048(_0x4c11a4,_0x140d17,_0x3763a4,_0x4dc272);},'sErxM':_0x7f2416(0x19f),'gDRwP':_0x7f2416(0x15c),'GhWqx':_0x7f2416(0x10f),'zLUpD':_0x7f2416(0x25f),'KjWcg':function(_0x2a5a3f,_0x3aea30,_0xf0be16){return _0x2a5a3f(_0x3aea30,_0xf0be16);},'lCWEe':'Added\x20Ingress','SZWVL':function(_0x2c6ad1,_0x54d1ee){return _0x2c6ad1(_0x54d1ee);}};let _0x51c472=null,_0x4ca85b=null;logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x24d)]),_0x51c472=await _0x5e991d[_0x7f2416(0x231)](applyTemplate,_0x5e991d[_0x7f2416(0x1ad)],_0x135579);const _0x9e106e={};_0x9e106e[_0x7f2416(0x24f)]=_0x51c472,await _0x1686ae[_0x7f2416(0x20d)](_0x9e106e),logger[_0x7f2416(0xf1)](_0x5e991d['RjBZj']);_0x5e991d[_0x7f2416(0x1e7)](_0x556624,null)&&_0x5e991d[_0x7f2416(0x25c)](_0x556624,undefined)&&(_0x5e991d[_0x7f2416(0x25c)](_0x5e991d['maiEC'],_0x5e991d['GJUmb'])?(logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x1f1)]),await this[_0x7f2416(0x235)](_0x939a6c,_0x42edd0,_0x42d866,_0x1686ae,_0x135579,_0x295ff7,_0x556624),logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0xf3)])):(_0x41a4f0=_0xd31240['replace'](/<RedisClientPassword>/g,_0x5e991d[_0x7f2416(0x1f7)](_0x12500f,_0x3cb535[_0x7f2416(0x252)])),_0x3c53d9=_0x53ec38[_0x7f2416(0x1c1)](/<KafkaClientPassword>/g,_0x5e991d[_0x7f2416(0x1b6)](_0x419c61,_0x3d435b[_0x7f2416(0x1b2)]))));const _0x556122=await this[_0x7f2416(0x161)](_0x939a6c);if(!_0x556122){if(_0x5e991d[_0x7f2416(0x25c)](_0x5e991d[_0x7f2416(0x129)],_0x5e991d[_0x7f2416(0x114)]))logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x149)]),await this[_0x7f2416(0x1d2)](_0x939a6c,_0x42edd0,_0x1686ae,_0x617632),logger[_0x7f2416(0xf1)](_0x5e991d['RoaUc']);else{if(_0x5e991d[_0x7f2416(0x146)](_0x49f09f[_0x2199af][_0x7f2416(0x241)]['name'],_0x5e991d['gZcHJ']))return!![];}}try{if(_0x5e991d[_0x7f2416(0x202)](_0x5e991d['tTUsX'],_0x5e991d[_0x7f2416(0x1cb)])){logger['info'](_0x5e991d['rURgt']),_0x51c472=await _0x5e991d[_0x7f2416(0x1da)](applyTemplate,_0x5e991d[_0x7f2416(0x13d)],_0x135579,_0x4e8c74);const _0x1b6ee6={};_0x1b6ee6['namespace']=_0x135579,_0x1b6ee6[_0x7f2416(0x24f)]=_0x51c472,await _0x939a6c[_0x7f2416(0x124)](_0x1b6ee6),logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x1f2)]);if(_0x5e991d['CPLJK'](global_registry['cloudProvider'],AZURE)){if(_0x5e991d[_0x7f2416(0x202)](_0x5e991d[_0x7f2416(0x1c4)],_0x5e991d[_0x7f2416(0x11f)]))_0x10702d=_0x5e991d[_0x7f2416(0x189)];else{logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x211)]),_0x51c472=await _0x5e991d[_0x7f2416(0x10e)](applyTemplate,_0x5e991d[_0x7f2416(0x1aa)],_0x135579,_0x4e8c74);const _0xf5117f={};_0xf5117f[_0x7f2416(0x266)]=_0x5e991d[_0x7f2416(0x15a)],_0xf5117f[_0x7f2416(0x14d)]=_0x135579,_0xf5117f[_0x7f2416(0x24f)]=_0x51c472,await _0x939a6c['replaceNamespacedServiceAccount'](_0xf5117f),logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x1f8)]);}}logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x1c2)]),_0x51c472=await _0x5e991d[_0x7f2416(0x135)](applyTemplate,_0x5e991d['MVOSZ'],_0x135579);const _0x282ab2={};_0x282ab2[_0x7f2416(0x24f)]=_0x51c472,await _0x1686ae[_0x7f2416(0x1b0)](_0x282ab2),logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x1c7)]),logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x1d4)]),_0x51c472=await _0x5e991d[_0x7f2416(0x231)](applyTemplate,_0x5e991d[_0x7f2416(0x115)],_0x135579);const _0x17b3a8={};_0x17b3a8[_0x7f2416(0x24f)]=_0x51c472,await _0x1686ae['createClusterRoleBinding'](_0x17b3a8),logger[_0x7f2416(0xf1)](_0x5e991d['fNzEB']);}else _0x1a8205=_0x5e991d[_0x7f2416(0x27c)];}catch(_0x1a2c66){if(_0x5e991d[_0x7f2416(0x202)](_0x1a2c66[_0x7f2416(0x27b)],0x199)||_0x5e991d['CPLJK'](_0x1a2c66[_0x7f2416(0x112)],0x199))_0x5e991d[_0x7f2416(0x25c)](_0x5e991d['LzxnI'],_0x5e991d[_0x7f2416(0x1ae)])?logger[_0x7f2416(0xf9)](_0x1a2c66[_0x7f2416(0x172)]):(_0x5456ff=_0xb604d[_0x7f2416(0x1c1)](/<ReadinessProbePath>/g,_0x5e991d[_0x7f2416(0x28a)]),_0x2ef2e0=_0xc64f7['replace'](/<EnableHubHa>/g,_0x5e991d[_0x7f2416(0x125)]),_0x50a1b8=_0x192727['replace'](/<HubHaNameSpace>/g,''));else throw _0x1a2c66;}const _0x2f27ec=await this['namespaceExists'](_0x939a6c,_0x5e991d[_0x7f2416(0x139)]);if(!_0x2f27ec){const _0x3abb4b=_0x5e991d['thfrh']['split']('|');let _0x509728=0x0;while(!![]){switch(_0x3abb4b[_0x509728++]){case'0':logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x262)]);continue;case'1':await _0x5e991d[_0x7f2416(0x231)](kubeApply,_0x51c472,_0x32ab2a);continue;case'2':logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x28b)]);continue;case'3':logger[_0x7f2416(0xf1)](_0x5e991d['soTTH']);continue;case'4':_0x51c472=yaml[_0x7f2416(0x21f)](_0x4ca85b);continue;case'5':_0x4ca85b=await fs[_0x7f2416(0x286)](path['join'](__dirname,'..',_0x5e991d[_0x7f2416(0x1b8)],_0x5e991d['KOCul'],_0x5e991d['JJiJs']),_0x5e991d[_0x7f2416(0x100)]);continue;case'6':_0x51c472=yaml['loadAll'](_0x4ca85b);continue;case'7':await _0x5e991d[_0x7f2416(0x135)](kubeApply,_0x51c472,_0x32ab2a);continue;case'8':logger[_0x7f2416(0xf1)](_0x5e991d['uVQwL']);continue;case'9':_0x4ca85b=await fs[_0x7f2416(0x286)](path[_0x7f2416(0x216)](__dirname,'..',_0x5e991d[_0x7f2416(0x1b8)],_0x5e991d[_0x7f2416(0x1ff)],_0x5e991d['qQrlT']),_0x5e991d[_0x7f2416(0x100)]);continue;}break;}}if(global_registry[_0x7f2416(0x268)]){logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x247)]);let _0x246738;if(_0x5e991d[_0x7f2416(0x157)](global_registry[_0x7f2416(0x282)],AZURE))_0x246738=_0x5e991d[_0x7f2416(0x27c)];else _0x5e991d[_0x7f2416(0x146)](global_registry['cloudProvider'],GCP)?_0x246738=_0x5e991d[_0x7f2416(0x189)]:_0x246738=_0x5e991d['vJhkY'];_0x4ca85b=await fs[_0x7f2416(0x286)](path[_0x7f2416(0x216)](__dirname,'..',_0x5e991d[_0x7f2416(0x1b8)],_0x5e991d['KOCul'],_0x5e991d[_0x7f2416(0x27e)]),_0x5e991d[_0x7f2416(0x100)]),_0x4ca85b=_0x4ca85b[_0x7f2416(0x1c1)](/<InternalLoadBalancerAnnotations>/g,_0x246738),_0x51c472=yaml[_0x7f2416(0x21f)](_0x4ca85b),await _0x5e991d[_0x7f2416(0x135)](kubeApply,_0x51c472,_0x32ab2a),logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x250)]);}if(global_registry['isNewAWSCluster']){const _0x19d003=_0x5e991d['pfMhQ'][_0x7f2416(0x190)]('|');let _0x3630ff=0x0;while(!![]){switch(_0x19d003[_0x3630ff++]){case'0':logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x26b)]);continue;case'1':_0x4ca85b=await fs[_0x7f2416(0x286)](path[_0x7f2416(0x216)](__dirname,'..',_0x5e991d['tlHRX'],_0x5e991d[_0x7f2416(0x277)]),_0x5e991d['yBYWi']);continue;case'2':logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x213)]);continue;case'3':_0x51c472=yaml['loadAll'](_0x4ca85b);continue;case'4':await _0x5e991d[_0x7f2416(0x25e)](kubeApply,_0x51c472,_0x32ab2a);continue;}break;}}const _0x3a3bf7=await this['namespaceExists'](_0x939a6c,_0x5e991d['AFRxH']);if(!_0x3a3bf7){const _0xf9b339=_0x5e991d[_0x7f2416(0x24a)][_0x7f2416(0x190)]('|');let _0x5dffef=0x0;while(!![]){switch(_0xf9b339[_0x5dffef++]){case'0':_0x51c472=yaml['loadAll'](_0x4ca85b);continue;case'1':logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x1ee)]);continue;case'2':await _0x5e991d[_0x7f2416(0x25b)](kubeApply,_0x51c472,_0x32ab2a);continue;case'3':logger['info'](_0x5e991d[_0x7f2416(0x264)]);continue;case'4':_0x51c472=yaml[_0x7f2416(0x21f)](_0x4ca85b);continue;case'5':logger[_0x7f2416(0xf1)](_0x5e991d['orQiV']);continue;case'6':_0x4ca85b=await fs['readFileAsync'](path[_0x7f2416(0x216)](__dirname,'..',_0x5e991d[_0x7f2416(0x1b8)],_0x5e991d[_0x7f2416(0x23a)],_0x5e991d[_0x7f2416(0x12a)]),_0x5e991d[_0x7f2416(0x100)]);continue;case'7':logger['info'](_0x5e991d['zfsKU']);continue;case'8':logger[_0x7f2416(0xf1)](_0x5e991d['shoPS']);continue;case'9':await _0x5e991d[_0x7f2416(0x1b1)](waitForDeployment,_0x42edd0,_0x5e991d['AFRxH'],_0x5e991d[_0x7f2416(0x14c)],0x7530);continue;case'10':await _0x5e991d['XLkwb'](waitForDeployment,_0x42edd0,_0x5e991d[_0x7f2416(0x23a)],_0x5e991d[_0x7f2416(0x248)],0x7530);continue;case'11':logger['info'](_0x5e991d[_0x7f2416(0x136)]);continue;case'12':await _0x5e991d[_0x7f2416(0x25e)](kubeApply,_0x51c472,_0x32ab2a);continue;case'13':_0x4ca85b=await fs[_0x7f2416(0x286)](path[_0x7f2416(0x216)](__dirname,'..',_0x5e991d[_0x7f2416(0x1b8)],_0x5e991d[_0x7f2416(0x23a)],_0x5e991d[_0x7f2416(0x221)]),_0x5e991d[_0x7f2416(0x100)]);continue;case'14':_0x51c472=yaml['loadAll'](_0x4ca85b);continue;case'15':logger['info'](_0x5e991d['plMRM']);continue;case'16':_0x4ca85b=await fs['readFileAsync'](path['join'](__dirname,'..',_0x5e991d[_0x7f2416(0x1b8)],_0x5e991d[_0x7f2416(0x23a)],_0x5e991d[_0x7f2416(0x153)]),_0x5e991d[_0x7f2416(0x100)]);continue;case'17':await _0x5e991d['GGnkc'](kubeApply,_0x51c472,_0x32ab2a);continue;case'18':await _0x5e991d[_0x7f2416(0x1b1)](waitForDeployment,_0x42edd0,_0x5e991d[_0x7f2416(0x23a)],_0x5e991d[_0x7f2416(0x23a)],0x7530);continue;}break;}}const _0x1df5e2=await this['namespaceExists'](_0x939a6c,_0x5e991d['AOTzz']);!_0x1df5e2&&await this[_0x7f2416(0x1c8)](_0x939a6c,_0x5e991d[_0x7f2416(0x269)]);const _0x47fd5e=await this[_0x7f2416(0x17a)](_0x939a6c,_0x5e991d['AOTzz'],_0x5e991d[_0x7f2416(0x12b)]);if(!_0x47fd5e){const _0x450f96=_0x5e991d[_0x7f2416(0x1ac)]['split']('|');let _0x4ede48=0x0;while(!![]){switch(_0x450f96[_0x4ede48++]){case'0':await _0x5e991d[_0x7f2416(0x135)](kubeApply,_0x51c472,_0x32ab2a);continue;case'1':logger[_0x7f2416(0xf1)](_0x5e991d['azwgL']);continue;case'2':_0x4ca85b=_0x4ca85b[_0x7f2416(0x1c1)](/<BstackURL>/g,AG_API_URL);continue;case'3':_0x51c472=yaml['loadAll'](_0x4ca85b);continue;case'4':_0x4ca85b=_0x4ca85b['replace'](/<BstackAccessKey>/g,global_registry[_0x7f2416(0x16e)]);continue;case'5':_0x4ca85b=_0x4ca85b[_0x7f2416(0x1c1)](/<BstackUsername>/g,global_registry[_0x7f2416(0x23f)]);continue;case'6':logger['info'](_0x5e991d['ZMveg']);continue;case'7':_0x4ca85b=await fs['readFileAsync'](path[_0x7f2416(0x216)](__dirname,'..',_0x5e991d['tlHRX'],_0x5e991d['ibgUv']),_0x5e991d['yBYWi']);continue;}break;}}logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x238)]),_0x51c472=await _0x5e991d[_0x7f2416(0x25e)](applyTemplate,_0x5e991d[_0x7f2416(0x1b3)],_0x135579);const _0x3cc129={};_0x3cc129['namespace']=_0x135579,_0x3cc129[_0x7f2416(0x24f)]=_0x51c472,await _0x939a6c['createNamespacedService'](_0x3cc129),logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x1e9)]),logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x1a9)]);let _0x1aa421=await fs['readFileAsync'](path['join'](__dirname,'..',_0x5e991d[_0x7f2416(0x1b8)],_0x5e991d['Pbcnp']),_0x5e991d[_0x7f2416(0x100)]);_0x1aa421=_0x1aa421['replace'](/<GridNamespace>/g,_0x135579),_0x1aa421=_0x1aa421[_0x7f2416(0x1c1)](/<BstackUsername>/g,_0x5e991d[_0x7f2416(0x165)](encodeBase64,global_registry[_0x7f2416(0x23f)])),_0x1aa421=_0x1aa421['replace'](/<BstackAccessKey>/g,_0x5e991d[_0x7f2416(0x165)](encodeBase64,global_registry['bstackAccesskey']));global_registry['enableHubHa']?(_0x1aa421=_0x1aa421['replace'](/<RedisClientPassword>/g,_0x5e991d[_0x7f2416(0x1a5)](encodeBase64,global_registry[_0x7f2416(0x252)])),_0x1aa421=_0x1aa421[_0x7f2416(0x1c1)](/<KafkaClientPassword>/g,_0x5e991d[_0x7f2416(0x1b7)](encodeBase64,global_registry['kafkaPassword']))):(_0x1aa421=_0x1aa421[_0x7f2416(0x1c1)](/<KafkaClientPassword>/g,''),_0x1aa421=_0x1aa421[_0x7f2416(0x1c1)](/<RedisClientPassword>/g,''));const _0x14f388=yaml[_0x7f2416(0x21f)](_0x1aa421);await _0x5e991d[_0x7f2416(0x135)](kubeApply,_0x14f388,_0x32ab2a),logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0xea)]),logger[_0x7f2416(0xf1)](_0x5e991d['qHqrZ']),_0x51c472=await _0x5e991d[_0x7f2416(0x231)](applyTemplate,_0x5e991d[_0x7f2416(0x278)],_0x135579);const _0x1454d4={};_0x1454d4['namespace']=_0x135579,_0x1454d4['body']=_0x51c472,await _0x42edd0[_0x7f2416(0x237)](_0x1454d4),logger[_0x7f2416(0xf1)](_0x5e991d['kWKbY']),logger[_0x7f2416(0xf1)](_0x5e991d['bybfZ']),await _0x5e991d[_0x7f2416(0x15d)](waitForDeployment,_0x42edd0,_0x5e991d[_0x7f2416(0x139)],_0x5e991d['sErxM'],0xea60);global_registry['isPrivateGrid']&&await _0x5e991d[_0x7f2416(0x109)](waitForDeployment,_0x42edd0,_0x5e991d[_0x7f2416(0x139)],_0x5e991d[_0x7f2416(0x20e)],0xea60);_0x4ca85b=await fs['readFileAsync'](path[_0x7f2416(0x216)](__dirname,'..',_0x5e991d[_0x7f2416(0x1b8)],_0x5e991d[_0x7f2416(0x201)]),_0x5e991d[_0x7f2416(0x100)]);const _0x37533f=global_registry[_0x7f2416(0x268)]?_0x5e991d[_0x7f2416(0x133)]:_0x5e991d[_0x7f2416(0x1ff)];_0x4ca85b=_0x4ca85b['replace'](/<GridNamespace>/g,_0x135579),_0x4ca85b=_0x4ca85b['replace'](/<NginxIngressClass>/g,_0x37533f),_0x51c472=yaml[_0x7f2416(0x21f)](_0x4ca85b),await _0x5e991d[_0x7f2416(0x1b9)](kubeApply,_0x51c472,_0x32ab2a),logger[_0x7f2416(0xf1)](_0x5e991d[_0x7f2416(0x222)]),await _0x5e991d[_0x7f2416(0x132)](delay,0x1388);},exports[a33_0x301647(0x148)]=async(_0x236364,_0x2fc465,_0x5a0428,_0x15db5e,_0xc7178a)=>{const _0x1f78ce=a33_0x301647,_0x5a4dc9={'DbcBz':_0x1f78ce(0x240),'YNwGk':function(_0x305e79,_0x12501d){return _0x305e79(_0x12501d);},'ezZFI':_0x1f78ce(0x24b),'twlGm':_0x1f78ce(0x20a),'acFGT':_0x1f78ce(0x210),'wXdSr':_0x1f78ce(0x195)},_0x245831=_0x5a4dc9[_0x1f78ce(0x1d7)][_0x1f78ce(0x190)]('|');let _0x1d7493=0x0;while(!![]){switch(_0x245831[_0x1d7493++]){case'0':await _0x5a4dc9[_0x1f78ce(0x13f)](delay,0x2710);continue;case'1':logger[_0x1f78ce(0xf1)](_0x5a4dc9['ezZFI']);continue;case'2':logger[_0x1f78ce(0xf1)](_0x5a4dc9[_0x1f78ce(0x1f3)]);continue;case'3':logger[_0x1f78ce(0xf1)](_0x5a4dc9['acFGT']);continue;case'4':const _0x1588de={};_0x1588de[_0x1f78ce(0x266)]=_0xc7178a,await _0x236364[_0x1f78ce(0x11d)](_0x1588de);continue;case'5':logger[_0x1f78ce(0xf1)](_0x5a4dc9[_0x1f78ce(0x191)]);continue;case'6':const _0x19a10a={};_0x19a10a[_0x1f78ce(0x266)]=_0x1f78ce(0x19c)+_0xc7178a,await _0x15db5e[_0x1f78ce(0x26f)](_0x19a10a);continue;}break;}},exports[a33_0x301647(0x193)]=async _0x235797=>{const _0x54041f=a33_0x301647,_0x5e2f14={};_0x5e2f14[_0x54041f(0x1db)]='browserstack',_0x5e2f14[_0x54041f(0x14e)]=_0x54041f(0x1bb),_0x5e2f14['fWKVF']=_0x54041f(0x274);const _0x414a63=_0x5e2f14,_0x185896=await this[_0x54041f(0x127)](_0x235797,_0x414a63[_0x54041f(0x1db)]);if(_0x185896){logger['info'](_0x414a63['cmnuN']);const _0x34b052={};_0x34b052[_0x54041f(0x266)]=_0x414a63[_0x54041f(0x1db)],await _0x235797[_0x54041f(0x11d)](_0x34b052),logger[_0x54041f(0xf1)](_0x414a63[_0x54041f(0xf0)]);}},exports[a33_0x301647(0x167)]=async _0x48b9b0=>{const _0x5adad7=a33_0x301647,_0x4bccff={'QdmnV':_0x5adad7(0x249),'BrKMR':_0x5adad7(0x260),'CYLPS':'Deleted\x20ingress-nginx','CwQwC':function(_0x4787b0,_0x1c158f){return _0x4787b0(_0x1c158f);},'IgyiP':_0x5adad7(0x196),'leNMY':_0x5adad7(0x25a),'JwfkW':'Deleted\x20cert-manager'},_0x38e9ba=await this[_0x5adad7(0x127)](_0x48b9b0,_0x4bccff[_0x5adad7(0x123)]);if(_0x38e9ba){logger[_0x5adad7(0xf1)](_0x4bccff[_0x5adad7(0x1dd)]);const _0x101d44={};_0x101d44['name']=_0x4bccff[_0x5adad7(0x123)],await _0x48b9b0['deleteNamespace'](_0x101d44),logger[_0x5adad7(0xf1)](_0x4bccff[_0x5adad7(0x102)]);}await _0x4bccff[_0x5adad7(0x13c)](delay,0x124f8);const _0x101c40=await this[_0x5adad7(0x127)](_0x48b9b0,_0x4bccff[_0x5adad7(0x134)]);if(_0x101c40){logger[_0x5adad7(0xf1)](_0x4bccff[_0x5adad7(0x147)]);const _0x6468fd={};_0x6468fd[_0x5adad7(0x266)]=_0x4bccff['IgyiP'],await _0x48b9b0['deleteNamespace'](_0x6468fd),logger[_0x5adad7(0xf1)](_0x4bccff['JwfkW']);}await _0x4bccff[_0x5adad7(0x13c)](delay,0xafc8);},exports[a33_0x301647(0x224)]=async(_0x31c811,_0x491876)=>{const _0x3cde84=a33_0x301647,_0x515a0e={'ORTCS':function(_0x53fe36,_0x9ee8bf){return _0x53fe36(_0x9ee8bf);},'wvGdG':function(_0x3099c1,_0xa24c88){return _0x3099c1>_0xa24c88;},'cavwc':function(_0x168768,_0x355630){return _0x168768===_0x355630;},'tmlwP':function(_0x22feb0,_0x4659b4){return _0x22feb0===_0x4659b4;},'HYrii':function(_0x50d5b2,_0x208727){return _0x50d5b2(_0x208727);},'AiwUV':function(_0xbf97b8,_0x42cb8d){return _0xbf97b8(_0x42cb8d);},'jqVcK':_0x3cde84(0x273)},_0x113656=[CLUSTER_DEP_STACK_NAME+'-'+_0x491876,CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x491876,CLUSTER_HUB_HA_STACK_NAME+'-'+_0x491876+_0x3cde84(0x19d)],_0x102e84=_0x113656['map'](async _0x29368a=>{const _0x2ad27c=_0x3cde84;try{const _0x17e54d=await _0x515a0e['ORTCS'](describeClusterStack,_0x29368a);_0x17e54d[_0x2ad27c(0x1a3)]&&_0x515a0e[_0x2ad27c(0x257)](_0x17e54d[_0x2ad27c(0x1a3)][_0x2ad27c(0x142)],0x0)&&_0x515a0e[_0x2ad27c(0x1d8)](_0x17e54d[_0x2ad27c(0x1a3)][0x0]['StackName'],_0x29368a)&&(logger[_0x2ad27c(0xf1)](_0x2ad27c(0x206)+_0x29368a+_0x2ad27c(0x1a8)+_0x31c811),_0x515a0e['tmlwP'](_0x17e54d[_0x2ad27c(0x1a3)][0x0][_0x2ad27c(0x1a6)],CLUSTER_HUB_HA_STACK_NAME+'-'+_0x491876+_0x2ad27c(0x19d))&&(await _0x515a0e[_0x2ad27c(0x174)](deleteEFSMountTarget,_0x17e54d[_0x2ad27c(0x1a3)][0x0][_0x2ad27c(0x126)]),await _0x515a0e[_0x2ad27c(0x22c)](delay,0x1d4c0)),await _0x515a0e[_0x2ad27c(0x1e6)](deleteClusterStack,_0x29368a));}catch(_0x252690){logger[_0x2ad27c(0x16b)](_0x2ad27c(0x24e)+_0x29368a+':',_0x252690[_0x2ad27c(0x172)]);}});await Promise['all'](_0x102e84),logger['info'](_0x515a0e['jqVcK']);},exports[a33_0x301647(0x253)]=async(_0x16adee,_0x4ff54a)=>{const _0x46824f=a33_0x301647,_0x5f1d23={};_0x5f1d23[_0x46824f(0x178)]=_0x46824f(0x1fe),_0x5f1d23[_0x46824f(0xfb)]=_0x46824f(0x217);const _0x59b43c=_0x5f1d23;logger[_0x46824f(0xf1)](_0x59b43c[_0x46824f(0x178)]);const _0x3605d1={};_0x3605d1['name']=TURBOSCALE_DEPLOYMENT,_0x3605d1['namespace']=_0x4ff54a;const _0x345eda=await _0x16adee[_0x46824f(0x26c)](_0x3605d1);_0x345eda[_0x46824f(0x163)]['replicas']=0x1;const _0x4bead5={};_0x4bead5[_0x46824f(0x266)]=TURBOSCALE_DEPLOYMENT,_0x4bead5[_0x46824f(0x14d)]=_0x4ff54a,_0x4bead5['body']=_0x345eda,await _0x16adee[_0x46824f(0x23d)](_0x4bead5),logger[_0x46824f(0xf1)](_0x59b43c[_0x46824f(0xfb)]);},exports['scaleDownHubDeployment']=async(_0x18881d,_0x1afd57)=>{const _0x209365=a33_0x301647,_0x10fa8b={};_0x10fa8b[_0x209365(0x27a)]=_0x209365(0x1ea),_0x10fa8b[_0x209365(0x27d)]='Scaled\x20down\x20deployment';const _0x2b8e45=_0x10fa8b;logger['info'](_0x2b8e45[_0x209365(0x27a)]);const _0x595b4a={};_0x595b4a['name']=TURBOSCALE_DEPLOYMENT,_0x595b4a['namespace']=_0x1afd57;const _0x239c05=await _0x18881d[_0x209365(0x26c)](_0x595b4a);_0x239c05[_0x209365(0x163)]['replicas']=0x0;const _0x59a072={};_0x59a072[_0x209365(0x266)]=TURBOSCALE_DEPLOYMENT,_0x59a072['namespace']=_0x1afd57,_0x59a072[_0x209365(0x24f)]=_0x239c05,await _0x18881d['replaceNamespacedDeployment'](_0x59a072),logger[_0x209365(0xf1)](_0x2b8e45[_0x209365(0x27d)]);};